!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3cbd3bfe-9c62-4ebc-9f0d-ad0b2d7201c7",e._sentryDebugIdIdentifier="sentry-dbid-3cbd3bfe-9c62-4ebc-9f0d-ad0b2d7201c7")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[95761],{953059:function(e,n,t){var i,a,r=t(373738);a="undefined"!=typeof self?self:this,i=function(){return a.ns_=function(e){(e=e||{}).ns_=e;var n,t,i,a,o={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,n){var t={};for(var i in n)n.hasOwnProperty(i)&&e(n[i])&&(t[i]=n[i]);return t},extend:function(e){var n,t=arguments.length;e=e||{};for(var i=1;t>i;i++)if(n=arguments[i])for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);return e},getString:function(e,n){var t=String(e);return null==e?n||"na":t},getLong:function(e,n){var t=Number(e);return null==e||isNaN(t)?n||0:t},getInteger:function(e,n){var t=Number(parseInt(e));return null==e||isNaN(t)?n||0:t},getBoolean:function(e,n){var t="true"==String(e).toLowerCase();return null==e?n||!1:t},parseBoolean:function(e,n){return n=n||!1,e?"0"!=e&&void 0:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return null==e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,n){var t=-1;return this.forEach(n,(function(n,i){n==e&&(t=i)})),t},forEach:function(e,n,t){try{if("function"==typeof n)if(t=void 0!==t?t:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&n.call(t,e[a],a)}else for(var r=0,o=e.length;o>r;r++)n.call(t,e[r],r)}catch(e){}},regionMatches:function(e,n,t,i,a){if(0>n||0>i||n+a>e.length||i+a>t.length)return!1;for(;--a>=0;)if(e.charAt(n++)!=t.charAt(i++))return!1;return!0},size:function(e){var n=0;for(var t in e)e.hasOwnProperty(t)&&n++;return n},log:function(e,n){if(void 0!==n&&n&&"undefined"!=typeof console&&console){var t=new Date,i=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();console.log(i,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";");return n}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,n=arguments.length;n>e;e++){var t=arguments[e];if(t>0)return t}return 0},cloneObject:function(e){if(null==e||"object"!=r(e))return e;var n=function(){function e(){}function n(n){return"object"==r(n)?(e.prototype=n,new e):n}function t(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(n){return e.deepCopy(n)},this.depth=0}function a(e,n){var t=new i;return n&&(t.maxDepth=n),t.deepCopy(e)}function o(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var s=[];return t.prototype={constructor:t,canCopy:function(){return!1},create:function(e){},populate:function(e,n,t){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,n){this.copiedObjects.push([e,n])},getCachedResult:function(e){for(var n=this.copiedObjects,t=n.length,i=0;t>i;i++)if(n[i][0]===e)return n[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=r(e))return e;var n=this.getCachedResult(e);if(n)return n;for(var t=0;t<s.length;t++){var i=s[t];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,n){var t=e.create(n);if(this.cacheResult(n,t),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,n,t),this.depth--,t}},a.DeepCopier=t,a.deepCopiers=s,a.register=function(e){e instanceof t||(e=new t(e)),s.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?n(e.constructor.prototype):{}},populate:function(e,n,t){for(var i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,n,t){for(var i=0;i<n.length;i++)t.push(e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return o(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,n,t){if("undefined"!=typeof document&&n===document)return document;if(n.childNodes&&n.childNodes.length)for(var i=0;i<n.childNodes.length;i++){var a=e(n.childNodes[i]);t.appendChild(a)}}}),{deepCopy:a}}();return n.deepCopy(e)},safeGet:function(e,n){return n=this.exists(n)?n:"",this.exists(e)?e:n},getBrowserName:function(){if(!navigator)return"";var e,n,t=navigator.userAgent||"",i=navigator.appName||"";return-1!=(n=t.indexOf("Opera"))||-1!=(n=t.indexOf("OPR/"))?i="Opera":-1!=(n=t.indexOf("Android"))?i="Android":-1!=(n=t.indexOf("Chrome"))?i="Chrome":-1!=(n=t.indexOf("Safari"))?i="Safari":-1!=(n=t.indexOf("Firefox"))?i="Firefox":-1!=(n=t.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))?(i=t.substring(e,n)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,n,t,i=navigator.userAgent||"",a=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(n=i.indexOf("Opera"))?(r=i.substring(n+6),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("OPR/"))?r=i.substring(n+4):-1!=(n=i.indexOf("Android"))?r=i.substring(n+11):-1!=(n=i.indexOf("Chrome"))?r=i.substring(n+7):-1!=(n=i.indexOf("Safari"))?(r=i.substring(n+7),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("Firefox"))?r=i.substring(n+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(n=i.lastIndexOf("/"))?i.substring(n+1):"unknown",-1!=(t=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(")"))&&(r=r.substring(0,t)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;o.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),t=function(e,n){if("undefined"!=typeof Image){var t=new Image;t.onload=function(){n&&n(200),t=null},t.onerror=function(){n&&n(),t=null},t.src=e}},i=function(e,n,t){t&&"undefined"!=typeof setTimeout&&setTimeout(t,0)},a={PLATFORM:"generic",httpGet:t,httpPost:i,Storage:n,IO:{dir:function(){return null},append:function(e,n,t){},write:function(e,n,t){},deleteFile:function(){return!1},read:function(){return null}},getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){return setTimeout(e,n)})),clearTimeout:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return clearTimeout(e)})),getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}},s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};o.jsonObjectToStringDictionary=function(e){var n={};for(var t in e){var i=e[t];n[t]=null==i?i:e[t]+""}return n},o.getKeys=function(e,n){var t,i=[];for(t in e)n&&!n.test(t)||!e.hasOwnProperty(t)||(i[i.length]=t);return i},o.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var n=+new Date;return e.ns_ts=String(n),n},o.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},o.addNewPlaybackInterval=function(e,n,t,i){var a,r={};if(!(t>=n))return o.cloneObject(e);if(r.start=n,r.end=t,0==e.length)return e.push(r),o.cloneObject(e);for(a=0;a<e.length;a++)if(r.start>=e[a].start&&r.end<=e[a].end)return o.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&r.start>=e[s].start||r.start>=e[s].start&&r.start<e[s+1].start){e.splice(s+1,0,r),l=!0;break}l||e.splice(0,0,r);var d=[e[0]];for(a=1;a<e.length;a++)d[d.length-1].end+i<e[a].start?d.push(e[a]):d[d.length-1].end<e[a].end&&(d[d.length-1].end=e[a].end);return o.cloneObject(d)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(n){return e[n]}}}(),d={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},u=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(n){return e[n]}}}(),c={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},p=function(){function e(){function e(){(F={}).ns_st_pt="0",F.ns_st_bt="0",F.ns_st_bc="0",F.ns_st_pc="0",F.ns_st_sq="0",F.ns_st_cl="0",F.ns_st_pn="1",F.ns_st_tp="1",F.ns_st_skc="0",F.ns_st_et="0",F.ns_st_cn="1",F.ns_st_sc="0",F.ns_st_ska="0",F.ns_st_skd="0",F.ns_st_skt="0",F.ns_st_upc="0",F.ns_st_lpc="0",F.ns_st_upa="0",F.ns_st_lpa="0",F.ns_st_ub="0",F.ns_st_br="0",a=!1,i=!1,t=s.UNKNOWN_VALUE,r=NaN,u=0,l=0,p=NaN,v=0,m=0,d=0,h=NaN,f=[],g=[],y=0,k=0,S=0,_=0,C=0,b=0,P=NaN,E=0,x=!1,A=NaN,I=!1,w=0,D=0,N=0,T=0,O=0,R=0,V=0,M=0,L=0}function n(){var e,n,t=0;for(e=0;e<f.length;e++)t+=Math.abs(f[e].end-f[e].start);j.setUniquePlaybackInterval(t);var i=0;for(e=0;e<f.length;e++)(n=Math.abs(f[e].end-f[e].start))>i&&(i=n);j.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);j.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)(n=Math.abs(g[e].end-g[e].start))>r&&(r=n);j.setAssetLongestPlaybackInterval(r)}var t,i,a,r,l,d,u,p,m,v,f,g,h,y,k,S,_,C,b,P,E,x,A,N,w,I,T,D,F,O,R,V,M,L,j=this,B=c.INTERVAL_MERGE_TOLERANCE;o.extend(this,{getHash:function(){return t},setHash:function(e){t=e},setPlaybackIntervalMergeTolerance:function(e){B=e},getPlaybackIntervalMergeTolerance:function(){return B},setLabels:function(e){null!=e&&o.extend(F,e)},getLabels:function(){return F},setLabel:function(e,n){var t={};t[e]=n,j.setLabels(t)},getLabel:function(e){return F[e]},getClipNumber:function(){return parseInt(j.getLabel("ns_st_cn"))},setClipNumber:function(e){j.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(j.getLabel("ns_st_pn"))},createLabels:function(e){var n,t,i,r=e||{};return r.ns_st_dbt=String(j.getBufferingTime()-E),E=j.getBufferingTime(),r.ns_st_det=String(j.getElapsedTime()-m),m=j.getElapsedTime(),r.ns_st_dupc=String(j.getUniquePlaybackInterval()-y),y=j.getUniquePlaybackInterval(),parseInt(r.ns_st_dupc)<0&&(r.ns_st_dupc="0"),n=o.exists(r.ns_st_upc)?parseInt(r.ns_st_upc):j.getUniquePlaybackInterval(),r.ns_st_iupc=String(n-k),k=n,parseInt(r.ns_st_iupc)<0&&(r.ns_st_iupc="0"),r.ns_st_dupa=String(j.getAssetUniquePlaybackInterval()-S),S=j.getAssetUniquePlaybackInterval(),parseInt(r.ns_st_dupa)<0&&(r.ns_st_dupa="0"),t=o.exists(r.ns_st_upa)?parseInt(r.ns_st_upa):j.getAssetUniquePlaybackInterval(),r.ns_st_iupa=String(t-_),_=t,parseInt(r.ns_st_iupa)<0&&(r.ns_st_iupa="0"),r.ns_st_dlpc=String(j.getLongestPlaybackInterval()-C),C=j.getLongestPlaybackInterval(),parseInt(r.ns_st_dlpc)<0&&(r.ns_st_dlpc="0"),r.ns_st_dlpa=String(j.getAssetLongestPlaybackInterval()-b),b=j.getAssetLongestPlaybackInterval(),parseInt(r.ns_st_dlpa)<0&&(r.ns_st_dlpa="0"),i=o.exists(r.ns_st_pt)?parseInt(r.ns_st_pt):j.getPlaybackTime(),r.ns_st_ipt=String(i-d),d=i,r.ns_st_dpt=String(j.getPlaybackTime()-l),l=j.getPlaybackTime(),r.ns_st_dpc=String(j.getPauses()-O),O=j.getPauses(),r.ns_st_dskc=String(j.getSeeks()-R),R=j.getSeeks(),r.ns_st_dbc=String(j.getBuffers()-V),V=j.getBuffers(),r.ns_st_dskt=String(j.getSeekingTime()-N),N=j.getSeekingTime(),r.ns_st_dska=String(j.getSeekingAmount()-T),T=j.getSeekingAmount(),o.extend(r,j.getLabels()),j.setSeekingDirection(0),a&&(r.ns_st_spc=String(M),r.ns_st_apc=String(L)),a||o.parseBoolean(r.ns_st_sc)||(r.ns_st_sc="1"),r},getVideoTrack:function(){return j.getLabel("ns_st_vt")},setVideoTrack:function(e){j.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return j.getLabel("ns_st_at")},setAudioTrack:function(e){j.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return j.getLabel("ns_st_tt")},setSubtitleTrack:function(e){j.setLabel("ns_st_tt",String(e))},getCDN:function(){return j.getLabel("ns_st_cdn")},setCDN:function(e){j.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return f},setClipPlaybackIntervals:function(e){f=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){j.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){j.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){j.setLabel("ns_st_pc",String(j.getPauses()+1))},incrementSeeks:function(){j.setLabel("ns_st_skc",String(j.getSeeks()+1))},incrementPlayCounter:function(){j.setLabel("ns_st_sq",String(j.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(j.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(j.getLabel("ns_st_bt"))},setBufferingTime:function(e){j.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(P)){var n=j.getBufferingTime();n+=e-P,j.setBufferingTime(n),P=NaN}},setPlaybackStartPosition:function(e){h=parseInt(e)},getPlaybackStartPosition:function(){return h},addInterval:function(e){isNaN(h)||isNaN(e)||(f=o.addNewPlaybackInterval(f,h,e,B),g=o.addNewPlaybackInterval(g,h,e,B),n(),h=NaN)},getElapsedTime:function(){return parseInt(j.getLabel("ns_st_et"))},setElapsedTime:function(e){j.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(p)){var n=j.getElapsedTime();n+=e-p,j.setElapsedTime(n),p=NaN}},getElapsedTimestamp:function(){return p},setElapsedTimestamp:function(e){p=e},addPlaybackTime:function(e){if(!isNaN(r)){var n=j.getPlaybackTime();n+=e-r,j.setPlaybackTime(n),r=NaN}},getPlaybackTime:function(){return parseInt(j.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(r)||(u+=e-r),u},setPlaybackTimeOffset:function(e){u=e},getPlaybackTimeOffset:function(){return u},setPlaybackTime:function(e){j.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){l=e},setPreviousPlaybackTimestamp:function(e){},getBufferingTimestamp:function(){return P},setBufferingTimestamp:function(e){P=e},getPauses:function(){return parseInt(j.getLabel("ns_st_pc"))},setPauses:function(e){j.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(j.getLabel("ns_st_skc"))},setSeeks:function(e){j.setLabel("ns_st_skc",String(e))},setSeeking:function(e){x=e},isSeeking:function(){return x},setCollectingSeekingTime:function(e){I=e},isCollectingSeekingTime:function(){return I},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){A=e},getSeekingTimestamp:function(){return A},addSeekingTime:function(e){if(!isNaN(A)){var n=j.getSeekingTime();n+=e-A,j.setSeekingTime(n),A=NaN}},getSeekingTime:function(){return parseInt(j.getLabel("ns_st_skt"))},setSeekingTime:function(e){j.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){D=e},getSeekingTimeBeforeEnd:function(){return D},setSeekStartPosition:function(e){w=e},getSeekStartPosition:function(){return w},setSeekingAmount:function(e){j.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(j.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var n,t=j.getSeekingAmount();t+=Math.abs(e-w),j.setSeekingAmount(t),w==e?n=0:w>e?n=-1:e>w&&(n=1),j.setSeekingDirection(n),w=0},getSeekingDirection:function(){return parseInt(j.getLabel("ns_st_skd"))},setSeekingDirection:function(e){j.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){F.ns_st_pt="0",l=0,d=0,F.ns_st_bt="0",E=0,F.ns_st_bc="0",V=0,F.ns_st_pc="0",O=0,F.ns_st_sq="0",F.ns_st_upa="0",S=0,_=0,F.ns_st_et="0",m=0,F.ns_st_lpa="0",b=0,F.ns_st_skt="0",N=0,F.ns_st_ska="0",T=0,F.ns_st_skc="0",R=0},incrementSegmentPlaybackCounter:function(){M++},incrementClipLoadCounter:function(){j.setLabel("ns_st_sc",String(j.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){L++},setPreviousUniquePlaybackInterval:function(e){y=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){k=e},setPreviousLongestPlaybackInterval:function(e){C=e},resetAssetPlaybackCounters:function(){g=[],j.setAssetUniquePlaybackInterval(0),S=0,_=0,j.setAssetLongestPlaybackInterval(0),b=0},setSegmentPlaybackCounter:function(e){M=e},setClipLoadCounter:function(e){j.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){L=e},setLowestPartNumberPlayed:function(e){v=e},getSegmentPlaybackCounter:function(){return M},getClipLoadCounter:function(){return parseInt(j.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return L},getLowestPartNumberPlayed:function(){return v},getBuffers:function(){return parseInt(j.getLabel("ns_st_bc"))},incrementBufferCount:function(){j.setLabel("ns_st_bc",String(j.getBuffers()+1))},getPreviousBufferingTime:function(){return E}}),e()}return e.resetClip=function(e,n,t){for(var i=e.getLabels(),a={},r=0;t&&r<t.length;++r)i.hasOwnProperty(t[r])&&(a[t[r]]=i[t[r]]);n.setLabels(a),n.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),m=function(){function e(){function e(){n=new p,(a={}).ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),t=NaN,i=NaN,s={},l=0,r=!1,d=!1,u=0}var n,t,i,a,r,s,l,d,u,c=this;o.extend(this,{resetClip:function(){var e=n;n=new p,p.resetClip(e,n)},hashExists:function(e){return null!=s[e]},storeHash:function(e){s[e]={}},removeHash:function(e){delete s[e]},storeClipPlaybackCounters:function(){for(var e in s)if(s.hasOwnProperty(e)&&s[e].clipNumber===n.getClipNumber()){o.extend(s[e],{segmentPlaybackCounter:n.getSegmentPlaybackCounter(),clipLoadCounter:n.getClipLoadCounter(),assetPlaybackCounter:n.getAssetPlaybackCounter(),lowestPartNumberPlayed:n.getLowestPartNumberPlayed(),seeking:n.isSeeking(),seekingTimeBeforeEnd:n.getSeekingTimeBeforeEnd(),seekingStartPosition:n.getSeekStartPosition(),clipPlaybackIntervals:n.getClipPlaybackIntervals(),uniquePlaybackInterval:n.getUniquePlaybackInterval(),longestPlaybackInterval:n.getLongestPlaybackInterval(),videoTrack:n.getVideoTrack(),audioTrack:n.getAudioTrack(),subtitleTrack:n.getSubtitleTrack(),cdn:n.getCDN()});break}},getStoredClipRegisters:function(e){return s[e]},getClipNumber:function(e){return s[e].clipNumber},getMaxClipNumber:function(){return l},storeClipNumber:function(e,n){s[e].clipNumber=n,n>l&&(l=n)},setLabels:function(e){null!=e&&o.extend(a,e)},getLabels:function(){return a},setLabel:function(e,n){var t={};t[e]=n,c.setLabels(t)},getLabel:function(e){return a[e]},getClip:function(){return n},createLabels:function(e){var t=e||{};return d||(t.ns_st_pb=null!=t.ns_st_pb?t.ns_st_pb:"1"),o.extend(t,c.getLabels()),n.isPlaybackStarted()&&(t.ns_st_ppc=String(u)),t},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(i)){var n=c.getPlaybackTime();n+=e-i,c.setPlaybackTime(n),i=NaN}},addBufferingTime:function(e){if(!isNaN(t)){var n=c.getBufferingTime();n+=e-t,c.setBufferingTime(n),t=NaN}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){t=e},getBufferingTimestamp:function(){return t},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return u},incrementPlaybackCounter:function(){u++},setFirstEventSent:function(e){d=e}}),e()}return e.resetPlaylist=function(n,t,i){for(var a=n.getClip(),r=n.getLabels(),o={},s=0;i&&s<i.length;s++)r.hasOwnProperty(i[s])&&(o[i[s]]=r[i[s]]);(t=new e).setLabels(o),p.resetClip(a,t.getClip(),i)},e}(),v=function(e){function n(){i=1}function t(n){a=o.extend({},n);var t=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var i=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher)e.getAppCore().getMeasurementDispatcher().send(i.HIDDEN,n,t);else{var r=e.getSSECore().getExports().am.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,n,t);e.getAppCore().getQueue().offer(r)}}}else t&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(t,n))}var i,a,r=this;o.extend(this,{newEvent:function(e){t(e.eventLabels),e.eventType!=l.HEARTBEAT&&r.incrementEventCounter()},getEventCounter:function(){return i},incrementEventCounter:function(){i++},setEventCounter:function(e){i=e},getMeasurementSnapshot:function(){return a}}),n()},f=function(e){function n(){r=0,s=0}function t(){s++;var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(t-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(t-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(t-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(t-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(t-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(t-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(t-e.getPlaylist().getClip().getElapsedTimestamp());var i=o.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),a=o.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=o.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),a=o.addNewPlaybackInterval(a,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var c,p,m=0;for(c=0;c<i.length;c++)m+=Math.abs(i[c].end-i[c].start);n.ns_st_upc=String(m),n.ns_st_dupc=String(m-e.getPlaylist().getClip().getUniquePlaybackInterval());var v=0;for(c=0;c<i.length;c++)(p=Math.abs(i[c].end-i[c].start))>v&&(v=p);n.ns_st_lpc=String(v),n.ns_st_dlpc=String(v-e.getPlaylist().getClip().getLongestPlaybackInterval());var f=0;for(c=0;c<a.length;c++)f+=Math.abs(a[c].end-a[c].start);n.ns_st_upa=String(f),n.ns_st_dupa=String(f-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var g=0;for(c=0;c<a.length;c++)(p=Math.abs(a[c].end-a[c].start))>g&&(g=p);n.ns_st_lpa=String(g),n.ns_st_dlpa=String(g-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var h=e.getSSECore().createLabels(l.HEARTBEAT,n,t);e.getEventManager().newEvent(h),r=0,u.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r,s,u=this,p=c.DEFAULT_HEARTBEAT_INTERVAL;o.extend(this,{getCount:function(){return s},setIntervals:function(e){p=e},getInterval:function(e){var n=0;if(null!=p)for(var t=0;t<p.length;t++){var i=p[t],a=i.playingtime;if(!a||a>e){n=i.interval;break}}return n},resume:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(n>0){var o=r>0?r:n;a=e.getSSECore().getPlatformAPI().setTimeout(t,o)}r=0},pause:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));r=n-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%n}}),n()},g=function(e){function n(){}function t(){var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(t)),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(t),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().setBufferingTimestamp(t)),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(l.KEEPALIVE,n,t);e.getEventManager().newEvent(i),r.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r=this,s=c.DEFAULT_KEEP_ALIVE_INTERVAL;o.extend(r,{resume:function(){i(),a=e.getSSECore().getPlatformAPI().setTimeout(t,s)},pause:function(){i()},setInterval:function(e){s=e},getInterval:function(){return s}}),n()},h=function(e){function n(){a=d.IDLE,i=null,t=NaN}var t,i,a,r=this;o.extend(r,{eventTypeToState:function(e){if(a==d.IDLE){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return d.IDLE}else if(a==d.PLAYING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED;if(e==l.SEEK_START)return d.SEEKING_DURING_PLAYBACK}else if(a==d.PAUSED){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE}else if(a==d.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK}else if(a==d.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return d.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER_STOP)return d.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return d.PAUSED}else if(a==d.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_SEEKING}else if(a==d.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED}else if(a==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE}else if(a==d.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,n){var o=r.eventTypeToState(e);a!=o&&(i=a,a=o,t=n)},getPreviousState:function(){return i},getLastStateChangeTimestamp:function(){return t}}),n()},y=function(e){var n=this;o.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(n,t){e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},k=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},S=function(e){var n=this;o.extend(n,{onEndAndSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},_=function(e){var n=this;o.extend(n,{onPauseOnBuffering:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n),e.getPlaylist().getClip().setPlaybackTimeOffset(i)},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPlay:function(n,t){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)}})},C=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},b=function(e){var n=this;o.extend(n,{onBuffer:function(n,t){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},P=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},E=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},x=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(n):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},A=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(n,t){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(n,t),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)}})},N=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},w=function(e){var n=this;o.extend(n,{onPause:function(n,t){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},I=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){parseInt(t.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},T=function(){function e(){r=new D(te),o.getNamespace().comScore?(ie=o.getNamespace().comScore.exports,r.setAppCore(ie.c())):r.setAppCore(null),r.setKeepAlive(new g(r)),r.setHeartbeat(new f(r)),r.setEventManager(new v(r)),r.setStateMachine(new h),r.setPlaylist(new m),$={},p=new b(r),T=new P(r),F=new x(r),O=new A(r),R=new k(r),V=new _(r),M=new C(r),L=new S(r),j=new E(r),B=new N(r),U=new w(r),q=new I(r),G=new y(r),z=!1,H=0,W=+new Date,K=!0,Q=!1,X=[]}function n(e){var n=r.getStateMachine().getCurrentState();if(n==d.IDLE||n==d.PLAYBACK_NOT_STARTED||n==d.BUFFERING_BEFORE_PLAYBACK||n==d.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(n==d.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(n==d.PAUSED||n==d.BUFFERING_DURING_PAUSE||n==d.SEEKING_DURING_PLAYBACK||n==d.SEEKING_DURING_BUFFERING||n==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function t(e,t,i){var a=r.getStateMachine().getCurrentState();e==l.AD_SKIP&&!i.hasOwnProperty("ns_st_ui")&&n(e)?i.ns_st_ui="skip":e==l.SEEK_START&&!i.hasOwnProperty("ns_st_ui")&&n(e)&&(i.ns_st_ui="seek"),a==d.IDLE?e==l.BUFFER?p.onBuffer(t,i):e==l.SEEK_START?p.onSeekStart(t,i):e==l.PLAY&&p.onPlay(t,i):a==d.PLAYBACK_NOT_STARTED?e==l.END||e==l.AD_SKIP?F.onEndOrAdSkip(t,i):e==l.SEEK_START?F.onSeekStart(t,i):e==l.PLAY?F.onPlay(t,i):e==l.BUFFER&&G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.PLAYING?e==l.END||e==l.AD_SKIP?O.onEndOrAdSkip(t,i):e==l.BUFFER?O.onBuffer(t,i):e==l.SEEK_START?O.onSeekStart(t,i):e==l.PAUSE&&O.onPause(t,i):a==d.PAUSED?e==l.END||e==l.AD_SKIP?T.onEndOrAdSkip(t,i):e==l.PLAY?T.onPlay(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.SEEK_START&&G.onSeekStartWhenPausedOrBufferingDuringPause(t,i):a==d.BUFFERING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?R.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?R.onBufferStop(t,i):e==l.SEEK_START?R.onSeekStart(t,i):e==l.PAUSE?R.onPause(t,i):e==l.PLAY&&R.onPlay(t,i):a==d.BUFFERING_DURING_PLAYBACK?e==l.PAUSE_ON_BUFFERING?V.onPauseOnBuffering(t,i):e==l.BUFFER_STOP?V.onBufferStop(t,i):e==l.END||e==l.AD_SKIP?V.onEndOrAdSkip(t,i):e==l.SEEK_START?V.onSeekStart(t,i):e==l.PAUSE?V.onPause(t,i):e==l.PLAY&&V.onPlay(t,i):a==d.BUFFERING_DURING_SEEKING?e==l.END||e==l.AD_SKIP?M.onEndOrAdSkip(t,i):e==l.PAUSE?M.onPause(t,i):e==l.PLAY?M.onPlay(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.BUFFERING_DURING_PAUSE?e==l.END||e==l.AD_SKIP?L.onEndAndSkip(t,i):e==l.PAUSE?L.onPause(t,i):e==l.PLAY?L.onPlay(t,i):e==l.SEEK_START?G.onSeekStartWhenPausedOrBufferingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.SEEKING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?B.onEndOrAdSkip(t,i):e==l.PAUSE?B.onPause(t,i):e==l.PLAY?B.onPlay(t,i):e==l.BUFFER&&G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.SEEKING_DURING_PLAYBACK?e==l.END||e==l.AD_SKIP?q.onEndOrAdSkip(t,i):e==l.PLAY?q.onPlay(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PAUSE&&G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):a==d.SEEKING_DURING_BUFFERING?e==l.PAUSE?U.onPause(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):a==d.PAUSED_DURING_BUFFERING?e==l.END||e==l.AD_SKIP?j.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?j.onBufferStop(t,i):e==l.SEEK_START?j.onSeekStart(t,i):e==l.PAUSE?j.onPause(t,i):e==l.PLAY&&j.onPlay(t,i):a==d.SEEKING_DURING_PAUSE&&(e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.PAUSE?G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i)),n(e)&&r.getPlaylist().setFirstEventSent(!0)}function i(e,n){for(var t,i=ee.encodeURIComponent||escape,a=[],r=c.LABELS_ORDER,s=e.split("?"),l=s[0],d=s[1].split("&"),u=0,p=d.length;p>u;u++){var m=d[u].split("="),v=unescape(m[0]),f=unescape(m[1]);v&&(n[v]=f)}for(var g={},h=0,y=r.length;y>h;h++){var k=r[h];if(n.hasOwnProperty(k)){var S=n[k];void 0!==S&&null!=S&&(g[k]=!0,a.push(i(k)+"="+i(n[k])))}}for(var _ in n)if(n.hasOwnProperty(_)){if(g[_])continue;var C=n[_];void 0!==C&&null!=C&&a.push(i(_)+"="+i(n[_]))}t=(t=l+"?"+a.join("&"))+(t.indexOf("&c8=")<0?"&c8="+i(ne.title):"")+(t.indexOf("&c7=")<0?"&c7="+i(ne.URL):"")+(t.indexOf("&c9=")<0?"&c9="+i(ne.referrer):"");var b=o.browserAcceptsLargeURLs()?c.URL_LENGTH_LIMIT:c.RESTRICTED_URL_LENGTH_LIMIT;if(t.length>b&&t.indexOf("&")>0){var P=t.substr(0,b-8).lastIndexOf("&");t=(t.substring(0,P)+"&ns_cut="+i(t.substring(P+1))).substr(0,b)}return t}var r,p,T,F,O,R,V,M,L,j,B,U,q,G,z,H,W,K,Z,Q,Y,X,$,J,ee,ne,te=this,ie={},ae=c.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,re=c.THROTTLING_DELAY;o.extend(te,{createLabels:function(e,n,t){var i={};if("undefined"!=typeof document){var a=document;i.c7=a.URL,i.c8=a.title,i.c9=a.referrer}return null!=n&&o.extend(i,n),i.ns_ts=null!=i.ns_ts?i.ns_ts:String(+new Date),i.ns_st_ev=null!=i.ns_st_ev?i.ns_st_ev:l.toString(e),i.ns_st_mp=null!=i.ns_st_mp?i.ns_st_mp:c.DEFAULT_PLAYERNAME,i.ns_st_mv=null!=i.ns_st_mv?i.ns_st_mv:c.STREAMSENSE_VERSION,i.ns_st_ub=null!=i.ns_st_ub?i.ns_st_ub:"0",i.ns_st_br=null!=i.ns_st_br?i.ns_st_br:"0",i.ns_st_pn=null!=i.ns_st_pn?i.ns_st_pn:"1",i.ns_st_tp=null!=i.ns_st_tp?i.ns_st_tp:"1",i.ns_st_it=null!=i.ns_st_it?i.ns_st_it:u.toString(u.SINGLE_CLIP),i.ns_st_sv=null!=i.ns_st_sv?i.ns_st_sv:c.STREAMSENSE_VERSION,i.ns_st_smv=null!=i.ns_st_smv?i.ns_st_smv:c.MODEL_VERSION,i.ns_type=null!=i.ns_type?i.ns_type:"hidden",i.ns_st_ec=null!=i.ns_st_ec?i.ns_st_ec:String(r.getEventManager().getEventCounter()),i.ns_st_po=null!=i.ns_st_po?i.ns_st_po:String(r.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(t)),i.ns_st_ki=null!=i.ns_st_ki?i.ns_st_ki:String(r.getKeepAlive().getInterval()),r.getPlaylist().createLabels(i),r.getPlaylist().getClip().createLabels(i),o.extend(i,te.getLabels()),o.extend(i,n),{eventType:e,eventLabels:i}},newEvent:function(e,n,i,a){te.stopDelayedTransitionTimer();var o=r.getStateMachine().getCurrentState(),s=r.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!te.isThrottlingEnabled()||o!=d.PLAYING&&o!=d.PAUSED||s!=d.PLAYING&&s!=d.PAUSED||a){i.ns_st_po||(r.getStateMachine().getCurrentState()==d.PLAYING&&e==l.BUFFER||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&e==l.BUFFER_STOP?i.ns_st_po=String(r.getPlaylist().getClip().getPlaybackTimeOffset()+(n-r.getPlaylist().getClip().getPlaybackTimestamp())):i.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),t(e,n,i);var u=0;isNaN(r.getStateMachine().getLastStateChangeTimestamp())||(u=n-r.getStateMachine().getLastStateChangeTimestamp()),r.getStateMachine().newEvent(e,n);for(var c=0,p=X.length;p>c;c++)X[c](o,s,i,u)}else Y=r.getPlatformAPI().setTimeout(function(e,t,i){return function(){te.newEvent(e,n,i,!0)}}(e,0,i),re)},newPseudoEvent:function(e,n,t){if(e!=l.LOAD&&e!=l.START||r.getStateMachine().getCurrentState()==d.IDLE){e!=l.ERROR||t.ns_st_er||(t.ns_st_er=s.UNKNOWN_VALUE),r.getStateMachine().getCurrentState()!=d.IDLE&&r.getStateMachine().getCurrentState()!=d.PLAYBACK_NOT_STARTED&&r.getStateMachine().getCurrentState()!=d.SEEKING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&(r.getPlaylist().getClip().addElapsedTime(n),r.getPlaylist().getClip().setElapsedTimestamp(n));var i,a,o,u=!0,c=!1;switch(e){case l.BIT_RATE:i="ns_st_br",a="ns_st_pbr",c=!0;break;case l.PLAYBACK_RATE:i="ns_st_rt",a="ns_st_prt",c=!0;break;case l.VOLUME:i="ns_st_vo",a="ns_st_pvo",c=!0;break;case l.WINDOW_STATE:i="ns_st_ws",a="ns_st_pws",c=!0;break;case l.AUDIO:i="ns_st_at",a="ns_st_pat",c=!1;break;case l.VIDEO:i="ns_st_vt",a="ns_st_pvt",c=!1;break;case l.SUBS:i="ns_st_tt",a="ns_st_ptt",c=!1;break;case l.CDN:i="ns_st_cdn",a="ns_st_pcdn",c=!1;break;default:u=!1}if(u&&t.hasOwnProperty(i)&&(c?(te.getLabels().hasOwnProperty(i)&&(o=te.getLabels()[i],t[a]=o),te.setLabel(i,t[i])):(r.getPlaylist().getClip().getLabels().hasOwnProperty(i)&&(o=r.getPlaylist().getClip().getLabels()[i],t[a]=o),r.getPlaylist().getClip().setLabel(i,t[i]))),!u||r.getStateMachine().getCurrentState()==d.PLAYING||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK){t.ns_st_po||(t.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),r.getStateMachine().getCurrentState()!=d.PLAYING&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK||(r.getPlaylist().addPlaybackTime(n),r.getPlaylist().setPlaybackTimestamp(n),r.getPlaylist().getClip().addPlaybackTime(n),r.getPlaylist().getClip().setPlaybackTimestamp(n),r.getPlaylist().getClip().addInterval(parseInt(t.ns_st_po)),r.getPlaylist().getClip().setPlaybackStartPosition(parseInt(t.ns_st_po))),r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PAUSE&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_SEEKING||(r.getPlaylist().addBufferingTime(n),r.getPlaylist().setBufferingTimestamp(n),r.getPlaylist().getClip().addBufferingTime(n),r.getPlaylist().getClip().setBufferingTimestamp(n));var p=te.createLabels(e,t,n);r.getEventManager().newEvent(p)}}},getState:function(){return r.getStateMachine().getCurrentState()},addListener:function(e){X.push(e)},removeListener:function(e){X.splice(o.indexOf(e,X),1)},getLabel:function(e){return $[e]},getLabels:function(){return $},setLabel:function(e,n){null==n?delete $[e]:$[e]=n},setLabels:function(e){for(var n in e)e.hasOwnProperty(n)&&te.setLabel(n,e[n])},getPlatformAPI:function(){return r.getAppCore()?r.getAppCore().getPlatformAPI():a},getExports:function(){return ie},isProperlyInitialized:function(){var e=r.getAppCore().getAppContext(),n=r.getAppCore().getSalt(),t=r.getAppCore().getPixelURL();return e&&t&&n},setImplementationType:function(e){r.getStateMachine().getCurrentState()!=d.IDLE||e!=u.SINGLE_CLIP&&e!=u.SEGMENTED&&e!=u.REDUCED||r.getPlaylist().setLabel("ns_st_it",u.toString(e))},setThrottlingDelay:function(e){re=e},getThrottlingDelay:function(){return re},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return z},setLoadingTimeSent:function(e){z=e},getLoadTimeOffset:function(){return H},setLoadTimeOffset:function(e){H=e},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(e){ae=e},getPauseOnBufferingInterval:function(){return ae},isPauseOnBufferingEnabled:function(){return K},setPauseOnBufferingEnabled:function(e){K=e},startPausedOnBufferingTimer:function(e,n){te.stopPausedOnBufferingTimer(),Z=te.getPlatformAPI().setTimeout((function(){var t={},i=o.fixEventTime(t),a=parseInt(n.ns_st_po);t.ns_st_po=String(a+i-e),te.newEvent(l.PAUSE_ON_BUFFERING,i,t)}),ae)},stopPausedOnBufferingTimer:function(){null!=Z&&(te.getPlatformAPI().clearTimeout(Z),Z=null)},stopDelayedTransitionTimer:function(){Y&&(te.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var n=decodeURIComponent||unescape,t=e.indexOf("?");if(t>=0){if(t<e.length-1){for(var i=e.substring(t+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a].split("=");2==o.length?te.setLabel(o[0],n(o[1])):1==o.length&&te.setLabel(c.PAGE_NAME_LABEL,n(o[0]))}e=e.substring(0,t+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return r},resetPlaylist:function(e){var n=r.getPlaylist();r.setPlaylist(new m),m.resetPlaylist(n,r.getPlaylist(),e)},resetHeartbeat:function(){r.getHeartbeat().pause(),r.setHeartbeat(new f(r))},resetKeepAlive:function(){r.getKeepAlive().pause(),r.setKeepAlive(new g(r))}}),o.isBrowser()?(ee=window,ne=document):(ee={},ne={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),o.extend(this,{prepareUrl:i}),e()},D=function(e){var n,t,i,a,r,s,l=this;o.extend(l,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return t},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return r},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){a=e},setEventManager:function(e){t=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})},F=function(e,n){function t(){u=new T,s=!0,e&&p.setLabels(e),n&&p.setPixelURL(n)}function i(e,n){p.notify(l.CUSTOM,e,n)}function a(){s&&u.getSseSM().getStateMachine().getCurrentState()!=d.IDLE&&p.end()}var s,u,p=this,v=c.STANDARD_METADATA_LABELS;o.extend(this,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(e){var n=u;n.getSseSM().getKeepAlive().pause(),n.getSseSM().getHeartbeat().pause(),u=new T,m.resetPlaylist(n.getSseSM().getPlaylist(),u.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){u.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){u.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return u.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){u.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,n){p.notify(l.PLAY,e,n)},pause:function(e,n){p.notify(l.PAUSE,e,n)},end:function(e,n){p.notify(l.END,e,n)},bufferStart:function(e,n){p.notify(l.BUFFER,e,n)},bufferStop:function(e,n){p.notify(l.BUFFER_STOP,e,n)},load:function(e,n){p.notify(l.LOAD,e,n)},start:function(e,n){p.notify(l.START,e,n)},seekStart:function(e,n){p.notify(l.SEEK_START,e,n)},skipAd:function(e,n){p.notify(l.AD_SKIP,e,n)},callToAction:function(e,n){p.notify(l.CTA,e,n)},error:function(e,n){p.notify(l.ERROR,e,n)},transferPlayback:function(e,n){p.notify(l.TRANSFER,e,n)},drmFail:function(e,n){p.notify(l.DRM_FAILED,e,n)},drmApprove:function(e,n){p.notify(l.DRM_APPROVED,e,n)},drmDeny:function(e,n){p.notify(l.DRM_DENIED,e,n)},changeBitrate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_br=String(e),p.notify(l.BIT_RATE,i,n)}},changePlaybackRate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_rt=String(e),p.notify(l.PLAYBACK_RATE,i,n)}},changeVolume:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vo=String(e),p.notify(l.VOLUME,i,n)}},changeWindowState:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_ws=String(e),p.notify(l.WINDOW_STATE,i,n)}},changeAudio:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_at=String(e),p.notify(l.AUDIO,i,n)}},changeVideo:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vt=String(e),p.notify(l.VIDEO,i,n)}},changeSubtitle:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_tt=String(e),p.notify(l.SUBS,i,n)}},changeCDN:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_cdn=String(e),p.notify(l.CDN,i,n)}},notify:function(e){var n,t;if(n="object"==r(arguments[1])?arguments[1]:"object"==r(arguments[2])?arguments[2]:{},t="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,l.toString(e)){n=o.jsonObjectToStringDictionary(n);var i=o.fixEventTime(n);n.ns_st_po||isNaN(t)||(n.ns_st_po=o.getInteger(t,0).toString()),n.ns_st_po&&u.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==l.PLAY||e==l.PAUSE||e==l.BUFFER||e==l.END||e==l.SEEK_START||e==l.AD_SKIP||e==l.BUFFER_STOP?u.newEvent(e,i,n):u.newPseudoEvent(e,i,n)}},getLabels:function(){return u.getLabels()},getState:function(){return u.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){u.setLabels(e)},getLabel:function(e){return u.getLabel(e)},setLabel:function(e,n){u.setLabel(e,n)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(e){u.setLoadTimeOffset(e)},setPixelURL:function(e){return u.setPixelURL(e)},getPixelURL:function(){return u.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){u.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){u.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(e){u.setThrottlingEnabled(e)},setThrottlingDelay:function(e){u.setThrottlingDelay(e)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){u.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return u.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,t){if(void 0===t&&(t=!0),e=o.jsonObjectToStringDictionary(e),t&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var r=0;r<v.length;r++)e[v[r]]&&(i+=v[r]+":"+e[v[r]]+";");var s=u.getSseSM().getPlaylist(),l=s.getClip();l.isClipStarted()?(s.hashExists(l.getHash())||(s.storeHash(l.getHash()),s.storeClipNumber(l.getHash(),l.getClipNumber())),s.storeClipPlaybackCounters(),a=s.hashExists(i)?s.getClipNumber(i):o.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):s.getMaxClipNumber()+1):a=s.hashExists(i)?s.getClipNumber(i):l.getClipNumber(),s.resetClip(),(l=s.getClip()).setHash(i),l.setClipNumber(a),l.setLabels(e);var c=s.getStoredClipRegisters(i);return c&&(l.setClipStarted(!0),l.setSegmentPlaybackCounter(c.segmentPlaybackCounter),l.setClipLoadCounter(c.clipLoadCounter),l.setAssetPlaybackCounter(c.assetPlaybackCounter),l.setLowestPartNumberPlayed(c.lowestPartNumberPlayed),l.setSeeking(c.seeking),l.setSeekingTimeBeforeEnd(c.seekingTimeBeforeEnd),l.setSeekStartPosition(c.seekingStartPosition),l.setClipPlaybackIntervals(c.clipPlaybackIntervals),l.setUniquePlaybackInterval(c.uniquePlaybackInterval),l.setLongestPlaybackInterval(c.longestPlaybackInterval),l.setVideoTrack(c.videoTrack),l.setAudioTrack(c.audioTrack),l.setSubtitleTrack(c.subtitleTrack),l.setCDN(c.cdn),l.setPreviousUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousEventIndependentUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousLongestPlaybackInterval(c.longestPlaybackInterval)),l.incrementClipLoadCounter(),l.isClipStarted()&&n&&(s.incrementPlayCounter(),s.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=o.jsonObjectToStringDictionary(e),n&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE&&(u.getSseSM().getPlaylist().isPlaylistStarted()&&u.resetPlaylist(),u.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return c.STREAMSENSE_VERSION},addListener:function(e){u.addListener(e)},removeListener:function(e){u.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),u.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return u.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(u.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(u.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){s=e},isExitEndEventEnabled:function(){return s},getPlatformAPI:function(){return u.getPlatformAPI()}}),o.extend(this,{customNotify:i,viewNotify:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){(e=e||p.getPixelURL())&&viewNotify(e,n)}))}),o.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",a),window.addEventListener("unload",a)):window.attachEvent&&(window.attachEvent("onbeforeunload",a),window.attachEvent("onunload",a))),t()};return function(n){function t(e,n){return P[x]||a(e,n)}function i(){x=-1;for(var n=0;E>=n;n++)if(P.hasOwnProperty(String(n))){x=n;break}return e.StreamSense.activeIndex=x,x}function a(n,t){return t=t||null,(n=n||null)&&"object"==r(n)&&(t=n,n=null),P[++E]=new e.StreamSense(t,n),i(),P[E]}function s(){var n=!1,t=x;if("number"==typeof arguments[0]&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var a in P)if(P.hasOwnProperty(a)&&P[a]===arguments[0]){t=a;break}return P.hasOwnProperty(String(t))&&(n=P[t],delete P[t],n.reset(),i()),n}function l(e){return e=e||{},t().setPlaylist(e),t().getPlaylist()}function d(e,n,i){return e=e||{},"number"==typeof n&&(e.ns_st_cn=String(n)),t().setClip(e,i),t().getClip()}function u(e,n,i){return void 0!==e&&(i=i||null,n=n||{},t().notify(e,n,i))}function c(e){void 0!==e&&t().setLabels(e)}function p(){return t().getLabels()}function m(e){void 0!==e&&t().getPlaylist().setLabels(e)}function v(){return t().getPlaylist().getLabels()}function f(e){void 0!==e&&t().getClip().setLabels(e)}function g(){return t().getClip().getLabels()}function h(e){return t().reset(e||{})}function y(e){return t().getPlaylist().reset(e||{})}function k(e){return t().getClip().reset(e||{})}function S(e){return e=e||{},t().viewNotify(null,e)}function _(e,n){return arguments.length>2&&(e=arguments[1],n=arguments[2]),e=e||{},"number"==typeof n&&(e.ns_st_po=String(n)),t().customNotify(e,n)}function C(){return t().exportState()}function b(e){t().importState(e)}var P={},E=-1,x=-1;o.extend(n,{activeIndex:x,newInstance:a,new:a,destroyInstance:s,destroy:s,newPlaylist:l,newClip:d,notify:u,setLabels:c,getLabels:p,setPlaylistLabels:m,getPlaylistLabels:v,setClipLabels:f,getClipLabels:g,resetInstance:h,resetPlaylist:y,resetClip:k,viewEvent:S,customEvent:_,exportState:C,importState:b})}(F),F.PlayerEvents=l,F.InternalStates=d,F.ImplementationType=u,F}(),e.StreamingTag=e.StreamingTag||(n=e.StreamSense,e.StreamSense.PlayerEvents,t=e.StreamSense.InternalStates||null,i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType,function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},r={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function r(){if(a)if(o.getNamespace().comScore)(g=new n).setImplementationType(i.REDUCED);else if(o.exists(e))if(h=o.isTrue(e.debug),o.exists(e.customerC2)&&e.customerC2.length>0){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(g=new n).setPixelURL(t+".scorecardresearch.com/p?c1=2"),g.setLabel("c2",e.customerC2),g.setImplementationType(i.REDUCED)}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function s(e){for(var n in o.exists(e)||(e={}),k)k.hasOwnProperty(n)&&!o.exists(e[k[n]])&&("ns_st_ci"==k[n]?e.ns_st_ci="0":e[k[n]]="*null");return e}function l(e){for(var n in k)if(k.hasOwnProperty(n)&&!d(k[n],v,e))return!1;return!0}function d(e,n,t){if(o.exists(e)&&o.exists(n)&&o.exists(t)){var i=n[e],a=t[e];return o.exists(i)&&o.exists(a)&&i===a}return!1}function u(e){m++;var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"0"};o.extend(n,e),g.setClip(n),v=e,g.play()}function c(e){m++,e=s(e);var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};o.extend(n,e),g.setClip(n),g.play(),f=!1}function p(e,n){e=s(e),S==y.None&&(S=n),f&&S==n&&l(e)?(g.getClip().setLabels(e),g.getState()!=t.PLAYING&&g.play()):u(e),f=!0,S=n}var m=0,v=null,f=!1,g=null,h=!1,y={None:0,AudioContent:1,VideoContent:2},k=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],S=y.None;o.extend(this,{playAdvertisement:function(){g&&(h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),c({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,n){if(g){var t={ns_st_ct:"va"};n?t.ns_st_ct="va"+n:h&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playAudioAdvertisement:function(e,n){if(g){var t={ns_st_ct:"aa"};n?t.ns_st_ct="aa"+n:h&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playContentPart:function(e){if(g){h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&o.extend(n,e),p(n,y.VideoContent)}},playVideoContentPart:function(e,n){if(g){var t={ns_st_ct:"vc"};n?t.ns_st_ct="vc"+n:h&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.VideoContent)}},playAudioContentPart:function(e,n){if(g){var t={ns_st_ct:"ac"};n?t.ns_st_ct="ac"+n:h&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.AudioContent)}},stop:function(){g&&g.pause()}}),r()};return s.ContentType=e,s.AdType=r,s}()),e}(a.ns_)}.apply(n,[]),void 0===i||(e.exports=i)},505236:function(){},400989:function(){},156425:function(){},152427:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AdFormatTracking_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},766139:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HappeningNowSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},934916:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetHappeningNowSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatHappeningNowSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatHappeningNowSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},390844:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseGetUserLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},676233:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportMenuItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},909526:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"freeformTagFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},194257:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},20742:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"incrementClipViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateClipViewCountInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateClipViewCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},330925:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_CollectionManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},324991:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ComscoreStreamingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},393749:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NielsenContentMetadataVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NielsenContentMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},532770:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_AgeGateOverlayBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredAge"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},4711:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"480"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"272"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedRelatedClips"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipRelatedClips"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipPostplayRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"relatedClips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedRelatedClips"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayVideo"},directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},956174:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipShareOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},718254:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSideBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"80"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"45"}}],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},333965:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentPolicyPropertiesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(804515).definitions)),i.definitions=i.definitions.concat(r(t(38454).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},804515:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}}]}}]}}]}},38454:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},354955:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsInfoBalloon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screenshotURLs"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},613072:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsNotificationBitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},947028:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},432584:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowPanelOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},218615:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_MutedSegmentsAlertOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},419354:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineBannerOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},666179:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineEmbedVODAndSchedule"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"segmentList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasReminder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCancelled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"144"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"192"}}],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},970685:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},998180:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"30"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},directives:[]}]}}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(970685).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},983943:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ChapterSelectButtonVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"momentRequestType"},value:{kind:"EnumValue",value:"VIDEO_CHAPTER_MARKERS"}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"GAME_CHANGE"},{kind:"EnumValue",value:"HEARTHSTONE_VCA"},{kind:"EnumValue",value:"OVERWATCH_VCA"},{kind:"EnumValue",value:"PUBG_VCA"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMoment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GameChangeMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"53"}}],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},726174:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CanCreateClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canCreateClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"broadcasterID"},value:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}}},{kind:"Argument",name:{kind:"Name",value:"vodID"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredFollowingLengthMinutes"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},609099:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipsButtonBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},683692:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveStreamTime"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},762164:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSettingsWithClipMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityMoment"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},206412:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},409815:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMutedSegment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMutedSegment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VODSeekbar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMutedSegment"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},720799:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPremiumContentOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},246506:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PreviewContentOverlayQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"285"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"160"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},148014:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStatusOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},352046:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSubscriberVODOverlayVideoQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},176472:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionTopBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},747066:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},220039:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},35836:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayVOD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},344204:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictionType"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},599939:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"640"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"360"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewingHistory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"32"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"TIME"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ARCHIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},433374:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},834365:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPixelAnalyticsUrls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackingPixels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"consent"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allowAmazon"},value:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowComscore"},value:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowGoogle"},value:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowNielsen"},value:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeOffsetSeconds"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},922624:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoPlayer_FollowButtonFollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},104745:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryUserViewedVideo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewedVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},572126:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserViewedVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserViewedVideoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserViewedVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},179245:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},673130:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamRefetchManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},451553:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamTagsTrackingChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTags"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(952965).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},952965:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingTags"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Stream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeformTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"freeformTagFragment"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(909526).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},78141:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adServerDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrerollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPostrollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMature"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(947785).definitions)),i.definitions=i.definitions.concat(r(t(511801).definitions)),e.exports=i},291559:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestContentLabel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}},864846:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}}]}},947785:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"EnumValue",value:"CONTENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(511801).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},190121:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AdRequestHandling"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(78141).definitions)),i.definitions=i.definitions.concat(r(t(466480).definitions)),i.definitions=i.definitions.concat(r(t(864846).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},511801:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}}]}},466480:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestContentLabel"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(78141).definitions)),i.definitions=i.definitions.concat(r(t(291559).definitions)),i.definitions=i.definitions.concat(r(t(947785).definitions)),i.definitions=i.definitions.concat(r(t(511801).definitions)),e.exports=i},174752:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODMidrollManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsBreakLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsFrequency"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},231690:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdBannerChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]}]}}]}}]}},474063:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdBannerChannel"},directives:[]}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(231690).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},452072:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdRequestDecline"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AdRequestContext"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"radToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"declineState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldDecline"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},166866:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClientSideAdEventHandling_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},862596:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VideoSourceManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},272384:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabelPolicyProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPostProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentGateProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentGate"},arguments:[],directives:[]}]}}]}}]}},805645:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"broadcasterInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"gameTrackingFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isStream"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isStream"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(272384).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},263913:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContextStreamPubsub"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(272384).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},841913:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsUIContext_ChannelID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},451089:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerBroadcastSettingsUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BroadcastSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}}]}}]}},594064:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayerTrackingContextQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},857131:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-viewing",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipVideoQuality"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frameRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},786501:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},56612:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlaybackAccessToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVod"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streamPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelName"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isForbidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forbiddenReasonCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"videoPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVod"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},681234:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(604499).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},788256:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]}]}}]}},604499:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartySession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchParty"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]},a={};i.definitions=i.definitions.concat(t(788256).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},288566:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_Conditions_BitsBalance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"challengeCondition"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"conditionID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionID"}}},{kind:"ObjectField",name:{kind:"Name",value:"conditionOwnerID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},336853:function(e,n,t){"use strict";t.d(n,{n:function(){return p}});var i=t(331635),a=t(474848),r=t(540943),o=t(959340),s=t(965645),l=t(97774),d=t(914421),u=t(847388),c=t(552400);t(296540),t(505236);function p(e){for(var n=function(e){return"transparent"===e?"rgb(211,211,211)":e},t=[],i=[],c=[],p=0,v=e.colors.map((function(t,i){return(0,a.jsx)(r.VP,{cols:4,children:(0,a.jsx)(o.P,{margin:{bottom:.5},children:(0,a.jsx)(m,{label:t.label,children:(0,a.jsxs)(s.nx,{name:"colors",borderRadius:l.Z.Medium,"aria-label":t.label,checked:t.selected,type:s.h8.Radio,value:t.cssValue,disabled:t.disabled,onChange:function(n){t.onChange&&t.onChange(n),e.onSelect&&e.onSelect(t)},children:["transparent"===t.cssValue&&(0,a.jsx)("hr",{className:"color-swatch-selector__transparent-indicator"}),(0,a.jsx)(o.P,{display:d.nl.Flex,height:"50px",width:"176px",children:(0,a.jsx)(o.P,{height:"3rem",width:"3rem",style:(u=t.cssValue,c=t.backgroundCssValue,c?{background:"linear-gradient(135deg, ".concat(n(u)," 50%, ").concat(n(c)," 50%)"),border:"1.5px solid ".concat(n(u)),borderRadius:"50%"}:{backgroundColor:n(u),borderRadius:"50%"}),margin:{x:1,y:1},role:"img",className:"color-swatch-selector__swatch","aria-label":t.label,children:""===t.cssValue&&(0,a.jsx)(o.P,{color:d.Q1.Base,children:(0,a.jsxs)("svg",{className:"color-swatch-selector__null-indicator",width:30,height:30,version:"1.1",viewBox:"0 0 22 22",x:"0px",y:"0px",children:[(0,a.jsx)("title",{children:t.label}),(0,a.jsx)("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM4.343 14.243L8.586 10 4.343 5.758l1.414-1.415L10 8.586l4.242-4.243 1.415 1.414L11.414 10l4.243 4.243-1.414 1.414L10 11.414l-4.243 4.243-1.414-1.414z"})]})})})})]})})})},t.id||i);var u,c}));p<v.length;p++){var f=v[p];t.length<3?t.push(f):i.length<3?i.push(f):c.push(f)}return(0,a.jsxs)(o.P,{display:d.nl.Grid,flexWrap:d.I4.Wrap,children:[(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:t})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:i})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:c})})]})}var m=function(e){return e.label?(0,a.jsx)(c.m,(0,i.__assign)({display:d.nl.Block,label:e.label},e,{children:e.children})):(0,a.jsx)(a.Fragment,{children:e.children})}},542685:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var i=t(331635),a=t(296540),r=t(346716),o=function(e){function n(n){var t,i=e.call(this,n)||this,a=null!==(t=i.props.hardcodedAssignment)&&void 0!==t?t:r.x2.experiments.getAndTrackAssignment(i.props.name,i.props.bucketing?{bucketing:i.props.bucketing}:{});return i.state={assignment:a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.state.assignment&&this.props.assignments[this.state.assignment]){var e=this.props.assignments[this.state.assignment]();return"string"==typeof e?(window.location.replace(e),null):e}return this.props.assignments.fallback()},n}(a.Component)},51285:function(e,n,t){"use strict";t.d(n,{$:function(){return y}});var i=t(331635),a=t(474848),r=t(959340),o=t(914421),s=t(636367),l=t(97774),d=t(235233),u=t(731667),c=t(759369),p=t(312663),m=t(26538),v=t(296540),f=t.p+"assets/404_boxart-285x380-55299d79a777bd47e9e7.jpg",g=t(973474),h=function(e){function n(n){var t=e.call(this,n)||this;return t.setImage=function(e){var n=e.src,i=e.altSrc,a=new Image;a.onerror=function(){return t.setState({src:i})},a.onload=function(){return t.setState({src:n})},a.src=n},t.state={src:n.src},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.src&&this.setImage(this.props)},n.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setImage(this.props)},n.prototype.render=function(){return(0,a.jsx)(g.L,(0,i.__assign)({},this.props,{src:this.state.src}))},n}(v.Component),y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){n.props.onClick&&n.props.onClick(n.props.index)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={src:this.props.imageURL,alt:this.props.text};return(0,a.jsx)(r.P,{className:"media-row",display:o.nl.Flex,flexWrap:o.I4.NoWrap,children:(0,a.jsx)(s.tD,{linkTo:this.props.linkTo,onClick:this.onClick,selected:this.props.active,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,padding:.5,children:[(0,a.jsxs)(r.P,{className:"media-row__image-wrapper",flexGrow:0,flexShrink:0,borderRadius:l.Z.Small,overflow:o.nE.Hidden,position:o.yX.Relative,children:[(0,a.jsx)(d.j$,{align:d.W3.Center,ratio:d.gl.BoxArt,children:(0,a.jsx)(h,(0,i.__assign)({},e,{altSrc:f}))}),(0,a.jsx)(r.P,{className:this.props.active?"":"media-row__image-play-overlay",alignItems:o.k2.Center,background:o.VS.Overlay,color:o.Q1.Overlay,display:o.nl.Flex,justifyContent:o.A9.Center,position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(u.t,{asset:c.t.Play,type:u.H.Inherit})})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,flexGrow:1,flexShrink:1,padding:{left:1,top:1},children:[(0,a.jsx)(r.P,{className:"media-row__info-text",children:(0,a.jsx)(p.N,{children:this.props.text})}),(0,a.jsx)(r.P,{className:"media-row__info-description",children:(0,a.jsx)(p.N,{children:this.props.description})})]}),this.renderCount()]})})})},n.prototype.renderCount=function(){return this.props.count?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{alignSelf:o.gB.Center,children:(0,a.jsx)(m.a,{label:this.props.count.toString()})}),(0,a.jsx)(u.t,{asset:c.t.GlyphArrRight,type:u.H.Alt})]}):null},n}(v.Component)},953113:function(e,n,t){"use strict";t.d(n,{j8:function(){return s}});var i=t(331635),a=t(296540),r={};function o(e){return r[e]}var s=function(e,n){var t=(0,a.useState)(o(e)),s=t[0],l=t[1];return(0,a.useEffect)((function(){var t=function(n){!function(e,n){r[e].status=n}(e,n),l((0,i.__assign)({},o(e)))},a=function(){return t("loaded")},d=function(){return t("failed")},u=function(){return t("loading")},c=s&&s.element||function(e){var n=document.createElement("script");return n.src=e,r[e]={element:n,status:"preload"},n}(e);return c.addEventListener("load",a),c.addEventListener("error",d),c.addEventListener("loadstart",u),s||(n&&(c=n(c)),t("preload"),document.body.appendChild(c)),function(){c.removeEventListener("load",a),c.removeEventListener("error",d),c.removeEventListener("loadstart",u)}}),[e,s,n]),s}},586122:function(e,n,t){"use strict";t.d(n,{W:function(){return o}});var i=t(331635),a=t(474848),r=(t(296540),t(646822));function o(){return function(e){return function(n){var t={fullscreen:(0,r.H)()};return(0,a.jsx)(e,(0,i.__assign)({},t,n))}}}},471872:function(e,n,t){"use strict";t.d(n,{m:function(){return o},r:function(){return r}});var i=t(296540),a=t(346716);function r(e,n){void 0===n&&(n={});var t=n.bucketing,r=null==t?void 0:t.type,o=null==t?void 0:t.value,s=(0,i.useMemo)((function(){return void 0!==r&&o?{bucketing:{type:r,value:o}}:void 0}),[r,o]);return(0,i.useMemo)((function(){return a.x2.experiments.getAndTrackAssignment(e,s)}),[e,s])}function o(e,n){return n}},646822:function(e,n,t){"use strict";t.d(n,{H:function(){return v}});var i=t(581925),a=t.n(i),r=t(296540),o=[];a().onchange=function(){o.forEach((function(e){e()}))};var s=function(e){o.push(e)},l=function(e){o=o.filter((function(n){return n!==e}))},d=function(){return!!a().enabled},u=function(e){return!(!e||!a().videoEnabled(e))},c=function(){return a().element},p=function(e){a().request(e)},m=function(){a().exit()};function v(){return r.useMemo((function(){return{addChangeListener:s,removeChangeListener:l,supported:d,videoSupported:u,element:c,enable:p,disable:m}}),[])}},22046:function(e,n,t){"use strict";t.d(n,{g:function(){return a}});var i=t(296540);function a(e,n){var t=(0,i.useState)(!1),a=t[0],r=t[1];return(0,i.useEffect)((function(){if(e&&!n){r(!1);var t=document.createElement("img");return t.onload=function(){return r(!0)},t.src=e,function(){t.onload=null}}}),[e,n]),a}},640598:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var i=t(726561),a=t(891975),r=t(296540),o=t(346716),s=t(214120);function l(e){var n=e.topic,t=e.onError,l=e.onMessage,d=e.onListenSuccess,u=e.skip,c=e.jitterUpToMaxMS,p=(0,i.F)(c),m=(0,i.F)(l),v=(0,i.F)(t),f=(0,i.F)(d),g=r.useRef(new Set);(0,a.S)((function(){return function(){g.current.forEach((function(e){window.clearTimeout(e)}))}})),r.useEffect((function(){if(n&&!u){var e=o.UE.subscribe({topic:n,failure:function(e){var n;null===(n=v.current)||void 0===n||n.call(v,e)},success:function(){var e;null===(e=f.current)||void 0===e||e.call(f)},onMessage:function(e){if(p.current){var n=window.setTimeout((function(){g.current.delete(n),m.current(e)}),(0,s.yT)(p.current));g.current.add(n)}else m.current(e)}});return e}}),[u,p,v,m,f,n])}},440549:function(e,n,t){"use strict";var i;t.d(n,{P:function(){return i}}),function(e){e.Live="live",e.WatchParty="watch_party",e.Premiere="premiere",e.Rerun="rerun"}(i||(i={}))},979205:function(e,n,t){"use strict";function i(e){var n,t,i,a=null!==(n=null==e?void 0:e.game)&&void 0!==n?n:null,r=null!==(i=null===(t=null==e?void 0:e.game_id)||void 0===t?void 0:t.toString())&&void 0!==i?i:null;return{gameID:r,gameName:a,missingGameInfo:null===a||null===r||""===r,updatingToNullGame:""===a||0==+(null!=r?r:"")}}t.d(n,{v:function(){return i}})},536250:function(e,n,t){"use strict";t.d(n,{A:function(){return r},h:function(){return a}});var i=t(346716),a={Black:"black",White:"white",Red:"red",Green:"green",Blue:"blue",Yellow:"yellow",Magenta:"magenta",Cyan:"cyan",LightGray:"lightgray",Gray:"gray",DarkGray:"darkgray",Transparent:"transparent"};function r(e){switch(e){case a.Black:return(0,i.hw)("Black","FormatColorName");case a.White:return(0,i.hw)("White","FormatColorName");case a.Red:return(0,i.hw)("Red","FormatColorName");case a.Green:return(0,i.hw)("Green","FormatColorName");case a.Blue:return(0,i.hw)("Blue","FormatColorName");case a.Yellow:return(0,i.hw)("Yellow","FormatColorName");case a.Magenta:return(0,i.hw)("Magenta","FormatColorName");case a.Cyan:return(0,i.hw)("Cyan","FormatColorName");case a.LightGray:return(0,i.hw)("Light Gray","FormatColorName");case a.Gray:return(0,i.hw)("Gray","FormatColorName");case a.DarkGray:return(0,i.hw)("Dark Gray","FormatColorName");case a.Transparent:return(0,i.hw)("Transparent","FormatColorName");default:return""}}},798999:function(e,n,t){"use strict";t.d(n,{E:function(){return o},d:function(){return r}});var i=t(474848),a=(t(296540),/^[\x00-\x7F]*$/),r=function(e,n,t){return void 0===t&&(t=!1),n&&e&&!o(n)?t?"".concat(n," (").concat(e,")"):(0,i.jsxs)("span",{children:[n," ",(0,i.jsx)("span",{className:"intl-login",children:"(".concat(e,")")})]}):n||(e||"")};function o(e){return a.test(e)}},630193:function(e,n,t){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}t.d(n,{W:function(){return i}})},192453:function(e,n,t){"use strict";t.d(n,{n:function(){return a}});var i=t(407350),a=t.n(i)()},116989:function(e,n,t){"use strict";t.d(n,{O:function(){return a},d:function(){return r}});var i=t(267924);function a(e){switch(e){case i.Suw.ARCHIVE:return"archive";case i.Suw.HIGHLIGHT:return"highlight";case i.Suw.UPLOAD:return"upload";case i.Suw.PAST_PREMIERE:return"past_premiere";case i.Suw.PREMIERE_UPLOAD:return"premiere_upload";default:return e}}function r(e){return e===i.msm.VIEWS?"popular_videos":"recent_videos"}},300780:function(e,n,t){"use strict";t.d(n,{n:function(){return i}});var i=function(){function e(e){this.debounceDuration=0,this.timeout=0,this.debounceDuration=e}return e.prototype.clear=function(){clearTimeout(this.timeout)},e.prototype.invoke=function(e){clearTimeout(this.timeout),this.timeout=setTimeout(e,this.debounceDuration)},e}()},509611:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(331635),a=t(891975),r=t(296540),o=t(345732),s=t(323692),l=t(522646),d=t(573566);function u(e){var n=r.useRef(e);return r.useEffect((function(){n.current=e}),[e]),r.useCallback((function(e){return n.current(e)}),[])}var c=function(e){var n=e.adMuted,t=e.adVolume,c=e.adFormatMetadata,p=e.adFormatRequest,m=e.clientSideAdSelectionParams,v=e.reset,f=e.mainPlayerVolume,g=e.trackAdFormatData,h=e.trackAdFormatRAdEvent,y=e.eventSideEffectOptions,k=e.addEventListener,S=r.useRef(),_=r.useRef(),C=r.useRef(!1),b=r.useCallback((function(e,i,a){if(!(null==c?void 0:c.podReplayLoopStarted)||["ad_click","ad_mute","ad_pause"].includes(e)){var r=!!n,s=+(t||0).toFixed(10),l=(0,o.A7)(i.adInfo,a,r,s);g(e,l)}}),[n,t,g,c]),P=r.useCallback((function(e,i,a){if(!(null==c?void 0:c.podReplayLoopStarted)){var r=!!n,s=+(t||0).toFixed(10),l=(0,o.A7)(i.adInfo,a,r,s);h(e,l)}}),[n,t,h,c]),E=r.useCallback((function(){Date.now()-_.current>8e3&&(v&&v(),j())}),[v]),x=r.useCallback((function(e){e?S.current||(_.current=Date.now(),S.current=setInterval(E,1e3)):j()}),[E]),A=u((function(e){var n;b("ad_pod_complete",e,{stitched:!1}),b("ad_client_pod_completion",e,(0,o.iB)(e.adInfo,p,c)),null===(n=null==y?void 0:y.get(l.V.ContentResumeRequested))||void 0===n||n({event:e})})),N=u((function(e){var n;b("ad_pause",e,{ad_is_paused:!1}),x(!0),null===(n=null==y?void 0:y.get(l.V.Resumed))||void 0===n||n({event:e})})),w=u((function(e){var n;b("ad_pause",e,{ad_is_paused:!0}),x(!1),null===(n=null==y?void 0:y.get(l.V.Paused))||void 0===n||n({event:e})})),I=u((function(e){var n;null===(n=null==y?void 0:y.get(l.V.ContentPauseRequested))||void 0===n||n({event:e})})),T=u((function(e){var i;b("video_ad_loaded",e,{player_mute:!!n,player_volume:+(t||0).toFixed(10)}),null===(i=null==y?void 0:y.get(l.V.Loaded))||void 0===i||i({event:e})})),D=u((function(e){var n;null===(n=null==y?void 0:y.get(l.V.VolumeChanged))||void 0===n||n({event:e})})),F=u((function(e){var n,t;b("ad_mute",e,{ad_is_muted:e.muted}),e.muted?null===(n=null==y?void 0:y.get(l.V.Muted))||void 0===n||n({event:e}):null===(t=null==y?void 0:y.get(l.V.Unmuted))||void 0===t||t({event:e})})),O=u((function(e){var n;b("ad_click",e,{stitched:!1}),null===(n=null==y?void 0:y.get(l.V.Click))||void 0===n||n({event:e})})),R=u((function(e){var n;x(!0),null===(n=null==y?void 0:y.get(l.V.Started))||void 0===n||n({event:e})})),V=u((function(e){var n,t,a;switch(b("ad_quartile",e,{quartile:e.quartile}),b("ad_client_quartile",e,(0,i.__assign)((0,i.__assign)({},(0,o.iB)(e.adInfo,p,c)),{quartile:e.quartile})),e.quartile){case 1:null===(n=null==y?void 0:y.get(l.V.FirstQuartile))||void 0===n||n({event:e});break;case 2:null===(t=null==y?void 0:y.get(l.V.Midpoint))||void 0===t||t({event:e});break;case 3:null===(a=null==y?void 0:y.get(l.V.ThirdQuartile))||void 0===a||a({event:e})}})),M=u((function(e){var n;V(e),x(!1),b("video_ad_impression_complete",e,{stitched:!1}),null===(n=null==y?void 0:y.get(l.V.Complete))||void 0===n||n({event:e})})),L=u((function(e){var n;b("video_ad_time_elapsed",e,{time_elapsed:e.progress}),_.current=Date.now(),null===(n=null==y?void 0:y.get(l.V.Progress))||void 0===n||n({event:e})})),j=function(){S&&(clearInterval(S.current),S.current=void 0)},B=u((function(e){var n,i,a,r,d,u,v,g,h,k,S,_,C,E=Date.now(),x=c,A=null===(n=null==x?void 0:x.adInfo)||void 0===n?void 0:n.adSystem,N={request_to_impression_latency:E-e.request.requestTime,pre_impression_player_volume:f,player_volume:+(t||0).toFixed(10),quality:(null==m?void 0:m.isAutoQualityMode)?"auto":"".concat(null!==(i=null==m?void 0:m.currentVideoWidth)&&void 0!==i?i:0,"x").concat(null!==(a=null==m?void 0:m.currentVideoHeight)&&void 0!==a?a:0),current_bitrate:Math.round(null!==(r=null==m?void 0:m.currentVideoBitrate)&&void 0!==r?r:0),ad_stored_bitrate_kbps:null!==(d=null==m?void 0:m.storedAdBitrate)&&void 0!==d?d:0,ad_max_bitrate_kbps:null!==(u=null==m?void 0:m.maxAdBitrate)&&void 0!==u?u:0,ad_resolution:"".concat(null!==(g=null===(v=e.adInfo)||void 0===v?void 0:v.vastMediaWidth)&&void 0!==g?g:0,"x").concat(null!==(k=null===(h=e.adInfo)||void 0===h?void 0:h.vastMediaHeight)&&void 0!==k?k:0),ad_bitrate_kbps:null!==(_=null===(S=e.adInfo)||void 0===S?void 0:S.vastMediaBitrate)&&void 0!==_?_:0};P(s.V.AdImpression,e,N),A&&"FAS"===A?b("ad_impression_fake",e,N):(b("ad_impression",e,N),b("ad_client_impression",e,(0,o.iB)(e.adInfo,p,c))),null===(C=null==y?void 0:y.get(l.V.Impression))||void 0===C||C({event:e})})),U=u((function(e){var n,t={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};g("ad_error",t),null===(n=null==y?void 0:y.get(l.V.Error))||void 0===n||n()})),q=u((function(){var e;null===(e=null==y?void 0:y.get(l.V.PodReplayLoopStarted))||void 0===e||e()}));r.useEffect((function(){C.current=!!c&&null!==c.videoAd&&(0,d.hr)(c)}),[c]);var G=r.useCallback((function(e,n){k(e,(function(e){C.current&&n(e)}))}),[k]);(0,a.S)((function(){G(l.V.ContentPauseRequested,I),G(l.V.ContentResumeRequested,A),G(l.V.Complete,M),G(l.V.Error,U),G(l.V.FirstQuartile,V),G(l.V.Impression,B),G(l.V.Loaded,T),G(l.V.Midpoint,V),G(l.V.Paused,w),G(l.V.Progress,L),G(l.V.Resumed,N),G(l.V.Started,R),G(l.V.ThirdQuartile,V),G(l.V.VolumeChanged,D),G(l.V.Click,O),G(l.V.Muted,F),G(l.V.Unmuted,F),G(l.V.PodReplayLoopStarted,q)}))}},170809:function(e,n,t){"use strict";t.d(n,{A:function(){return o}});var i=t(891975),a=t(296540),r=t(573566),o=function(e){var n=(0,a.useRef)([]),t=(0,a.useRef)([]),o=e.videoAdMetadata,s=e.adFormatMetadata,l=(0,a.useCallback)((function(e,i){var a={event:e,listener:i},l=(0,r.jC)(o,s);l?(t.current.push(a),n.current=u(n.current,e,i),l.addEventListener(e,i)):n.current.push(a)}),[s,o]),d=(0,a.useCallback)((function(e,n){var i=(0,r.jC)(o,s);i&&(t.current=u(t.current,e,n),i.removeEventListener(e,n))}),[s,o]),u=function(e,n,t){return e.filter((function(e){var i=e.event,a=e.listener;return n!==i&&t!==a}))},c=(0,a.useCallback)((function(e){0!==n.current.length&&e&&!e.stitched&&n.current.forEach((function(e){var n=e.event,t=e.listener;return l(n,t)}))}),[l]);return(0,a.useEffect)((function(){o?c(o):(0,r.hr)(s)?c(s):0!==t.current.length&&(t.current.forEach((function(e){return n.current.push(e)})),t.current=[])}),[d,c,o,s]),(0,i.S)((function(){return function(){var e=(0,r.jC)(o,s);t.current.forEach((function(n){var t=n.event,i=n.listener;null==e||e.removeEventListener(t,i)}))}})),{adEvents:{addEventListener:l,removeEventListener:d}}}},531763:function(e,n,t){"use strict";t.d(n,{p:function(){return y}});var i=t(331635),a=t(783321),r=t(503472),o=t(777952),s=t(346716),l=t(669022),d=t(960052),u=t(704883),c=t(922314),p=t(44377),m=t(726280),v=t(573566),f=t(118483),g=t(152427),h=t.n(g),y=function(e){var n=e.adFormatRequest,t=e.adFormatMetadata,g=e.adPlacement,y=e.radToken,k=e.content,S=e.behaviors,_=e.muted,C=e.volume,b=e.videoSessionId,P=e.videoContainer,E=e.track,x=(0,l.S9)().data,A=(0,a.n_)(h())[0],N=new Set(["ad_impression",c.V.AdImpression,"ad_quartile"]),w=s.vF.withCategory("WithAdFormatTrackingComponent"),I=function(e){if(N.has(e))return(0,u.K)(P)},T=function(e){var a,r,l,u,c,h,y,P,E;if((0,v.lq)(t))return{stitched:!0};var A=k?(0,f.DG)(k)?o.cM.Live:(0,f.wy)(k)?o.cM.VOD:(0,f.Jn)(k)?o.cM.Clip:"":"",N={tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,content_type:A,gdpr_logs:null===(r=null===(a=null==x?void 0:x.consent)||void 0===a?void 0:a.gdprUserPreferences)||void 0===r?void 0:r.tcData.tcString,gdpr_consent:null===(c=null===(u=null===(l=null==x?void 0:x.consent)||void 0===l?void 0:l.gdprUserPreferences)||void 0===u?void 0:u.tcData.purpose.consents)||void 0===c?void 0:c.valueOf(),gdpr_enabled:null===(P=null===(y=null===(h=null==x?void 0:x.consent)||void 0===h?void 0:h.gdprUserPreferences)||void 0===y?void 0:y.tcData.ifGDPRApplies)||void 0===P?void 0:P.valueOf(),referrer_domain:null===(E=s.E5.getLastPageview())||void 0===E?void 0:E.referrer_domain,is_embed:null==S?void 0:S.embed,ad_placement:g,player_mute:_,player_volume:C,player_visibility:I(e),tab_in_view:"visible"===document.visibilityState,video_session_id:b};if(!n)return N;var w={};n.status!==m.s.Pending&&(w={sdk:n.sdk});var T=t?t.adFormat:n.adFormat,D=void 0;return(0,d.Ix)(T)?D=T:(0,d.vK)(T)&&(D=p.Z$[T]),(0,i.__assign)((0,i.__assign)({is_mafs:!!n.mafsDecision,ad_position:(null==t?void 0:t.adPosition)||0,ad_session_id:n.sessionID,break_length:n.duration,commercial_id:n.commercialID,creative_id:n.adCreativeID,format_name:D,roll_type:n.roll,stitched:(null==t?void 0:t.stitched)||!1,twitch_correlator:n.twitchCorrelator},N),w)};return{trackAdFormatData:function(e,n){E?E(e,(0,i.__assign)((0,i.__assign)({},T(e)),n)):s.E5.track(e,(0,i.__assign)((0,i.__assign)({},T(e)),n))},trackAdFormatRAdEvent:function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof y)return[2];t={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},n),T(e))),radToken:y},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,A((0,r.AR)(t))];case 2:return o.sent(),[3,4];case 3:return a=o.sent(),w.errorAndReport(a,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))}}}},269661:function(e,n,t){"use strict";t.d(n,{Z6:function(){return p},w6:function(){return m}});var i=t(296540),a=t(346716),r=t(953113),o=t(574156),s=t(486612),l=t(669022),d="v6ssdk_version",u="1.2.2",c="1.2.3",p="Amazon Video Ads load failed";function m(e){var n=e.onAVAPLoadError,t=e.shouldInitializeAVAP,p=e.thirdPartyVideoAdElement,m=e.thirdPartyCompanionAdElement,v=e.thirdPartyOutstreamVideoAdElement,f=(0,i.useRef)(a.x2.logger.withCategory("AVAPInitializer")),g=(0,i.useState)(null),h=g[0],y=g[1],k=(0,i.useMemo)((function(){return a.x2.experiments.getAndTrackAssignment(d)===c?c:u}),[]),S=(0,i.useMemo)((function(){return"https://d2v02itv0y9u9t.cloudfront.net/dist/".concat(k,"/v6s.js")}),[k]),_=(0,r.j8)(S),C=!(!_||"loaded"!==_.status),b=!(!_||"failed"!==_.status);(0,i.useEffect)((function(){b&&n()}),[b]),(0,i.useEffect)((function(){C&&(window.AmazonVideoAds?p&&t&&(p.classList.add("avap-ads-container"),y(new window.AmazonVideoAds(p))):n())}),[C,p,t]),(0,i.useEffect)((function(){var e;h&&m&&(null===(e=h.setCompanion)||void 0===e||e.call(h,m))}),[h,m]),(0,i.useEffect)((function(){var e;h&&v&&(null===(e=h.setOutStreamAdsContainerNode)||void 0===e||e.call(h,v))}),[h,v]);var P=(0,l.S9)().data,E=(0,o.cJ)(P),x=!(0,o.bq)(s.F.TwitchAmazon,P),A=(0,i.useRef)(!1);return(0,i.useEffect)((function(){var e;h&&!A.current&&E&&(A.current=!0,x?(f.current.debug("Amazon consent given, calling fireTrackingPixel()"),null===(e=h.fireTrackingPixel)||void 0===e||e.call(h,!0)):f.current.debug("Amazon consent denied"))}),[h,x,E]),{sdkVersion:k,sdkUrl:S,amazonVideoAds:h}}},65684:function(e,n,t){"use strict";t.d(n,{c:function(){return l}});var i=t(474848),a=t(296540),r=t(407827),o=t(961420),s=r.x.wrap((function(){return t.e(99354).then(t.bind(t,925732))}),"DSAWizardModalManagerComponent",{failSilently:!0,placeholder:null}),l=function(e){var n=a.useState(e.shouldMount),t=n[0],r=n[1];return e.shouldMount&&!t&&r(!0),(0,o.QN)((function(e){return e.session.firstPageLoaded}))&&t?(0,i.jsx)(s,{managerId:e.managerId}):null}},55533:function(e,n,t){"use strict";var i,a;t.d(n,{A:function(){return i},y:function(){return a}}),function(e){e.AdInProgress="ad_in_progress",e.DuplicateTrigger="duplicate_trigger"}(i||(i={})),function(e){e.Turbo="turbo",e.TurboGQLQueryError="initialization_error",e.ExperimentSegment="experiment_segment",e.PlayerSize="player_size",e.SavantFlag="savant_flag",e.MiniPlayer="mini_player",e.InvalidFormat="invalid_format",e.NotSurestream="not_surestream",e.LowerThirdChannelSkinEnabled="lower_third_channel_skin_enabled",e.TabNotVisible="sda_v_condition_not_met",e.InvalidWindowSize="reason_invalid_window_size",e.RightColumnCollapsed="reason_right_column_collapsed"}(a||(a={}))},717286:function(e,n,t){"use strict";t.d(n,{k:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(346716),s=t(963423),l=t(195824),d=t(854803),u=t(306445),c=t(917602);function p(e){var n,t=(0,o.hw)("{bitsAmount} Bits",{bitsAmount:e.count.toString()},"Bits--BitsCount");if(e.withImage){var p=e.bitsConfig&&e.bitsConfig.indexedActions[l.J_];p||(p=(0,u.Vt)("Cheer"));var m=void 0;if(0===e.count)m=l.fB;else for(var v=0,f=p.orderedTiers;v<f.length;v++){var g=f[v];if(g.bits<=e.count){m=g.bits;break}}if(m){var h=(0,d.Yj)(p,m,void 0,e.animated);return void 0!==e.themeOverride&&(e.themeOverride===s.S.Light?h.dark=h.light:h.light=h.dark),n=(0,i.jsx)(c.F,{className:"bits-count--img",sources:h}),(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsxs)(a.P,{display:r.nl.InlineBlock,children:[n," ",e.withText?t:""]})})}}return(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsx)(a.P,{display:r.nl.InlineBlock,children:t})})}},742633:function(e,n,t){"use strict";t.d(n,{Ne:function(){return i},gP:function(){return r},jX:function(){return s},l2:function(){return o}});var i,a=t(269964);!function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={}));var r="balance_update",o="first_bits_purchase";function s(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];n.push({__typename:"PinnedCheerLevel",id:r.name,name:(0,a.mM)(r.name),minBits:r.min_bits,maxBits:r.max_bits,durationSeconds:r.duration_sec})}return n}},380226:function(e,n,t){"use strict";var i;t.d(n,{r:function(){return i}}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},195824:function(e,n,t){"use strict";t.d(n,{A_:function(){return d},By:function(){return c},C4:function(){return C},D_:function(){return S},Fh:function(){return s},Hk:function(){return b},IU:function(){return u},J_:function(){return f},Jl:function(){return v},Nx:function(){return m},Vp:function(){return o},aN:function(){return y},fB:function(){return g},jW:function(){return l},jq:function(){return h},mj:function(){return _},rQ:function(){return k},sZ:function(){return r},yP:function(){return p}});var i,a=t(380226),r={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s="".concat(o,"/cheer"),l="".concat(o,"/actions"),d="".concat(l,"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION"),u="bonus",c=1e5,p=25e4,m=500,v=1e3,f="cheer",g=a.r.Purple,h=((i={})[a.r.Gray]="#979797",i[a.r.Purple]="#9c3ee8",i[a.r.Green]="#1db2a5",i[a.r.Blue]="#0099fe",i[a.r.Red]="#f43021",i[a.r.Yellow]="#f3a71a",i),y="AnAnonymousCheerer",k="ananonymouscheerer",S="407665396",_="lapsed_bits_user",C="lapsed_bits_user",b="mpu_portals"},222115:function(e,n,t){"use strict";t.d(n,{B:function(){return u},Y:function(){return d}});var i=t(973421),a=t.n(i),r=t(982821),o=t(503472),s=t(456450),l=t(742633);function d(e,n,t){return{topic:t?(0,s.c9)(t):"",type:r.PD.UserBitsBalanceUpdate,mutator:function(e,n){return n&&e.message_type===l.gP?(n.currentUser&&e.data&&(n=a()(n,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),n):n},skip:!n||!t,query:e}}function u(e,n,t){(0,o.oR)(e,undefined,(function(e){return e?(e.currentUser&&e.currentUser.bitsBalance&&(e=a()(e,(function(e){return e.currentUser.bitsBalance}),(function(){return t}))),e):e}),(function(){return!n}))}},854803:function(e,n,t){"use strict";t.d(n,{Fm:function(){return s},Je:function(){return l},Yj:function(){return c},j7:function(){return u},o7:function(){return d}});var i=t(267924),a=t(195824),r=t(251184),o=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function s(e,n,t){void 0===t&&(t=!0);var i=[],a=e.split(/\s+/);return a.forEach((function(e,o){var s=l(e,n,t);if(s)i.push(s);else{var d=i.length&&i[i.length-1],u="";if(o<a.length-1&&(u=" "),d&&d.type===r.X.Text)d.content+=e+u;else{var c="";o&&(c=" "),i.push({type:r.X.Text,content:c+e+u})}}})),i}function l(e,n,t){void 0===t&&(t=!0);var a=e.match(o);if(!a)return null;var s=a[1].toLowerCase(),l=Number(a[2]),d=n.indexedActions[s];if(d&&(d.type!==i.x2$.DISPLAY_ONLY||t)){var u=d.orderedTiers.find((function(e){return e.bits<=l}));!u&&l&&(u=d.orderedTiers[0]);var p=n.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:r.X.Emote,content:{images:c(d,u.bits),alt:d.prefix,cheerAmount:l,cheerColor:null==p?void 0:p.color}}}return null}function d(e,n){var t,i,r=(t=n,i=new Map,t.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,n){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(t=o.get(e.alt))&&(t.total+=e.cheerAmount||0,t.lastAppearance=n)}else{var t={total:e.cheerAmount||0,lastAppearance:n,campaign:r.get(e.alt)};o.set(e.alt,t)}}));var s=1;return o.forEach((function(t){var i=0;t.campaign.thresholds.forEach((function(e){t.total>=e.minimumBits&&(i=e.matchedPercent)}));var r=Math.trunc(t.total*i);if(r>0){var o=l(a.IU+r,n,!0);o&&e.splice(t.lastAppearance+s++,0,o.content)}})),e}function u(e,n){return s(e,n,!0).reduce((function(e,n){return n.type===r.X.Emote&&e.push(n.content),e}),[]).some((function(e){var t=n.orderedActions.find((function(n){return!!e.alt&&e.alt===n.prefix}));return!!t&&t.type===i.x2$.DISPLAY_ONLY}))}function c(e,n,t,i){var a,r;void 0===i&&(i=!0);var o=i?"animated":"static";return t?{themed:!0,dark:(a={},a["".concat(t,"x")]=e.getImage("dark",o,n,t),a),light:(r={},r["".concat(t,"x")]=e.getImage("light",o,n,t),r)}:{themed:!0,dark:{"1x":e.getImage("dark",o,n,1),"1.5x":e.getImage("dark",o,n,1.5),"2x":e.getImage("dark",o,n,2),"3x":e.getImage("dark",o,n,3),"4x":e.getImage("dark",o,n,4)},light:{"1x":e.getImage("light",o,n,1),"1.5x":e.getImage("light",o,n,1.5),"2x":e.getImage("light",o,n,2),"3x":e.getImage("light",o,n,3),"4x":e.getImage("light",o,n,4)}}}},306445:function(e,n,t){"use strict";t.d(n,{Vt:function(){return v},mr:function(){return u},vs:function(){return c}});var i,a=t(267924),r=t(380226),o=t(195824),s=t(198365),l={Cheer:a.x2$.FIRST_PARTY,Kappa:a.x2$.FIRST_PARTY,Kreygasm:a.x2$.FIRST_PARTY,Muxy:a.x2$.THIRD_PARTY,Showlove:a.x2$.FIRST_PARTY,Streamlabs:a.x2$.THIRD_PARTY,SwiftRage:a.x2$.FIRST_PARTY,Uni:a.x2$.FIRST_PARTY,VoHiYo:a.x2$.FIRST_PARTY},d=[r.r.Red,r.r.Blue,r.r.Green,r.r.Purple,r.r.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:p};function c(){if(!i){var e=m("Cheer",a.x2$.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:d.map((function(e){return{bits:e,color:o.jq[e]}})),getImage:p}}return i}function p(e,n,t,i,a){var r="animated"===t?"gif":"png";return(0,s.LZ)(o.A_,{prefix:e,background:n,animation:t,tier:i,scale:a,extension:r})}function m(e,n){var t=d.map((function(n){return{__typename:"CheermoteTier",bits:n,canShowInBitsCard:!0,id:"".concat(e,";").concat(n)}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:n,tiers:t,orderedTiers:t,getImage:p.bind(void 0,e)}}function v(e){return m(e,l[e])}},198365:function(e,n,t){"use strict";t.d(n,{LZ:function(){return o},Vg:function(){return r},in:function(){return s}});var i=t(331635),a=t(579025);function r(e,n){var t={};function r(n,i,a,r,s){if(n=n.toLowerCase(),!t[n])return"";var l=t[n].template,d=e.types.find((function(e){return e.animation===a}));return d?o(l,{prefix:n,background:i,animation:a,tier:r,scale:s,extension:d.extension}):""}for(var s=e.order.reduce((function(e,n,t){return e[n]=t,e}),{}),l=new a.r((function(e,n){var t=s[e.type]-s[n.type];return 0!==t?t:e.tierBreakerOrder-n.tierBreakerOrder})),d=0,u=0,c=n;u<c.length;u++)for(var p=c[u],m=0,v=p.nodes;m<v.length;m++){var f=v[m],g=(0,i.__assign)((0,i.__assign)({},f),{orderedTiers:f.tiers.slice().sort((function(e,n){return n.bits-e.bits})),template:p.templateURL,getImage:r.bind(void 0,f.prefix),tierBreakerOrder:d});t[f.prefix.toLowerCase()]=g,l.push(g),d++}return{indexedActions:t,orderedActions:l.top(l.size()),tiers:e.colors.slice().sort((function(e,n){return n.bits-e.bits})),getImage:r}}function o(e,n){return e.replace("PREFIX",n.prefix.toLowerCase()).replace("BACKGROUND",n.background).replace("ANIMATION",n.animation).replace("TIER",n.tier.toString()).replace("SCALE",n.scale.toString()).replace("EXTENSION",n.extension)}function s(e,n){return{id:"".concat(n,"-").concat(e.entry_key),score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key,login:"",displayName:""},__typename:"UserLeaderboardItem"}}},194569:function(e,n,t){"use strict";t.d(n,{IU:function(){return f},hW:function(){return k},m9:function(){return g}});var i,a=t(474848),r=t(727234),o=t(296540),s=t(346716),l=t(86043),d=t(337930),u=t(214120),c=t(709673),p=t(436617),m={isTooSmall:!0,isSurveyOpportunity:!1,isSurveyShowing:!1,isMouseHovering:!1,refetchEnabled:!1,retriggerTimer:{current:0},startVideoSession:function(){},triggerOpportunity:function(){},acceptOpportunity:function(){},declineOpportunity:function(){},onClose:function(){},setMouseHovering:function(){},setRefetchEnabled:function(){}},v=(0,p.e)("BrandLiftContext",m,(function(e){return{brandLiftContext:e}})),f=v.withMemoContext,g=v.context;!function(e){e.VideoPlaySessionStarted="VideoPlaySessionStarted",e.FirstSDABreakStarted="FirstSDABreakStarted",e.SecondSDABreakStarted="SecondSDABreakStarted",e.SurveyOpportunity="SurveyOpportunity",e.SurveyShowing="SurveyShowing",e.Done="Done"}(i||(i={}));var h=s.x2.logger.withCategory("brandlift").withCategory("context"),y=function(e){var n=e.children,t=o.useState(!1),s=t[0],d=t[1],p=o.useState(!0),m=p[0],v=p[1],f=o.useState(!1),y=f[0],k=f[1],S=o.useState(i.VideoPlaySessionStarted),_=S[0],C=S[1],b=o.useContext(c.jK).adFormatRequest,P=(0,r.Z)(b),E=o.useRef(0);o.useEffect((function(){if(!P&&!!b)switch(_){case i.VideoPlaySessionStarted:C(i.FirstSDABreakStarted);break;case i.FirstSDABreakStarted:C(i.SecondSDABreakStarted),setTimeout((function(){C(i.SurveyOpportunity)}),3e5+(0,u.yT)(6e4))}}),[b,P,_]),o.useEffect((function(){h.debug(_)}),[_]),o.useEffect((function(){h.debug("isTooSmall=".concat(m))}),[m]);var x={isTooSmall:m,isMouseHovering:s,isSurveyOpportunity:_===i.SurveyOpportunity,isSurveyShowing:_===i.SurveyShowing,refetchEnabled:y,retriggerTimer:E,startVideoSession:function(){return C(i.VideoPlaySessionStarted)},triggerOpportunity:function(){return C(i.SurveyOpportunity)},acceptOpportunity:function(){return C(i.SurveyShowing)},declineOpportunity:function(){return C(i.Done)},onClose:function(){return C(i.Done)},setMouseHovering:d,setRefetchEnabled:k},A=o.useCallback((function(e){return v(!e||e<948)}),[]);return(0,a.jsxs)(g.Provider,{value:x,children:[(_===i.SurveyOpportunity||_===i.SurveyShowing)&&(0,a.jsx)(l.$,{onResize:A}),n||null]})},k=function(e){var n=e.children;return(0,d.fX)("addressability_experiment_survey_p0")||(0,d.fX)("brand_lift_v0")?(0,a.jsx)(y,{children:n||null}):(0,a.jsx)(g.Provider,{value:m,children:n||null})}},226483:function(e,n,t){"use strict";t.d(n,{l:function(){return o}});var i=t(474848),a=t(216042),r=t(914421),o=t(296540).forwardRef((function(e,n){var t;return(0,i.jsx)(a.S,{position:r.yX.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,height:e.height?e.height:"100%",display:r.nl.Flex,alignItems:r.k2.Center,justifyContent:r.A9.Center,zIndex:null!==(t=e.zIndex)&&void 0!==t?t:r.Py.Above,className:"celebration__overlay",children:(0,i.jsx)("div",{ref:n,children:e.children})})}))},447944:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var i=t(296540).createRef()},59470:function(e,n,t){"use strict";t.d(n,{DV:function(){return u},KK:function(){return c}});var i=t(331635),a=t(474848),r=(t(296540),t(172100)),o=t(559147),s=t(659456),l={loading:!1,data:null,campaignSettings:null,channel:void 0,currentUser:void 0,isDarkMode:!1,canShowChannelSkins:!1,creatorColor:"",placements:{videoOverlay:null,frontPageVideoOverlay:null,aboveChat:null,subSubAboveChat:null,ribbon:null},trackImpression:function(){},trackClick:function(){},subsidizedSubscriptions:null},d=(0,t(436617).e)("ChannelSkinsContext",l,(function(e){return{channelSkinsContext:e}})),u=(d.withMemoContext,d.context),c=function(e){var n=e.children,t=e.channelLogin,l=(0,i.__rest)(e,["children","channelLogin"]),d=(0,s.N)(),c=(0,r.h5)(),p=t||(null==d?void 0:d.channelLogin)||(null==c?void 0:c.channelLogin)||"",m=(0,o.Di)((0,i.__assign)({channelLogin:p},l));return(0,a.jsx)(u.Provider,{value:m,children:n||null})}},172100:function(e,n,t){"use strict";t.d(n,{HX:function(){return d},Rn:function(){return s},h5:function(){return l}});var i=t(474848),a=t(296540),r=(0,t(397568).q)("SelectedChannelLoginContext",{channelLogin:null,setChannelLogin:function(){return null}}),o=r.context,s=r.withContext,l=function(){return a.useContext(o)},d=function(e){var n=e.children,t=a.useState(null),r=t[0],s=t[1],l=a.useMemo((function(){return{channelLogin:r,setChannelLogin:s}}),[r,s]);return(0,i.jsx)(o.Provider,{value:l,children:n})}},837576:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var i=t(783321),a=t(766139),r=t.n(a),o=function(){var e,n,t=(0,i.IT)(r()),a=t.data;return!t.loading&&(null===(n=null===(e=null==a?void 0:a.currentUser)||void 0===e?void 0:e.isChatHappeningNowEnabled)||void 0===n||n)}},804352:function(e,n,t){"use strict";t.d(n,{$:function(){return u}});var i=t(331635),a=t(296540),r=t(783321),o=t(766139),s=t.n(o),l=t(934916),d=t.n(l),u=function(){var e=(0,r.n_)(d(),{update:function(e,n){var t=n.data;if(null==t?void 0:t.setChatHappeningNowSettings){var a=e.readQuery({query:s()}),r=null==a?void 0:a.currentUser;if(!r)return;e.writeQuery({query:s(),data:{currentUser:(0,i.__assign)((0,i.__assign)({},r),{isChatHappeningNowEnabled:t.setChatHappeningNowSettings.isChatHappeningNowEnabled})}})}}})[0];return{setHappeningNowSettings:a.useCallback((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e({variables:{input:{isChatHappeningNowEnabled:n}}})];case 1:return t=i.sent().data,[2,null===(a=null==t?void 0:t.setChatHappeningNowSettings)||void 0===a?void 0:a.isChatHappeningNowEnabled]}}))}))}),[e])}}},455987:function(e,n,t){"use strict";t.d(n,{Ee:function(){return r},FI:function(){return o},HK:function(){return u},Pi:function(){return i},Wn:function(){return l},sZ:function(){return s},yj:function(){return a},zQ:function(){return d}});var i=15,a="chat.has_interacted_with_full_screen_chat",r="chat.happening_now_hide_info",o="chat.has_seen_happening_now_settings",s={count:0,seenDisablePrompt:!1},l=3,d=5184e6,u=300},633097:function(e,n,t){"use strict";t.d(n,{S:function(){return m},g:function(){return p}});var i=t(296540),a=t(415044),r=t(346716),o=t(145748),s=t(982821),l=t(456450),d=t(131883),u=t(393315),c=t(552590),p="community-moments-rollout",m=function(e){var n=e.channelID,t=(0,a.d4)(d.wz),p=(0,o.D)((0,l.h)(n)),m=p[0],v=p[1],f=(0,i.useContext)(u.at).pushCallout;return(0,i.useEffect)((function(){var e,i,a;if(m&&!(null==v?void 0:v.error)&&n!==(null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"")){var o,l=m;if(l.type===s.PD.CommunityMomentStart){var d={momentID:l.data.moment_id,type:c.o.CommunityMoment,userID:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:null,userLogin:null!==(a=null==t?void 0:t.login)&&void 0!==a?a:null},u=r.Zn.get("community_moments_jitter_range_seconds",0),p=Math.floor(Math.random()*u*1e3);o=setTimeout((function(){f({key:l.data.moment_id,event:d})}),p)}return function(){return clearTimeout(o)}}(null==v?void 0:v.error)&&r.vF.errorAndReport(v.error,"Community Moments - Failed to register subscription to Community Moment Channel topic",n)}),[m,n,v,t,f]),null}},251184:function(e,n,t){"use strict";var i;t.d(n,{X:function(){return i}}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},315320:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(346716),a=t(407827),r=t(630193),o=t(178196),s=t(496228),l=t(718482),d={API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.IS_MOBILE_PORTAL?function(){throw Error("NotSupported")}:a.x.wrap((function(){return Promise.all([t.e(7595),t.e(29290),t.e(53920),t.e(10742),t.e(56450),t.e(59147),t.e(55152),t.e(21745),t.e(98922),t.e(64498),t.e(27047),t.e(57013),t.e(16001),t.e(33768),t.e(97201),t.e(71817),t.e(4098),t.e(97943),t.e(14325),t.e(18839),t.e(53412)]).then(t.bind(t,725735))}),"CheckoutModal"),u="core.ui.CHECKOUT_SHOWN";function c(e){if((0,r.W)()){try{l.Jv(),function(e){if(!e.productName)return void i.vF.warn("No productName provided");var n=new URL("https://www.twitch.tv/products/".concat(e.productName));e.recipientLogin?n.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount?n.searchParams.append("gift_count",e.mysteryGiftCount.toString()):e.multiMonthGiftAmount&&n.searchParams.append("months",e.multiMonthGiftAmount.toString());e.isAnonymous&&n.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&n.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(n.toString(),"_blank")}(e)}catch(e){(0,s.nF)()?i.vF.warn("Failed to open subscription checkout externally"):i.vF.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:u})}}return function(n){n((0,o.to)(d,e))}}},942950:function(e,n,t){"use strict";t.d(n,{y:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.RECOMPOSED})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},157682:function(e,n,t){"use strict";t.d(n,{u:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.SOURCE})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},158508:function(e,n,t){"use strict";t.d(n,{Q:function(){return d}});var i=t(331635),a=t(296540),r=t(346716),o=t(942950),s=t(157682),l=t(308685),d=function(){var e=(0,l.C)();return{track:(0,a.useCallback)((function(n){var t=u(n,e),a=(0,i.__assign)((0,i.__assign)({},e),t);r.E5.track("clip_workflow_click",a)}),[e])}},u=function(e,n){var t,a,r,l,d,u,c,p,m,v,f,g,h,y,k,S="clip"in e?function(e){var n,t,i,a,r=(0,s.u)(e),l=(0,o.y)(e);return{clip_slug:e.slug,channel_id:(null===(n=e.broadcaster)||void 0===n?void 0:n.id)||"",broadcast_id:(null===(t=e.broadcast)||void 0===t?void 0:t.id)||null,vod_id:(null===(i=e.video)||void 0===i?void 0:i.id)||null,clip_asset_id:null!==(a=(null==l?void 0:l.id)||(null==r?void 0:r.id))&&void 0!==a?a:null}}(e.clip):{clip_slug:null,channel_id:e.channelID||"",broadcast_id:null!==(t=e.broadcastID)&&void 0!==t?t:null,vod_id:null!==(a=e.vodID)&&void 0!==a?a:null,clip_asset_id:e.clipAssetID||null},_={clip_editor_step:null!==(r=e.clipEditorStep)&&void 0!==r?r:null,clip_editor_ingress:null!==(l=e.clipEditorIngress)&&void 0!==l?l:null,clip_editor_session_id:null!==(d=e.clipEditorSessionID)&&void 0!==d?d:null,raw_media_id:null!==(u=e.rawMediaID)&&void 0!==u?u:null,clip_workflow:null!==(p=null!==(c=e.clipWorkflow)&&void 0!==c?c:n.clip_workflow)&&void 0!==p?p:null,location:null!==(v=null!==(m=e.location)&&void 0!==m?m:n.location)&&void 0!==v?v:null,user_id_selected:null!==(f=e.userIDSelected)&&void 0!==f?f:null,target_user_id:null!==(g=e.targetUserID)&&void 0!==g?g:null,clip_slug:null!==(y=null!==(h=S.clip_slug)&&void 0!==h?h:e.clipSlug)&&void 0!==y?y:null};return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},S),_),{action:e.action,action_details:null!==(k=e.actionDetails)&&void 0!==k?k:null})}},551283:function(e,n,t){"use strict";var i;t.d(n,{U:function(){return i}}),function(e){e.CreateClip="clip",e.ShrinkToFit="shrink_to_fit",e.ExpandToFit="expand_to_fit",e.TitleClip="title",e.CancelClip="cancel",e.CancelClipEdits="cancel_clip_edits",e.SaveClip="save",e.FeatureClip="feature",e.UnfeatureClip="unfeature",e.AutoAddToStories="auto_add_to_stories",e.EnableAutoAddToStories="enable_auto_add_to_stories",e.DisableAutoAddToStories="disable_auto_add_to_stories",e.ShareClipInChatCheck="share_clip_in_chat_check",e.ShareClipInChatUncheck="share_clip_in_chat_uncheck",e.VideoTrim="video_trim",e.VideoPause="video_pause",e.VideoMute="video_mute",e.VideoAdjustVolume="video_adjust_volume",e.VideoPlay="video_play",e.VideoSeekLeft="video_seek_left",e.VideoSeekRight="video_seek_right",e.CancelClipConfirm="cancel_confirm",e.CancelClipContinueEditing="cancel_continue_editing",e.CancelClipEditsConfirm="cancel_clip_edits_confirm",e.CancelClipEditsContinueEditing="cancel_clip_edits_continue_editing",e.EditPortraitLayout="edit_portrait_layout",e.ExitClipCreationFtue="exit_clip_creation_ftue",e.AlertOverwriteClipYes="alert_overwrite_clip_yes",e.AlertOverwriteClipNo="alert_overwrite_clip_no",e.ErrorUnableToRenderClipOkay="error_unable_to_render_clip_okay",e.ErrorUnableToSaveEditsCancelEditing="error_unable_to_save_edits_cancel_editing",e.EditPortraitLayoutNagEditPortraitLayout="edit_portrait_layout_nag_edit_portrait_layout",e.EditPortraitLayoutNagDismiss="edit_portrait_layout_nag_dismiss",e.LeaveCreationFlowModalKeepEditing="leave_creation_flow_modal_keep_editing",e.LeaveCreationFlowModalDiscardClip="leave_creation_flow_modal_discard_clip",e.SaveQuickCreate="save_quick_create",e.InitiateExportYoutube="initiate_export_youtube",e.InitiateExportTiktok="initiate_export_tiktok",e.InitiateExportInstagram="initiate_export_instagram",e.DownloadSourceClip="download_source_clip",e.DownloadPortraitClip="download_portrait_clip",e.DownloadAcknowledgeError="download_acknowledge_error",e.Edit="edit",e.CopyLink="copy_link",e.ShareX="share_x",e.ShareFacebook="share_facebook",e.ShareReddit="share_reddit",e.CopyEmbedLink="copy_embed_link",e.Delete="delete",e.ConfirmDelete="confirm_delete",e.CancelDelete="cancel_delete",e.ExitClipPublishedFtue="exit_clip_published_ftue",e.StackedTemplateSelect="stacked_template_select",e.FullTemplateSelect="full_template_select",e.StackedTemplateResizeGameplay="stacked_template_resize_gameplay",e.StackedTemplateAspectRatioSlider="stacked_template_aspect_ratio_slider",e.StackedTemplateResizeFace="stacked_template_resize_face",e.StackedTemplateMoveGameplay="stacked_template_move_gameplay",e.StackedTemplateMoveFace="stacked_template_move_face",e.FullTemplateResize="full_template_resize",e.FullTemplateMove="full_template_move",e.Apply="apply",e.Cancel="cancel",e.YoutubeTitle="youtube_title",e.YoutubeDescription="youtube_description",e.YoutubePrivacy="youtube_privacy",e.YoutubeConnect="youtube_connect",e.YoutubeExport="youtube_export",e.YoutubeEditorConnect="youtube_editor_connect",e.YoutubeExportClipReshare="youtube_export_clip_reshare",e.YoutubeExportClipUrl="youtube_export_clip_url",e.TiktokTitle="tiktok_title",e.TiktokPrivacy="tiktok_privacy",e.TiktokAllowCommentsCheck="tiktok_allow_comments_check",e.TiktokAllowCommentsUncheck="tiktok_allow_comments_uncheck",e.TiktokAllowDuetCheck="tiktok_allow_duet_check",e.TiktokAllowDuetUncheck="tiktok_allow_duet_uncheck",e.TiktokAllowStitchCheck="tiktok_allow_stitch_check",e.TiktokAllowStitchUncheck="tiktok_allow_stitch_uncheck",e.TiktokConnect="tiktok_connect",e.TiktokSaveDraft="tiktok_save_draft",e.TiktokExport="tiktok_export",e.TiktokExportClipReshare="tiktok_export_clip_reshare",e.TiktokExportClipUrl="tiktok_export_clip_url",e.TiktokConnectRetry="tiktok_connect_retry",e.TiktokEditorConnect="tiktok_editor_connect",e.InstagramCaption="instagram_caption",e.InstagramShowReelOnFeedCheck="instagram_show_reel_on_feed_check",e.InstagramShowReelOnFeedUncheck="instagram_show_reel_on_feed_uncheck",e.InstagramConnect="instagram_connect",e.InstagramCloseConnectionWarning="instagram_close_connection_warning",e.InstagramExport="instagram_export",e.InstagramEditorConnect="instagram_editor_connect",e.InstagramEditorConnectDismiss="instagram_editor_connect_dismiss",e.InstagramExportClipReshare="instagram_export_clip_reshare",e.InstagramExportClipUrl="instagram_export_clip_url",e.Download="download",e.ShareMenu="share_menu",e.CollabWithClick="collab_with_click",e.ModerationMenu="moderation_menu",e.WatchOnClipsPageIcon="watch_on_clips_page_icon",e.SelectIndividualClip="select_individual_clip",e.SelectAllClips="select_all_clips",e.SortByTime="sort_by_time",e.SortByViews="sort_by_views",e.FilterByCategory="filter_by_category",e.FilterByType="filter_by_type",e.FilterByTime="filter_by_time",e.ExpandRow="expand_row",e.CollapseRow="collapse_row",e.ExportViaPortraitClipPreview="export_via_portrait_clip_preview",e.ShareToStories="share_to_stories",e.ModerationTimeoutUser="moderation_timeout_user",e.ModerationBanUser="moderation_ban_user",e.ModerationDeleteAllClipsFromVideo="moderation_delete_all_clips_from_video",e.KebabMenu="kebab_menu",e.ErrorCancelEditingDueToChannelOwnerUsage="error_cancel_editing_due_to_channel_owner_usage",e.ErrorEditUnauthorized="error_edit_unauthorized",e.FilterDropdown="filter_dropdown",e.FilterByCategorySelect="filter_by_category_select",e.FilterByCategoryDeselect="filter_by_category_deselect",e.FilterByChannelSelect="filter_by_channel_select",e.FilterByChannelDeselect="filter_by_channel_deselect",e.FilterClipCreatorSelect="filter_clip_creator_select",e.FilterClipCreatorDeselect="filter_clip_creator_deselect",e.FilterOnlyFeaturedClipsOn="filter_only_featured_clips_on",e.FilterOnlyFeaturedClipsOff="filter_only_featured_clips_off",e.SearchBarFocusCategory="search_bar_focus_category",e.SearchBarFocusChannel="search_bar_focus_channel",e.PlayClip="play_clip",e.Feature="feature",e.Unfeature="unfeature",e.ChannelName="channel_name",e.CategoryName="category_name",e.ResetFilters="reset_filters",e.CarouselRight="carousel_right",e.CarouselLeft="carousel_left",e.ViewOnClipPage="view_on_clip_page",e.DeletePrompt="delete_prompt",e.Report="report",e.ViewAllClips="view_all_clips",e.YoutubeSelect="youtube_select",e.TiktokSelect="tiktok_select",e.InstagramSelect="instagram_select"}(i||(i={}))},308685:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var i=t(296540),a=t(346716),r=t(961420),o=t(131883),s=function(){var e,n=(0,r.QN)(o.wz),t=(0,r.QN)(o.Ul),s=null==n?void 0:n.id,l=a.x2.session.pageviewID,d=(null===(e=a.E5.getLastPageview())||void 0===e?void 0:e.location)||"",u=["sunlight/content/clips/channel","sunlight/content/clips/created"].includes(d);return(0,i.useMemo)((function(){return{language:t,user_id:s||"",page_session_id:l,location:d,clip_workflow:u?"clips_manager":void 0}}),[u,t,l,d,s])}},235366:function(e,n,t){"use strict";t.d(n,{Cv:function(){return u},L$:function(){return d},NC:function(){return c},p6:function(){return l}});var i=t(882439),a=t(346716),r=t(465823),o=t(407310),s="clips_target";function l(e){switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":case"CATEGORY_NOT_CLIPPABLE":case"FOLLOWING_LENGTH_REQUIREMENT_NOT_MET":case"USER_NOT_FOLLOWING":return!0;default:return!1}}function d(e){switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":case"CATEGORY_NOT_CLIPPABLE":case"FOLLOWING_LENGTH_REQUIREMENT_NOT_MET":case"USER_NOT_FOLLOWING":case"DJ_CATEGORY_NOT_CLIPPABLE":case"PARTICIPATING_DJ":return!0;default:return!1}}function u(e,n){if(!e)return(0,a.hw)("Clip ({clipKey}+x)",{clipKey:p()},"ClipsButtonComponent");if("FOLLOWING_LENGTH_REQUIREMENT_NOT_MET"===e)switch(n){case 10:return(0,a.hw)("Follow for 10m to clip","ClipsButtonComponent");case 30:return(0,a.hw)("Follow for 30m to clip","ClipsButtonComponent");case 60:return(0,a.hw)("Follow for 1h to clip","ClipsButtonComponent");case 1440:return(0,a.hw)("Follow for 1d to clip","ClipsButtonComponent");case 10080:return(0,a.hw)("Follow for 1w to clip","ClipsButtonComponent");case 43200:return(0,a.hw)("Follow for 1 month to clip","ClipsButtonComponent");case 129600:return(0,a.hw)("Follow for 3 months to clip","ClipsButtonComponent");default:return(0,a.hw)("Following length requirement not met","ClipsButtonComponent")}switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":return(0,a.hw)("Subscribe to clip","ClipsButtonComponent");case"CATEGORY_NOT_CLIPPABLE":return(0,a.hw)("This channel does not permit clips of this category.","ClipsButtonComponent");case"USER_NOT_FOLLOWING":return(0,a.hw)("Follow to clip","ClipsButtonComponent");case"DJ_CATEGORY_NOT_CLIPPABLE":return(0,a.hw)("DJ category can't be clipped.","ClipsButtonComponent");case"PARTICIPATING_DJ":return(0,a.hw)("DJ channels can't be clipped.","ClipsButtonComponent");default:return""}}var c=function(e){var n=e.broadcastID,t=e.broadcasterLogin,a=e.offsetSeconds,o=e.vodID,l=window.location.origin,d=window.location.search,u=window.open("","_blank"),c=function(e,n){return/\/\/(www|dashboard|player|embed|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e)?"https://clips.twitch.tv":n[s]?"https://clips-".concat(n[s],".twitch.tv"):n.clips_use_localhost?"http://localhost.twitch.tech:8080":/\/\/pr\d{5}\.twitch\.tech/.test(e)?"https://clips-".concat(e.replace("https://","")):/\/\/betaplayer\.twitch\.tv/.test(e)?"https://clips-alpha.twitch.tv":(0,r.Ri)("clips-staging","string")||"https://clips-main.twitch.tech"}(l,(0,i.parse)(d)),p={offsetSeconds:a,broadcastID:n,broadcasterLogin:t||void 0,vodID:o};c="".concat(c,"/create?").concat(i.stringify(p)),u?u.location.href=c:window.open(c,"_blank")};function p(){return o.j.os.isMacOS()?"":"alt"}},584548:function(e,n,t){"use strict";t.d(n,{L:function(){return d},q:function(){return l}});var i=t(331635),a=t(346716),r=t(783321),o=t(390844),s=t.n(o),l=function(e){var n,t=(0,r.IT)(s(),{variables:{id:e},skip:!e}).data;return null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.login},d=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,a.x2.apollo.client.query({query:s(),variables:{id:e}})];case 1:return n=i.sent(),[2,null===(r=null===(t=n.data)||void 0===t?void 0:t.user)||void 0===r?void 0:r.login]}}))}))}},269964:function(e,n,t){"use strict";t.d(n,{Ay:function(){return o},No:function(){return a},P5:function(){return l},Z_:function(){return r},ei:function(){return d},mM:function(){return u},v1:function(){return s}});var i=t(267924),a="pinned-cheer-colors",r=function(e,n){var t=e.slice(),i=t.findIndex((function(e){return e.id===n}));return i>-1&&t.splice(i,1),t},o=function(e){return e.endsAt?new Date(e.endsAt).getTime()-Date.now():0},s=function(e){if(!e.endsAt)return 0;var n=new Date(e.startsAt).getTime(),t=new Date(e.endsAt).getTime(),i=t-n;return(t-Date.now())/i*100},l=function(e){if(e<=0)return"0:00";var n=Math.floor(e/1e3),t=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60,r=t>0?"".concat(String(t).padStart(1,"0"),":"):"",o="".concat(String(i).padStart(t>0?2:1,"0"),":"),s=String(a).padStart(2,"0");return"".concat(r).concat(o).concat(s)},d=function(e){var n=e&&e!==i.x5_.UNKNOWN?e:i.x5_.ONE;return[a,"".concat(a,"-level-").concat(n.toLowerCase())]},u=function(e){if(!e)return i.x5_.UNKNOWN;switch(e){case"ONE":return i.x5_.ONE;case"TWO":return i.x5_.TWO;case"THREE":return i.x5_.THREE;case"FOUR":return i.x5_.FOUR;case"FIVE":return i.x5_.FIVE;case"SIX":return i.x5_.SIX;case"SEVEN":return i.x5_.SEVEN;case"EIGHT":return i.x5_.EIGHT;default:return i.x5_.UNKNOWN}}},659456:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var i=t(834455),a=t(576852),r=function(){var e,n,t=(0,i.zy)(),r=null===(e=t.state)||void 0===e?void 0:e.channelView,o=(0,i.RQ)({path:"/:channelLogin"}),s=!(!r||!o),l=(0,i.RQ)("/:channelLogin/video/:videoID"),d=!(!r||!l),u=(0,i.RQ)("/videos/:videoID"),c=!(!r||!u),p=(0,i.RQ)("/collections/:collectionID"),m=!(!r||!p),v=(0,i.RQ)("/:channelLogin/collection/:collectionID"),f=!(!r||!v),g=c||m?null:s?o.params.channelLogin:d?l.params.channelLogin:f?v.params.channelLogin:null,h=d?l.params.videoID:c?u.params.videoID:null,y=m?p.params.collectionID:f?v.params.collectionID:null!==(n=(0,a.ov)(t.search,"collection"))&&void 0!==n?n:null;return{channelLogin:null!=g?g:null,videoID:null!=h?h:null,collectionID:null!=y?y:null}}},631077:function(e,n,t){"use strict";t.d(n,{m:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(312663),s=t(588702),l=t(564368),d=(t(296540),t(982742)),u=t(346716),c=t(279610),p=function(e){return(0,i.jsxs)(a.P,{background:r.VS.Base,padding:2,children:[(0,i.jsx)(o.N,{bold:!0,type:s.M2.H4,children:(0,c.H)(e.channelLogin)}),(0,i.jsx)(a.P,{margin:{y:1},children:(0,i.jsx)(o.N,{children:(0,u.hw)("Proceed to file a report, or log in to see more options.","DSAModal")})}),(0,i.jsxs)(a.P,{display:r.nl.Flex,children:[(0,i.jsx)(a.P,{padding:{right:1},children:(0,i.jsx)(l.$n,{onClick:e.login,children:(0,u.hw)("Log In","DSAModal")})}),(0,i.jsx)(a.P,{children:(0,i.jsx)(l.$n,{variant:l.VQ.Secondary,onClick:function(){return e.showReportUserModal(e)},children:(0,u.hw)("File a Report","DSAModal")})})]}),(0,i.jsx)(d.w,{})]})}},120605:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var i=t(331635),a=t(415044),r=t(868238),o=t(928778),s=t(681685),l=t(178196),d=t(369624),u=t(131883),c=t(576828),p=t(631077),m=t(474848),v=t(759369),f=t(368972),g=t(296540),h=t(584548),y=t(279610),k=t(69403),S="report-button-report-button",_=t(676233),C=t.n(_);var b=(0,r.Zz)((0,a.Ng)((function(e){return{isLoggedIn:(0,u.M3)(e)}}),(function(e){return(0,r.zH)({login:function(){return(0,d.iD)(s.W.ReportChannel)},showReportUserModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(c.Z,n)},showDSAPreloginModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(p.m,n)}},e)})),(0,o._v)(C(),{options:function(e){return{fetchPolicy:"network-only",variables:{channelID:e.channelID}}}}))((function(e){var n,t,a,r,o,s=e.isLoggedIn,l=e.showReportUserModal,d=e.showDSAPreloginModal,u=e.channelLogin,c=e.channelID,p=e.onModalClose,_=e.onClick,C=e.reportContext,b=e.login,P=e.hideIcon,E=e.labelOverride,x=e.data,A=null===(n=x.requestInfo)||void 0===n?void 0:n.countryCode,N=!!(null===(a=null===(t=x.user)||void 0===t?void 0:t.stream)||void 0===a?void 0:a.createdAt),w=null!==(o=null!==(r=(0,h.q)(c))&&void 0!==r?r:u)&&void 0!==o?o:"",I=g.useMemo((function(){return(0,i.__assign)({isLivestreaming:N,targetUserID:c},C)}),[c,N,C]),T=g.useCallback((function(e){s?l({onClose:p,reportContext:I}):!s&&(0,k.P)(A)?d({onClose:p,reportContext:I,login:b,showReportUserModal:l,canSkipLogin:!0,channelLogin:w}):b(),null==_||_(e)}),[s,A,_,l,p,I,d,b,w]),D=P?void 0:{icon:v.t.Report},F=E||(0,y.H)(w,null==C?void 0:C.contentType);return(0,m.jsx)(f.i,{label:F,"aria-label":F,onClick:T,figure:D,"data-a-target":S})}))},279610:function(e,n,t){"use strict";t.d(n,{H:function(){return r}});var i=t(346716),a=t(267924),r=function(e,n){switch(n){case a.Cah.BITS_BADGE_REPORT:return(0,i.hw)("Report Bits Badge","ReportMenuItem");case a.Cah.CHANNEL_FEED_COMMENT_REPORT:return(0,i.hw)("Report Channel Feed Comment","ReportMenuItem");case a.Cah.CHANNEL_FEED_POST_REPORT:return(0,i.hw)("Report Channel Feed Post","ReportMenuItem");case a.Cah.CHAT_REPORT:return(0,i.hw)("Report Chat","ReportMenuItem");case a.Cah.CHANNEL_POINTS_REPORT:return(0,i.hw)("Report Rewards","ReportMenuItem");case a.Cah.CLIP_REPORT:return(0,i.hw)("Report Clip","ReportMenuItem");case a.Cah.COLLECTION_REPORT:return(0,i.hw)("Report Collection","ReportMenuItem");case a.Cah.CREATOR_GOAL_REPORT:return(0,i.hw)("Report Creator Goal","ReportMenuItem");case a.Cah.EMOTE_REPORT:return(0,i.hw)("Report Emote","ReportMenuItem");case a.Cah.EVENT_REPORT:return(0,i.hw)("Report Event","ReportMenuItem");case a.Cah.EXTENSION_REPORT:return(0,i.hw)("Report Extension","ReportMenuItem");case a.Cah.LIVE_UP_REPORT:return(0,i.hw)("Report Live Up Notification","ReportMenuItem");case a.Cah.LIVESTREAM_REPORT:return(0,i.hw)("Report Live Stream","ReportMenuItem");case a.Cah.OFF_PLATFORM_REPORT:return(0,i.hw)("Report Off Platform Behavior","ReportMenuItem");case a.Cah.POLL_REPORT:return(0,i.hw)("Report Poll","ReportMenuItem");case a.Cah.RAID_REPORT:return(0,i.hw)("Report Raid","ReportMenuItem");case a.Cah.REWARD_REDEMPTION_REPORT:return(0,i.hw)("Report Reward Redemption","ReportMenuItem");case a.Cah.SUB_BADGE_REPORT:return(0,i.hw)("Report Subscriber Badge","ReportMenuItem");case a.Cah.UNBAN_REQUEST_REPORT:return(0,i.hw)("Report Unban Request","ReportMenuItem");case a.Cah.USERNAME_REPORT:return(0,i.hw)("Report Username","ReportMenuItem");case a.Cah.USER_REPORT:return(0,i.hw)("Report User","ReportMenuItem");case a.Cah.VOD_COMMENT_REPORT:return(0,i.hw)("Report VOD Comment","ReportMenuItem");case a.Cah.VOD_REPORT:return(0,i.hw)("Report VOD","ReportMenuItem");case a.Cah.WHISPER_REPORT:return(0,i.hw)("Report Whisper","ReportMenuItem");case a.Cah.MODERATOR_STRIKE_REASON:return(0,i.hw)("Report Reason from Moderator","ReportMenuItem");default:return(0,i.hw)("Report {channelLogin}",{channelLogin:e},"ReportMenuItem")}}},576828:function(e,n,t){"use strict";t.d(n,{OW:function(){return r},Z:function(){return a}});var i=t(407827),a=i.x.wrap((function(){return t.e(2435).then(t.bind(t,499475))}),"ReportUserModal"),r=i.x.wrap((function(){return Promise.all([t.e(29747),t.e(79176),t.e(53583)]).then(t.bind(t,783305))}),"ReportWizardNew")},245764:function(e,n,t){"use strict";t.d(n,{b:function(){return a},d:function(){return i}});var i=function(e,n){var t=n;return 1===(null==e?void 0:e.reportableContent.length)&&(t.content=e.reportableContent[0].type),t},a=new Set(["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","IS","LI","NO"])},69403:function(e,n,t){"use strict";t.d(n,{P:function(){return r}});var i=t(346716),a=t(245764),r=function(e){var n=i.Zn.get("lor_auuk_enable",!1);return a.b.has(e)||n&&(function(e){return"GB"===e}(e)||function(e){return"AU"===e}(e))}},957573:function(e,n,t){"use strict";t.d(n,{CO:function(){return s},lN:function(){return d},pJ:function(){return o},pb:function(){return l},r3:function(){return p},rV:function(){return u},rW:function(){return m},xo:function(){return v}});var i=t(331635),a=t(346716),r=t(576852),o=999,s="twch",l="sm_w_tup_ntp_t_c",d="sm_w_tup_epg_t_c",u="sm_om_tpltp",c=a.vF.withCategory("PrimeUtilsLogger"),p=function(e,n,t,i){var r=a.$W.tryPrimeURI,o="";try{o=btoa(n)}catch(e){c.errorAndReport(e,"Could not decode location pathname substring for redirect")}var s={};return o&&(s.redirectRoute=o),t&&(s.twitchReferral=t),!e&&i&&("upsell"===i?e=l:"explore"===i?e=d:"sign"===i&&(e="sm_w_tup_am_psc_c")),s.ref_=e,v(r,s)},m=function(e,n){if(e)return v(e,{yTwchPos:"".concat(null!=n?n:o)})},v=function(e,n){var t=(0,i.__assign)((0,i.__assign)({},n),{ingress:s});return(0,r.tX)(e,t)}},945137:function(e,n,t){"use strict";t.d(n,{U0:function(){return o},zX:function(){return s}});var i=t(331635),a=t(474848),r=(0,t(752457).vt)()((function(e){return{isTurboSDAUpsellShowing:!1,displayTurboSDAUpsell:function(){return e((function(){return{isTurboSDAUpsellShowing:!0}}))},closeTurboSDAUpsell:function(){return e((function(){return{isTurboSDAUpsellShowing:!1}}))}}})),o=function(){var e=r();return(0,i.__assign)({},e)};function s(e){var n=function(n){var t=o();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName="withUpsellState(".concat(e.displayName||e.name||"Component",")"),n}},730930:function(e,n,t){"use strict";t.d(n,{A:function(){return a},Q:function(){return i}});var i="video-player.VIDEO_PLAYER_INSTANCE_STARTED";function a(e){return{type:i,playerRefID:e}}},522580:function(e,n,t){"use strict";t.d(n,{$x:function(){return U},gb:function(){return B}});var i,a,r=t(331635),o=t(882439),s=t(296540),l=t(868238),d=t(928778),u=t(267924),c=t(485272),p=t(574156),m=t(486612),v=t(669022),f=t(303252),g=t(711574),h=t(107212),y=t(709673),k=t(231273),S=t(457063);!function(e){e.Creative="Creative",e.Poker="Poker",e.Music="Music",e.Gaming="Gaming"}(a||(a={}));var _,C,b=a.Gaming;!function(e){e.Null="*null",e.True="1",e.False="0"}(_||(_={})),function(e){e.AssetID="ns_st_ci",e.ClipLength="ns_st_cl",e.StationTitle="ns_st_st",e.Publisher="ns_st_pu",e.ProgramTitle="ns_st_pr",e.EpisodeTitle="ns_st_ep",e.SeasonNumber="ns_st_sn",e.EpisodeNumber="ns_st_en",e.Genre="ns_st_ge",e.TMSID="ns_st_ti",e.IsAdLoad="ns_st_ia",e.IsCompleteEpisode="ns_st_ce",e.DigitalAirdate="ns_st_ddt",e.TVAirdate="ns_st_tdt",e.DidConsent="cs_ucfr",e.MetrixC3="c3",e.MetrixC4="c4",e.MetrixC6="c6"}(C||(C={}));var P=((i={})[C.Publisher]=null,i[C.ProgramTitle]=null,i[C.SeasonNumber]=null,i[C.EpisodeNumber]=null,i[C.TMSID]=null,i[C.IsAdLoad]=!1,i[C.TVAirdate]=null,i[C.MetrixC3]="TWITCH",i[C.MetrixC4]="twitch.tv",i[C.MetrixC6]=null,i),E=t(522646),x=t(891918),A=t(573566),N=t(802533),w=t(726280),I=t(953059),T=t.n(I);function D(e){if(!e)return null;var n=(0,N._U)(e);return(0,N.Yq)(n,N.Bd.Comscore)}function F(e){return null!==e&&Object.values(a).includes(e)?e:b}function O(e){for(var n={},t=0,i=Object.keys(e);t<i.length;t++){var a=i[t];null===e[a]?n[a]=_.Null:!0===e[a]?n[a]=_.True:!1===e[a]?n[a]=_.False:n[a]=String(e[a])}return n}var R=t(118483),V=t(177972);var M=t(324991),L=t.n(M),j=function(e){function n(n){var t=e.call(this,n)||this;return t.streaming=!1,t.onPlaying=function(){var e;if(t.props.isLive&&!(0,p.bq)(m.F.ComScore,null===(e=t.props)||void 0===e?void 0:e.consent)&&t.prevPlaySessionId!==t.props.playSessionId){var n={c1:9,c2:31864766,ax_uuid:t.props.playSessionId};!function(e,n){var t,i,a,r,o,s="comScore=",l=document,d=l.cookie,u="",c="indexOf",p="substring",m="length",v=2048,f="&ns_",g=window,h=g.encodeURIComponent||escape;if(d[c](s)+1)for(r=0,o=(a=d.split(";"))[m];r<o;r++)(i=a[r][c](s))+1&&(u="&"+unescape(a[r][p](i+s[m])));(e+=f+"_t="+ +new Date+f+"c="+(l.characterSet||l.defaultCharset||"")+(g===g.top?"":f+"if=1")+"&cv=3.1&c8="+h(l.title)+u+"&c7="+h(l.URL)+"&c9="+h(l.referrer))[m]>v&&e[c]("&")>0&&(t=e[p](0,v-8).lastIndexOf("&"),e=(e[p](0,t)+f+"cut="+h(e[p](t+1)))[p](0,v)),l.images?(i=new Image,g.ns_p||(g.ns_p=i),"function"==typeof n&&(i.onload=i.onerror=n),i.src=e):l.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}("https://sb.scorecardresearch.com/p?".concat(o.stringify(n))),t.prevPlaySessionId=t.props.playSessionId}t.isAdPlaying()||t.streaming||t.startComscore()},t.onIdle=function(){t.isAdPlaying()||t.stopComscore()},t.onEnded=function(){t.resetTag()},t.onContentPauseRequested=function(){t.stopComscore()},t.onAdImpression=function(){var e,n;if(t.props.videoAdMetadata||t.props.adFormatMetadata||(0,A.hr)(t.props.adFormatMetadata)){var i=(0,A.hr)(t.props.adFormatMetadata)?t.props.adFormatMetadata:t.props.videoAdMetadata,a=i.duration,o=i.roll,s=O((0,r.__assign)((0,r.__assign)({},t.consentMetadata()),((e={})[C.ClipLength]=1e3*a,e)));t.streaming=!0,null===(n=t.streamingTag)||void 0===n||n.playVideoAdvertisement(s,function(e){switch(e){case w.d.Pre:return T().StreamingTag.AdType.LinearOnDemandPreRoll;case w.d.Mid:return T().StreamingTag.AdType.LinearOnDemandMidRoll;case w.d.Post:return T().StreamingTag.AdType.LinearOnDemandPostRoll;default:return T().StreamingTag.AdType.Other}}(o))}},t.onAdImpressionComplete=function(){t.stopComscore()},t.resetTag(),t}return(0,r.__extends)(n,e),n.prototype.componentDidMount=function(){var e;(0,c.fS)(null===(e=this.props.adFormatMetadata)||void 0===e?void 0:e.adFormat)||(this.props.playerEvents.addEventListener(x.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(x.p.IDLE,this.onIdle),this.props.playerEvents.addEventListener(x.p.ENDED,this.onEnded),this.props.adEvents.addEventListener(E.V.ContentPauseRequested,this.onContentPauseRequested)),this.props.adEvents&&(this.props.adEvents.addEventListener(E.V.Impression,this.onAdImpression),this.props.adEvents.addEventListener(E.V.Complete,this.onAdImpressionComplete))},n.prototype.componentDidUpdate=function(e){this.props.playSessionId!==e.playSessionId&&this.resetTag()},n.prototype.componentWillUnmount=function(){var e;this.stopComscore(),(0,c.fS)(null===(e=this.props.adFormatMetadata)||void 0===e?void 0:e.adFormat)&&(this.props.adEvents.removeEventListener(E.V.Impression,this.onAdImpression),this.props.adEvents.removeEventListener(E.V.Complete,this.onAdImpressionComplete))},n.prototype.render=function(){return null},n.prototype.startComscore=function(){var e,n=this.assetMetadata();n&&(this.streaming=!0,null===(e=this.streamingTag)||void 0===e||e.playVideoContentPart(O(n)))},n.prototype.stopComscore=function(){var e;this.streaming&&(this.streaming=!1,null===(e=this.streamingTag)||void 0===e||e.stop())},n.prototype.resetTag=function(){this.stopComscore(),this.streamingTag=new(T().StreamingTag)({customerC2:"6745306"})},n.prototype.assetMetadata=function(){var e,n,t;if(this.props.isLive){var i=this.props.data&&this.props.data.user;return i?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((e={})[C.AssetID]=this.props.broadcastID||"",e[C.ClipLength]=0,e[C.StationTitle]=i.displayName,e[C.EpisodeTitle]=i.broadcastSettings&&i.broadcastSettings.title||"",e[C.Genre]=F(i.stream&&i.stream.game&&i.stream.game.name),e[C.DigitalAirdate]=D(i.stream&&i.stream.createdAt),e[C.IsCompleteEpisode]=!0,e)):null}if(this.props.isVodOrCollection){var a=this.props.data&&this.props.data.video;return a?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((n={})[C.AssetID]=a.id||"",n[C.ClipLength]=a.lengthSeconds&&1e3*a.lengthSeconds||null,n[C.StationTitle]=a.owner&&a.owner.displayName,n[C.EpisodeTitle]=a.title,n[C.Genre]=F(a.game&&a.game.name),n[C.DigitalAirdate]=D(a.createdAt),n[C.IsCompleteEpisode]=a.broadcastType===u.Suw.ARCHIVE,n)):null}if(this.props.isClip){var o=this.props.data&&this.props.data.clip;return o?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((t={})[C.AssetID]=o.id||"",t[C.ClipLength]=1e3*o.durationSeconds,t[C.StationTitle]=o.broadcaster&&o.broadcaster.displayName,t[C.EpisodeTitle]=o.title,t[C.Genre]=F(o.game&&o.game.name),t[C.DigitalAirdate]=D(o.createdAt),t[C.IsCompleteEpisode]=!1,t)):null}return null},n.prototype.consentMetadata=function(){var e,n,t,i=(0,p.gK)(m.F.ComScore,null===(n=this.props)||void 0===n?void 0:n.consent)?!(0,p.bq)(m.F.ComScore,null===(t=this.props)||void 0===t?void 0:t.consent):null;return(e={})[C.DidConsent]=i,e},n.prototype.isAdPlaying=function(){return!!this.props.videoAdMetadata||(0,A.pt)(this.props.adFormatMetadata)},n}(s.Component),B=(0,l.Zz)((0,k.dd)(q),(0,h.X)(),(0,y.VX)(G),(0,S.cj)(z),(0,f.O)(),v.z3,(0,g.h)(),(0,d._v)(L(),{options:function(e){var n,t,i,a;return{variables:{channel:null!==(n=e.channelLogin)&&void 0!==n?n:"",clipSlug:null!==(t=e.clipSlug)&&void 0!==t?t:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var n;return e.isVodOrCollection&&!(null!==(n=e.vodID)&&void 0!==n?n:e.collectionVodID)}}))(j),U=(0,l.Zz)((0,k.dd)(q),(0,S.cj)(z),(0,y.VX)((function(e,n){return G(e,n)})),v.z3,(0,g.h)(),(0,d._v)(L(),{options:function(e){var n,t,i,a;return{variables:{channel:null!==(n=e.channelLogin)&&void 0!==n?n:"",clipSlug:null!==(t=e.clipSlug)&&void 0!==t?t:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var n;return e.isVodOrCollection&&!(null!==(n=e.vodID)&&void 0!==n?n:e.collectionVodID)}}))(j);function q(e){return{broadcastID:(0,V.RX)(e)||null,playSessionId:e.playSessionId}}function G(e,n){return void 0===n&&(n={}),{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:n.adFormatMetadata||e.adFormatMetadata,adEvents:n.adEventsProp||n.adEvents}}function z(e){var n=e.content;return{channelLogin:(0,R.hd)(n),clipSlug:(0,R.Qc)(n),isClip:(0,R.Jn)(n),isLive:(0,R.DG)(n),isVodOrCollection:(0,R.wy)(n)||(0,R.P3)(n),vodID:(0,R.hq)(n)}}},917601:function(e,n,t){"use strict";t.d(n,{G:function(){return c},H:function(){return p}});var i=t(296540),a=t(204870),r=t(447925),o=t(231273),s=t(457063),l=t(376347),d=t(207817),u=t(179405),c=864e5,p=function(){var e=(0,i.useContext)(o.$g),n=(0,i.useContext)(s.kl),t=n.behaviors&&n.behaviors.disableUserPreferencePersistence,p=e.mediaPlayerInstance,m=e.updateContext,v=e.quality,f=n.type,g=(0,i.useCallback)((function(){Date.now()-(0,u.Xz)(0)>=c&&p&&v===d.w&&(p.setAutoQualityMode(!0),m({quality:l._6.Auto,qualityBitrate:a.IJ.bitrate}),t||(0,u.XF)(a.IJ,f))}),[p,m,v,t,f]);return(0,r.p)("2020",g),null}},734830:function(e,n,t){"use strict";function i(e,n){var t={currSegment:null,prevSegment:null};if(!e||!n)return t;for(var i=e.length-1;i>=0;i--){if(a(e[i],n))return t.currSegment=e[i],t.prevSegment=e[i-1]||null,t;!t.prevSegment&&e[i].endOffset<=n&&(t.prevSegment=e[i])}return t}function a(e,n){return e.startOffset<=n&&n<=e.endOffset}function r(e,n){if(!e||!n)return!e&&!n;var t=e.segments,i=n.segments;return!((t||i)&&t!==i&&(!t||t.length||!i||i.length))||!(!t||!i||t.length!==i.length)&&t.every((function(e,n){var t=e.startOffset,a=e.endOffset,r=i[n],o=r.startOffset,s=r.endOffset;return t===o&&a===s}))}t.d(n,{F:function(){return r},y:function(){return i}})},992216:function(e,n,t){"use strict";t.d(n,{Nb:function(){return u}});var i=t(331635),a=t(296540),r=t(868238),o=t(107212),s=t(231273),l=t(954978),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleSeekCompleted=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition();n.props.onSeekComplete(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(l.a.SEEK_COMPLETED,this.handleSeekCompleted)},n.prototype.render=function(){return null},n}(a.Component),u=(0,r.Zz)((0,s.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,o.X)())(d)},982538:function(e,n,t){"use strict";t.d(n,{j:function(){return c}});var i=t(331635),a=t(296540),r=t(868238),o=t(192453),s=t(107212),l=t(231273),d=t(954978),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.timeInSecFloored=0,n.onTimeChanged=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition(),i=Math.floor(t);n.props.onTimeChanged&&n.props.onTimeChanged(t),i!==n.timeInSecFloored&&(n.props.onTimeSecondsChanged&&n.props.onTimeSecondsChanged(i),n.timeInSecFloored=i)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.throttleMilliseconds?(this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled)):this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)},n.prototype.componentDidUpdate=function(e){e.throttleMilliseconds&&!this.props.throttleMilliseconds?(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel(),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)):!e.throttleMilliseconds&&this.props.throttleMilliseconds&&this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChanged),this.props.throttleMilliseconds&&e.throttleMilliseconds!==this.props.throttleMilliseconds&&(e.throttleMilliseconds&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel()),this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled))},n.prototype.componentWillUnmount=function(){this.onTimeChangedThrottled&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel())},n.prototype.render=function(){return null},n}(a.Component),c=(0,r.Zz)((0,l.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,s.X)())(u)},811202:function(e,n,t){"use strict";t.d(n,{A$:function(){return u},SU:function(){return m},Tm:function(){return p},bz:function(){return f},oZ:function(){return c},vg:function(){return v}});var i=t(485272),a=t(855580),r=t(891918),o=t(573566),s=t(118483),l=t(177972),d=t(286169),u=function(e){var n=e.adContext,t=e.playerContext,r=e.brandLiftContext,o=e.isTurboSDAUpsellShowing,s=(0,d.wk)(e),u=s.forceControlVisibility;return!(s.mini||t.isPlayerCoreLoading||(0,l.k1)({restrictions:t.restrictions})||u===a.Ie.Hidden||n.adFormatMetadata&&(0,i.rW)(n.adFormatMetadata.adFormat)||r.isSurveyShowing||o)},c=function(e){var n=e.playerContext,t=(0,d.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,l.k1)({restrictions:n.restrictions})||i===a.Ie.Hidden)},p=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===r.p.ENDED,a=!t.hasPlayed;return!((0,o.cz)(e.adContext.videoAdMetadata)||!f(n.content,t.isOffline)||!a&&!i)},m=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,r=(0,d.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&r!==a.Ie.Showing)},v=function(e){return!e.uiContext.isCollectionSidebarShowing&&m(e)};function f(e,n){return(0,s.DG)(e)&&n}},722340:function(e,n,t){"use strict";t.d(n,{X:function(){return l},b:function(){return s}});var i=t(474848),a=t(959340),r=t(914421),o=(t(296540),(0,t(105146).k3)()),s=function(){return document.getElementById(o)},l=function(){return(0,i.jsx)(a.P,{position:r.yX.Absolute,attachTop:!0,attachRight:!0,margin:{top:"6rem",right:1},id:o,width:"37rem",style:{transform:"scale(1)"},"aria-label":"Chat Happening Now Overlay"})}},863845:function(e,n,t){"use strict";t.d(n,{rj:function(){return w}});var i=t(331635),a=t(474848),r=t(434848),o=t(371439),s=t(959340),l=t(312663),d=t(914421),u=t(588702),c=t(246942),p=t.n(c),m=t(296540),v=t(868238),f=t(346716),g=t(86043),h=t(759369),y=t(731667),k=t(947322),S=t(305528),_=t(488910),C=function(e){var n=null,t=e.isSmall?64:80,i=e.type===_.W.Icon&&e.icon===h.t.LogoTwitch;switch(e.type){case _.W.Icon:n=(0,a.jsx)(y.t,{asset:e.icon,type:y.H.Inherit,fill:!0});break;case _.W.Avatar:n=(0,a.jsx)(k.e,{src:e.src,alt:e.alt,size:t,userLogin:e.login});break;case _.W.Placeholder:n=(0,a.jsx)(S.Or,{height:t,width:t,overlay:!0});case _.W.Empty:}var r=80;return e.isSmall&&(r=i?40:64),(0,a.jsx)(s.P,{height:"".concat(r,"px"),children:n})},b=t(466307),P=t(231273),E=t(457063),x=t(764823),A=t(286169),N=t(334315);var w=(0,v.Zz)((0,E.cj)((function(e){return{mini:(0,A.wk)({playerPublicPropsContext:e}).mini}})),(0,x.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,P.dd)((function(e){return{error:e.error}})))((function(e){var n=function(e){var n=(0,m.useState)(((0,N.P)(e.videoContainer).width||0)<580),t=n[0],i=n[1];return{isSmall:t,onResize:function(e){i(e<580)}}}({videoContainer:e.videoContainer}),t=n.onResize,c=n.isSmall,v=function(){var n=e.text;return(0,a.jsx)(s.P,{margin:{top:2},textAlign:d.nO.Center,children:"string"==typeof n?h(n,0):n.map(h)})},h=function(e,n){return(0,a.jsx)(l.N,{fontSize:c?d.Z4.Size6:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,className:"content-overlay-gate__allow-pointers",children:e},"".concat(e,"-").concat(n))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.$,{onResize:t}),(0,a.jsx)(b.FT,{className:"content-overlay-gate",type:b.NL.Fullscreen,transparency:b.xL.Transparency0,children:e.mini?(0,a.jsxs)(a.Fragment,{children:[e.error?(0,a.jsx)(r.m,{height:60,width:60}):(0,a.jsx)(o.X,{size:80}),(0,a.jsx)(s.P,{padding:{top:1},children:(0,a.jsx)(l.N,{fontSize:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,children:e.error?(0,f.hw)("Error #{error}",{error:e.error.toString()},"ContentOverlayGate"):(0,f.hw)("Content Restricted","ContentOverlayGate")})})]}):(0,a.jsxs)(s.P,{className:p()("content-overlay-gate__content",{"content-overlay-gate__content--full":c}),display:d.nl.Flex,flexDirection:d.bo.Column,alignItems:d.k2.Center,"data-a-target":"player-overlay-content-gate",padding:c?{x:1}:void 0,position:d.yX.Relative,role:"dialog","aria-labelledby":"content-overlay-gate-text",children:[(0,a.jsx)(C,(0,i.__assign)({},e.iconProps,{isSmall:c})),v(),e.children&&(0,a.jsx)(s.P,{margin:{top:c?2:3},className:"content-overlay-gate__allow-pointers",children:e.children(c)})]})})]})}))},488910:function(e,n,t){"use strict";var i;t.d(n,{W:function(){return i}}),function(e){e.Empty="Empty",e.Icon="Icon",e.Avatar="Avatar",e.Placeholder="Placeholder"}(i||(i={}))},466307:function(e,n,t){"use strict";t.d(n,{FT:function(){return c},NL:function(){return a},xL:function(){return i}});var i,a,r=t(331635),o=t(474848),s=t(914421),l=t(959340),d=t(246942),u=t.n(d);t(296540);!function(e){e[e.Transparency0=0]="Transparency0",e[e.Transparency1=1]="Transparency1",e[e.Transparency3=3]="Transparency3",e[e.Transparency5=5]="Transparency5",e[e.Transparency6=6]="Transparency6",e[e.Transparency10=10]="Transparency10"}(i||(i={})),function(e){e.Center="center",e.Fullscreen="fullscreen",e.Sidebar="sidebar"}(a||(a={}));var c=function(e){var n,t,d=u()("player-overlay-background",(0,r.__assign)({},[i.Transparency0,i.Transparency1,i.Transparency3,i.Transparency5,i.Transparency6].reduce((function(n,t){var i;return(0,r.__assign)((0,r.__assign)({},n),((i={})["player-overlay-background--darkness-".concat(t)]=e.transparency===t,i))}),{})),e.className),c={};switch(e.type){case a.Fullscreen:c={flexDirection:s.bo.Column,justifyContent:s.A9.Center,alignItems:s.k2.Center,color:s.Q1.Overlay,attachLeft:!0,display:s.nl.Flex};break;case a.Center:c={padding:2,width:null!==(n=e.customWidth)&&void 0!==n?n:"37rem"};break;case a.Sidebar:c={padding:2,width:null!==(t=e.customWidth)&&void 0!==t?t:"32rem"}}return(0,o.jsx)(l.P,(0,r.__assign)({className:d,position:s.yX.Absolute,attachTop:!0,attachRight:!0,attachBottom:!0},c,{children:e.children}))}},381511:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e[e.Default=0]="Default",e[e.TopRight=1]="TopRight"}(i||(i={}))},419813:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{GS:function(){return l},Gy:function(){return i},Ns:function(){return u},UE:function(){return d},XL:function(){return c},Xh:function(){return a},_n:function(){return s},dD:function(){return m},gu:function(){return o}}),function(e){e.LINKED="linked",e.UNLINKED="unlinked",e.LINK_REQUESTED="link_requested",e.UNLINK_REQUESTED="unlink_requested"}(i||(i={})),function(e){e.VIEWER="viewer",e.BROADCASTER="broadcaster"}(a||(a={})),function(e){e.EXTENSIONS_NOT_LOADED="not loaded",e.EXTENSIONS_LOADED="loaded",e.EXTENSIONS_LOADING="loading",e.EXTENSIONS_RELOADING="reloading"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.INSTALL=1]="INSTALL",e[e.SETTINGS=2]="SETTINGS",e[e.REPORT=3]="REPORT",e[e.MANAGE_ACCESS=4]="MANAGE_ACCESS",e[e.UNRELEASED=5]="UNRELEASED",e[e.INFO=6]="INFO",e[e.FOLLOW=7]="FOLLOW",e[e.PURCHASE=8]="PURCHASE",e[e.LOGIN_REQUIRED=9]="LOGIN_REQUIRED",e[e.CONDITION_CONFIRMATION=10]="CONDITION_CONFIRMATION"}(o||(o={}));var s,l=function(e){return e.type===o.FOLLOW},d=function(e){return e.type===o.PURCHASE},u=function(e){return e.type===o.LOGIN_REQUIRED},c=function(e){return e.type===o.CONDITION_CONFIRMATION};!function(e){e[e.NONE=0]="NONE",e[e.BITS_BALANCE=1]="BITS_BALANCE"}(s||(s={}));var p,m=function(e){return e.type===s.BITS_BALANCE};!function(e){e[e.UniqueExtensionID=0]="UniqueExtensionID"}(p||(p={}))},343026:function(e,n,t){"use strict";t.d(n,{MA:function(){return F},QH:function(){return r},YU:function(){return D},aX:function(){return w},bb:function(){return o},gw:function(){return s},l1:function(){return l},lK:function(){return O},nZ:function(){return C},p$:function(){return I},pi:function(){return N},wv:function(){return T},yi:function(){return d}});var i=t(288480),a=t(419813),r=3e3;function o(e){var n=e.activationConfig.slot.match(/\d+/)||[];return parseInt(n[0],10)}function s(e){var n,t=((n={})[i.Z1.Overlay]=[],n[i.Z1.Component]=[],n[i.Z1.Panel]=[],n[i.Z1.Hidden]=[],n);return e.length?(e.slice().sort((function(e,n){return o(e)-o(n)})).forEach((function(e){var n=e.activationConfig.anchor;Object.keys(i.Z1).some((function(e){return i.Z1[e]===n}))&&t[n].push(e)})),t):t}function l(e){return e.activationConfig.anchor===i.Z1.Overlay}function d(e){return e.activationConfig.anchor===i.Z1.Component}var u=150,c=175,p=75,m=75,v=1,f=30,g=70,h=100,y=75+v+v,k=1e4;function S(e,n,t,i,a){var r={height:n,width:t},o={height:Math.max(n,u),width:Math.max(t,c)},s={height:e?o.height:r.height,width:e?o.width:r.width},l=s.height+f;return{offset:Math.floor(0-l/2),canRender:o.height<=i&&o.height>p&&(o.width<=a&&o.width>=m),extensionSize:r,popoverContentSize:s}}var _={offset:0,shouldShow:!1,extensionSize:{height:0,width:0},popoverContentSize:{height:0,width:0},zoom:1};function C(e,n,t,a){if(void 0===n.videoHeight||void 0===n.videoWidth||null===t)return _;var r=2*(a?h:g)+2*v+f,o=n.videoHeight-r,s=n.videoWidth-y;if(t.activationConfig.anchor===i.Z1.Overlay){var l=S(e,u=Math.min(270,o),c=Math.min(260,s),o,s);return{offset:l.offset,shouldShow:l.canRender,extensionSize:x=l.extensionSize,popoverContentSize:l.popoverContentSize,zoom:1}}if(d(t)&&void 0!==t.extension.views.component){var u,c,p=t.extension.views.component,m=p.aspectRatioX,C=p.aspectRatioY,b=p.targetHeight,P=p.autoScale,E=p.scalePixels;(c=(u=o*(b/k))*m/C)>s&&(u=(c=s)*C/m);var x,A=S(e,u,c,o,s);return{offset:A.offset,shouldShow:A.canRender,extensionSize:x=A.extensionSize,popoverContentSize:A.popoverContentSize,zoom:P&&E>0?x.width/E:1}}return _}var b=142,P=80,E=59,x=.25,A={shouldShow:!1,height:0,xOffset:0,zoom:1};function N(e,n){if(!e.videoHeight)return A;var t=n?h:g,i=e.videoHeight-2*t,a=e.videoHeight*x,r=Math.min(a,b);return r<P||r>i?A:{shouldShow:!0,height:r,xOffset:r*E/b-E,zoom:r/b}}function w(e){var n={identityLinkedStatus:a.Gy.UNLINKED,role:a.Xh.VIEWER};try{var t=JSON.parse(atob(e.split(".")[1]));return{identityLinkedStatus:t&&t.user_id?a.Gy.LINKED:a.Gy.UNLINKED,role:t&&t.role===a.Xh.BROADCASTER?a.Xh.BROADCASTER:a.Xh.VIEWER}}catch(e){return n}}function I(e){return w(e.extension.token).role===a.Xh.BROADCASTER}var T=function(e){return"".concat(e.id,"-").concat(e.extension.version)},D=function(e,n){return n[T(e)]||{}},F=function(e,n){var t=n[T(e)],a=e.extension.state===i.HY.Released,r=t&&t.unreleasedAccepted;return!(!a&&!r)},O=function(e){var n=e.extension,t=n.id,i=n.version;return"https://twitch.tv/ext/".concat(t,"-").concat(i)}},26589:function(e,n,t){"use strict";t.d(n,{p8:function(){return m}});var i=t(474848),a=t(486489),r=t(959340),o=t(914421),s=t(312663),l=(t(296540),t(868238)),d=t(346716),u=t(805450),c=t(466307),p=t(231273),m=(0,l.Zz)((0,u.X)({name:"LoadingOverlay"}),(0,p.dd)((function(e){return{isNetworkOffline:e.isNetworkOffline}})))((function(e){var n=e.isNetworkOffline;return(0,i.jsxs)(c.FT,{transparency:c.xL.Transparency10,type:c.NL.Fullscreen,children:[(0,i.jsx)(a.k,{inheritColor:!0,size:a.H.Large}),n&&(0,i.jsx)(r.P,{className:"loading-overlay__user-offline",margin:{top:2},textAlign:o.nO.Center,children:(0,i.jsx)(s.N,{bold:!0,color:o.Q1.Overlay,type:"h4",children:(0,d.hw)("You seem to be offline. Please wait while we try to reconnect.","VideoPlayerLoadingOverlay")})})]})}))},480455:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(640598),a=t(456450);function r(e,n,t){(0,i.s)({topic:(0,a.dl)(null!=e?e:""),onMessage:function(e){e.target_user_id===n&&t&&t()},skip:!e||!n}),(0,i.s)({topic:(0,a.CH)(null!=e?e:""),onMessage:function(e){e.channel_id===n&&t&&t()},skip:!e||!n})}},372442:function(e,n,t){"use strict";t.d(n,{d:function(){return f},g:function(){return g}});var i=t(331635),a=t(474848),r=t(564368),o=t(79004),s=t(552400),l=t(296540),d=t(877338),u=t(811202),c=t(961166),p=t(457063),m=t(764823),v=t(21824),f=function(e){var n,t=e.children?(0,a.jsx)(r.$n,(0,i.__assign)({variant:r.VQ.Secondary,icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,"aria-disabled":e.disabled||e.disabledInteraction,disabledInteraction:e.disabledInteraction,disabled:e.disabled,"aria-label":e.label,"aria-haspopup":"menu",overlay:!0,ref:e.anchorRef},(0,d.F)(e),{children:e.children})):(0,a.jsx)(o.a2,(0,i.__assign)({icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,disabled:e.disabled,"aria-label":e.label,"aria-haspopup":"menu",overlay:!0,ref:e.anchorRef},(0,d.F)(e)));return e.suppressTooltip||e.disabled?t:(0,a.jsx)(s.m,{id:"player-controls-button-tooltip",label:e.label,options:{placement:null!==(n=e.tooltipPlacement)&&void 0!==n?n:"top",modifiers:e.tooltipModifiers},disabled:!e.arePlayerControlsShowing,show:e.showTooltip,children:t})},g=function(e){var n=(0,l.useContext)(c.MP).active,t=(0,l.useContext)(m._t),r=(0,l.useContext)(v.wL),o=(0,l.useContext)(p.kl),s=(0,u.SU)({active:n,uiContext:t,videoPlaybackContext:r,playerPublicPropsContext:o});return(0,l.useMemo)((function(){return(0,a.jsx)(f,(0,i.__assign)({arePlayerControlsShowing:s},e))}),[s,e])}},787755:function(e,n,t){"use strict";t.r(n),t.d(n,{LOWER_THIRD_MAFS_DECISION:function(){return y},MIRROR_PBYP_DECISION:function(){return _},SQUEEZEBACK_MAFS_DECISION:function(){return k},SettingsMenuSubmenuStaffComponent:function(){return b},SettingsMenuSubmenuStaffContainer:function(){return P},VERTICAL_VIDEO_MAFS_DECISION:function(){return S},mapAdContextProps:function(){return E}});var i=t(331635),a=t(474848),r=t(337051),o=t(368972),s=t(14668),l=t(903689),d=t(296540),u=t(868238),c=t(346716),p=t(337930),m=t(485272),v=t(960052),f=t(709673),g=t(44377),h=t(726280),y="CgQSAggE",k="CgQSAggD",S="CgQSAggF",_="CgQSAggG",C=[{encodedDecision:y,primaryFormats:[g.Z$.LOWER_THIRD],fallbackFormats:[],sequenceLength:"4"},{encodedDecision:k,primaryFormats:[g.Z$.SQUEEZEBACK],fallbackFormats:[],sequenceLength:"4"},{encodedDecision:S,primaryFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO],fallbackFormats:[],sequenceLength:"4"},{encodedDecision:_,primaryFormats:[g.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO],fallbackFormats:[],sequenceLength:"4"},{encodedDecision:"CggKAggEEgIIAw==",primaryFormats:[g.Z$.SQUEEZEBACK],fallbackFormats:[g.Z$.LOWER_THIRD],sequenceLength:"4"},{encodedDecision:"CgwKAggDCgIIBBICCAU=",primaryFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO],fallbackFormats:[g.Z$.SQUEEZEBACK,g.Z$.LOWER_THIRD],sequenceLength:"4"},{encodedDecision:"CgwKAggFCgIIBBICCAM=",primaryFormats:[g.Z$.SQUEEZEBACK],fallbackFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO,g.Z$.LOWER_THIRD],sequenceLength:"4"},{encodedDecision:"ChAKAggFCgIIAwoCCAQSAggG",primaryFormats:[g.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO],fallbackFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO,g.Z$.SQUEEZEBACK,g.Z$.LOWER_THIRD],sequenceLength:"4"},{encodedDecision:"ChAKAggGCgIIAwoCCAQSAggF",primaryFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO],fallbackFormats:[g.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,g.Z$.SQUEEZEBACK,g.Z$.LOWER_THIRD],sequenceLength:"4"},{encodedDecision:"ChAKAggFCgIIBgoCCAQSAggD",primaryFormats:[g.Z$.SQUEEZEBACK],fallbackFormats:[g.Z$.OUTSTREAM_VERTICAL_VIDEO,g.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,g.Z$.LOWER_THIRD],sequenceLength:"4"}],b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={inStreamAdFormatOrder:[],outStreamAdBreakSelection:-1},n.toggleOutStreamAdMenuItem=function(e){return n.setState((function(n){return(0,i.__assign)((0,i.__assign)({},n),{outStreamAdBreakSelection:e})}))},n.toggleInStreamAdMenuItem=function(e,t){var i=n.state.inStreamAdFormatOrder.indexOf(t);e?i<0&&n.setState((function(e){return e.inStreamAdFormatOrder.push(t),e})):i>=0&&n.setState((function(e){return e.inStreamAdFormatOrder.splice(i,1),e}))},n.getInStreamAdDecision=function(){if(1===n.state.inStreamAdFormatOrder.length){if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_AUDIO)return"CgQSAggC";if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_VIDEO)return"CgISAA=="}else if(2===n.state.inStreamAdFormatOrder.length){if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_AUDIO)return"CgYKABICCAI=";if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_VIDEO)return"CgYKAggCEgA="}},n.getOutStreamAdDecision=function(){return C[n.state.outStreamAdBreakSelection].encodedDecision},n.getOutStreamOptionLabel=function(e,n){var t=new Map([[g.Z$.LOWER_THIRD,"LowerThird"],[g.Z$.SQUEEZEBACK,"Squeezeback"],[g.Z$.OUTSTREAM_VERTICAL_VIDEO,"VerticalVideo"],[g.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,"MirrorPbyP"]]);return(0,i.__spreadArray)((0,i.__spreadArray)([],e,!0),n,!0).map((function(e){return t.get(e)})).join(">")},n.getInStreamOptionLabel=function(e){var t=n.state.inStreamAdFormatOrder.length>0?n.state.inStreamAdFormatOrder.slice(0,1):[],i=n.state.inStreamAdFormatOrder.length>1?n.state.inStreamAdFormatOrder.slice(1):[];switch(e){case g.Z$.STANDARD_AUDIO:return t.length>0&&t.indexOf(e)>=0?(0,c.hw)("Audio Ad (Primary Format)","SettingsMenuSubmenuStaff"):i.length>0&&i.indexOf(e)>=0?(0,c.hw)("Audio Ad (Fallback Format)","SettingsMenuSubmenuStaff"):(0,c.hw)("Audio Ad","SettingsMenuSubmenuStaff");case g.Z$.STANDARD_VIDEO:return t.length>0&&t.indexOf(e)>=0?(0,c.hw)("Video Ad (Primary Format)","SettingsMenuSubmenuStaff"):i.length>0&&i.indexOf(e)>=0?(0,c.hw)("Video Ad (Fallback Format)","SettingsMenuSubmenuStaff"):(0,c.hw)("Video Ad","SettingsMenuSubmenuStaff");default:return(0,c.hw)("Unknown Format Ad","SettingsMenuSubmenuStaff")}},n.runPreroll=function(){return n.requestAd(h.d.Pre,g.gz.STANDARD_VIDEO)},n.runMidroll=function(){return n.requestAd(h.d.Mid,g.gz.STANDARD_VIDEO)},n.runPostroll=function(){return n.requestAd(h.d.Post,g.gz.STANDARD_VIDEO)},n.runOutStreamAd=function(){var e=C[n.state.outStreamAdBreakSelection];n.requestAd(h.d.Mid,e.primaryFormats[0],60,n.getOutStreamAdDecision(),e.primaryFormats,e.fallbackFormats,e.sequenceLength)},n.runMAF=function(){return n.requestAd(h.d.Mid,n.state.inStreamAdFormatOrder[0],30)},n.requestAd=function(e,t,i,a,r,o,s){void 0===i&&(i=30),void 0===a&&(a=n.getInStreamAdDecision()),n.props.requestAd({sessionID:"staff-submenu-".concat((0,v.SG)()),adFormat:t,roll:e,duration:i,forced:!0,mafsDecision:a,primaryFormats:r,fallbackFormats:o,sequenceLength:s})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=(0,c.hw)("Run Local Preroll Ad","SettingsMenuSubmenuStaff"),t=(0,c.hw)("Run Local Midroll Ad","SettingsMenuSubmenuStaff"),d=(0,c.hw)("Run Local Postroll Ad","SettingsMenuSubmenuStaff"),u=(0,c.hw)("Run Local Multi-Format Ad","SettingsMenuSubmenuStaff"),v=(0,p.fX)(m.Wj),f=[];return C.forEach((function(n,t){f.push((0,a.jsx)(r.G,{addRole:!0,name:"OutStreamOption",type:r.M.Radio,label:e.getOutStreamOptionLabel(n.primaryFormats,n.fallbackFormats),onChange:function(){e.toggleOutStreamAdMenuItem(t)}}))})),(0,a.jsxs)(a.Fragment,{children:(0,i.__spreadArray)((0,i.__spreadArray)([(0,a.jsx)(o.i,{addRole:!0,autoFocus:!0,label:n,onClick:this.runPreroll}),(0,a.jsx)(o.i,{addRole:!0,label:t,onClick:this.runMidroll}),(0,a.jsx)(o.i,{addRole:!0,label:d,onClick:this.runPostroll}),(0,a.jsx)(s.m,{}),(0,a.jsx)(l.x,{children:"Out-Stream Ads"}),(0,a.jsx)(l.x,{})],f,!0),[(0,a.jsx)(o.i,{addRole:!0,label:"Run Local Out-Stream Ad",onClick:this.runOutStreamAd,disabled:-1===this.state.outStreamAdBreakSelection}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.m,{}),(0,a.jsx)(l.x,{children:(0,c.hw)("Multi-Format Ads","SettingsMenuSubmenuStaff")}),(0,a.jsx)(r.G,{addRole:!0,type:r.M.CheckBox,label:this.getInStreamOptionLabel(g.Z$.STANDARD_AUDIO),onChange:function(n){e.toggleInStreamAdMenuItem(n.currentTarget.checked,g.Z$.STANDARD_AUDIO)}}),(0,a.jsx)(r.G,{addRole:!0,type:r.M.CheckBox,label:this.getInStreamOptionLabel(g.Z$.STANDARD_VIDEO),onChange:function(n){e.toggleInStreamAdMenuItem(n.currentTarget.checked,g.Z$.STANDARD_VIDEO)}}),(0,a.jsx)(o.i,{addRole:!0,label:u,onClick:this.runMAF,disabled:0===this.state.inStreamAdFormatOrder.length})]})],!1)})},n}(d.Component),P=(0,u.Zz)((0,f.VX)(E))(b);function E(e){return{requestAd:e.requestAd}}},155738:function(e,n,t){"use strict";t.d(n,{R6:function(){return D},Sb:function(){return R}});var i,a=t(331635),r=t(474848),o=t(163347),s=t(59542),l=t(267178),d=t(305528),u=t(959340),c=t(914421),p=t(97774),m=t(67813),v=t(723319),f=t(552400),g=t(216042),h=t(25437),y=t(296540),k=t(868238),S=t(346716),_=t(191132),C=t(192453),b=t(105146),P=t(407310),E=t(372442),x=t(961166),A=t(231273),N=t(457063),w=t(569939),I=t(21824),T=t(286169),D=.5;!function(e){e[e.SETTLED=0]="SETTLED",e[e.REQUESTED=1]="REQUESTED"}(i||(i={}));var F=(0,_.U)({name:"VideoPlayer_VolumeSlider",category:"broadcast"}).Available,O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.popperRef=y.createRef(),n.state={volumeFocused:!1,requestedVolume:null,volumeState:i.SETTLED,showVolumeTooltip:!1,hasVolumeButtonBeenActivated:!1},n.rangeID="player-volume-slider-".concat((0,b.aq)()),n.throttledVolumeChange=(0,C.n)((function(e){var t=n.props,i=t.setVolume,a=t.setMuted,r=t.muted,o={persist:!0,userTriggered:!0};i(e,o),r&&0!==e&&a(!1,o),0===e&&a(!0,o)}),30,{leading:!0,trailing:!0}),n.calcDom=function(){if(n.rangeRef){n.remInPx=parseFloat(getComputedStyle(document.documentElement).fontSize);var e=n.rangeRef.getBoundingClientRect();n.rangeWidth=e.width}},n.setVolumeTooltipDisplayTimer=function(){clearTimeout(n.tooltipTimeoutRef),n.tooltipTimeoutRef=setTimeout((function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))}),2e3)},n.setVolumeFocused=function(){n.setState((function(e){return e.volumeFocused?null:{volumeFocused:!0}}))},n.setVolumeUnfocused=function(){n.setState((function(e){return e.volumeFocused?{volumeFocused:!1}:null}))},n.setRangeInputFocused=function(){n.setState((function(e){return e.showVolumeTooltip?null:{showVolumeTooltip:!0}}))},n.setRangeInputUnfocused=function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))},n.getButtonIcon=function(e){var n=e.muted,t=e.volume;return n||0===t?o.N:t&&t>.5?s.c:l.g},n.getButtonLabel=function(e){var n=e.muted,t=e.volume;return n||0===t?(0,S.hw)("Unmute (m)","VolumeSliderComponent"):(0,S.hw)("Mute (m)","VolumeSliderComponent")},n.getTooltipValues=function(e){var t=e.volume,i=e.muted?0:t||0,a=1.6*n.remInPx;return{tooltipValue:i,tooltipLeftOffset:a/2+i*(n.rangeWidth-a)}},n.getRangeValue=function(e){var t=e.muted,a=e.volume;if(t)return"0";var r=null!=a?a:D,o=n.state.volumeState===i.REQUESTED?n.state.requestedVolume:r;return"".concat(o)},n.handleRangeInputChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return e.requestedVolume===t?null:{requestedVolume:t,volumeState:i.REQUESTED,showVolumeTooltip:!0}}),(function(){n.throttledVolumeChange(t)})),n.setVolumeTooltipDisplayTimer(),n.props.enablePlayerActiveTimeout()},n.handleMuteButtonClick=function(){var e=n.props,t=e.muted,i=e.volume,a=e.setVolume,r=e.setMuted,o={persist:!0,userTriggered:!0};n.setState((function(){return{hasVolumeButtonBeenActivated:!0}})),t&&0===i&&a(.1,o),t&&void 0===i&&a(D,o),r(!t,o)},n.setRangeRef=function(e){return n.rangeRef=e},n}return(0,a.__extends)(n,e),n.prototype.componentWillUnmount=function(){clearTimeout(this.tooltipTimeoutRef),this.throttledVolumeChange.flush()},n.prototype.componentDidUpdate=function(){var e,n,t;null===(t=null===(n=null===(e=this.popperRef)||void 0===e?void 0:e.current)||void 0===n?void 0:n.update)||void 0===t||t.call(n),this.props.volume===this.state.requestedVolume&&this.state.volumeState!==i.SETTLED&&this.setState((function(e){return e.volumeState===i.SETTLED?null:{volumeState:i.SETTLED}}))},n.prototype.render=function(){var e,n,t=this.props,i=t.audioBlocked,a=t.isPlayerCoreLoading,o=t.disableControls,s=t.muted,l=t.playerControlsShowing,y=t.showInitialMutedOnVolumeButton,k=t.userEverUnmuted,_=this.getButtonIcon(this.props),C=this.getButtonLabel(this.props),b=this.getRangeValue(this.props),x=this.getTooltipValues(this.props),A=!!s&&y&&!k&&!this.state.hasVolumeButtonBeenActivated,N=(A||i)&&l&&y;if(a)return(0,r.jsx)(d.Or,{height:30,width:14.5});var w=this.state.volumeFocused,I=!P.j.os.isIOS()&&!this.props.disableVolumeSlider,T=Math.floor(100*Number(b)),D=this.state.showVolumeTooltip&&w&&l;return(0,r.jsx)(F,{children:(0,r.jsx)("div",{onMouseEnter:this.setVolumeFocused,onMouseLeave:this.setVolumeUnfocused,onFocus:this.setVolumeFocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,children:[(0,r.jsx)(u.P,{borderRadius:p.Z.Large,className:N?"volume-slider__button-container":void 0,children:(0,r.jsx)(E.g,{"data-a-target":"player-mute-unmute-button",label:N?(0,S.hw)("Tap to unmute","VolumeSlider"):C,buttonIcon:_,onClick:this.handleMuteButtonClick,disabled:o||this.props.error,suppressTooltip:!N&&A,showTooltip:A&&y&&l,tooltipModifiers:N?[{name:"flip",options:{allowedAutoPlacements:["top"],rootBoundary:null===(e=this.props.chromecastButtonRef)||void 0===e?void 0:e.current,boundary:null===(n=this.props.ref)||void 0===n?void 0:n.current}}]:void 0})}),I&&(0,r.jsx)(m.e,{alwaysRenderChild:!0,show:w,type:v.ES.Fade,duration:v.Cf.Short,className:"volume-slider__slider-container",onEnterComplete:this.calcDom,children:(0,r.jsx)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,fullHeight:!0,onMouseLeave:this.setRangeInputUnfocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,alignItems:c.k2.Stretch,height:"100%",children:[(0,r.jsx)(u.P,{position:c.yX.Relative,display:c.nl.Flex,style:{insetInlineStart:"".concat(x.tooltipLeftOffset,"px")},children:(0,r.jsx)(f.m,{show:D,label:(0,S.ZV)(x.tooltipValue,"percent"),popperRef:this.popperRef,options:{placement:"top",modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},display:c.nl.Inline})}),(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,justifyContent:c.A9.Center,height:"100%",children:[(0,r.jsx)(g.S,{display:c.nl.HideAccessible,children:(0,r.jsx)("label",{htmlFor:this.rangeID,children:(0,S.hw)("Volume","VolumeSliderComponent")})}),(0,r.jsx)(h.Q,{ref:this.setRangeRef,"data-a-target":"player-volume-slider","data-a-visible":w,fill:!0,min:0,max:1,step:.01,onChange:this.handleRangeInputChange,value:b,disabled:o||this.props.error,id:this.rangeID,overlay:!0,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":T,"aria-valuetext":"".concat(T,"%"),onFocus:this.setRangeInputFocused,onBlur:this.setRangeInputUnfocused})]})]})})})]})})})},n}(y.Component),R=(0,k.Zz)((0,N.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.disableVolumeSlider,a=n.showInitialMutedOnVolumeButton;return{disableControls:!!t,disableVolumeSlider:!!i,showInitialMutedOnVolumeButton:null!=a&&a}})),(0,I.AP)((function(e){var n=e.muted,t=e.volume,i=e.setMuted,a=e.setVolume;return{muted:n,volume:t,setMuted:i,setVolume:a}})),(0,A.dd)((function(e){var n=e.audioBlocked,t=e.isPlayerCoreLoading,i=e.error,a=e.userEverUnmuted;return{audioBlocked:n,isPlayerCoreLoading:t,error:!!i,userEverUnmuted:a}})),(0,x.In)((function(e){return{enablePlayerActiveTimeout:e.enablePlayerActiveTimeout}})),(0,w.o1)())(O)},690982:function(e,n,t){"use strict";t.d(n,{F6:function(){return b}});var i,a=t(331635),r=t(474848),o=t(564368),s=t(296540),l=t(415044),d=t(868238),u=t(928778),c=t(503472),p=t(131883),m=t(457063),v=t(569939),f=t(959340),g=t(914421),h=t(734594),y=t(346716),k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(f.P,{display:g.nl.Flex,flexDirection:g.bo.Column,alignItems:g.k2.Center,children:this.renderButton(this.props)})},n.prototype.renderButton=function(e){var n=e.notificationsDisabled,t=e.working,i=e.onDisableNotificationsClick,a=e.onEnableNotificationsClick,s=e.buttonSize,l=t?o.w.Loading:o.w.Default;return n?(0,r.jsx)(o.$n,{onClick:a,state:l,size:s,children:(0,y.hw)("Turn on Notifications","PlayerFollowButton")}):(0,r.jsx)(o.$n,{onClick:i,variant:o.VQ.Success,state:l,icon:h.i,size:s,children:(0,y.hw)("Notifications","PlayerFollowButton")})},n}(s.Component),S=t(922624),_=t.n(S);!function(e){e.NotificationsOff="notif_off",e.NotificationsOn="notif_on",e.FollowAndNotificationsOn="follow_on_notif_on"}(i||(i={}));var C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={working:!1},n.trackNotificationButtonClick=function(e){n.props.track("player_notifbutton_clicks",{followState:e.wasFollowing,notif_state:e.wereNotificationsEnabled,src:n.props.playerType,action:e.action})},n.handleEnableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:e?i.NotificationsOn:i.FollowAndNotificationsOn,wasFollowing:e,wereNotificationsEnabled:!1}),n.changeNotificationSettings({disableNotifications:!1})},n.handleDisableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:i.NotificationsOff,wasFollowing:e,wereNotificationsEnabled:!0}),n.changeNotificationSettings({disableNotifications:!0})},n.changeNotificationSettings=function(e){return(0,a.__awaiter)(n,void 0,void 0,(function(){var n,t,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n=e.disableNotifications,t=this.props.userID,i=(0,c.AR)({targetID:t,disableNotifications:n}),a.label=1;case 1:return a.trys.push([1,,4,5]),this.props.isLoggedIn?(this.setState({working:!0}),[4,this.props.followUser(i)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:return this.setState({working:!1}),this.props.onFollow&&this.props.onFollow(),[7];case 5:return[2]}}))}))},n}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isSmall,t=e.notificationsDisabled;return(0,r.jsx)(k,{notificationsDisabled:t,working:this.state.working,onDisableNotificationsClick:this.handleDisableNotifications,onEnableNotificationsClick:this.handleEnableNotifications,buttonSize:n?o.Mp.Small:o.Mp.Default})},n}(s.Component);var b=(0,d.Zz)((0,u._v)(_(),{name:"followUser"}),(0,v.o1)(),(0,m.cj)((function(e){return{playerType:e.type}})),(0,l.Ng)((function(e){return{isLoggedIn:(0,p.M3)(e)}})))(C)},15292:function(e,n,t){"use strict";t.d(n,{F$:function(){return v},yg:function(){return m}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(928778),l=t(300235),d=t(457063),u=t(118483),c=t(179245),p=t.n(c);function m(){return function(e){var n=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props))},t.displayName=(0,l.K)(t.name,e),t}(r.Component),t=(0,s._v)(p(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}});return(0,o.Zz)((0,d.cj)(f),t)(n)}}function v(e){return!!(e&&e.user&&e.user.stream&&e.user.stream.isEncrypted)}function f(e){var n=e.content;return{liveChannelLogin:(0,u.jp)(n)}}},452237:function(e,n,t){"use strict";t.d(n,{_u:function(){return a},s_:function(){return o}});var i=t(436617),a={preAdPodVolume:null,preAdPodMuted:null,streamLoudness:null,reachedDurationThreshold:!1},r=(0,i.e)("AdLoudnessContext",a,(function(e){return{adLoudness:e}})),o=(r.withMemoContext,r.context)},394984:function(e,n,t){"use strict";t.d(n,{KZ:function(){return p},cK:function(){return m}});var i,a=t(296540),r=t(346716),o=t(709673),s=t(457063),l=t(44377),d=t(573566),u=t(286169),c=t(452237),p=function(e){return e===l.Z$.STANDARD_AUDIO?-14:-10.98};!function(e){e.Control="control",e.OnlyDown="treatment_only_down",e.AlwaysAdjust="treatment_always_adjust"}(i||(i={}));var m=function(){var e=(0,a.useContext)(c.s_),n=e.preAdPodMuted,t=e.preAdPodVolume,l=e.streamLoudness,m=(0,a.useContext)(o.jK),v=m.adFormatRequest,f=m.adFormatMetadata,g=m.videoAdRequest,h=m.videoAdMetadata,y=m.userManuallyAdjustedVolumeDuringAd,k=(0,a.useContext)(s.kl),S=(0,u.wk)({playerPublicPropsContext:k}).disableAutoAdVolumeAdjustment,_=(0,a.useRef)(p());(0,a.useEffect)((function(){var e=null!=g?g:v;_.current=p(null==e?void 0:e.adFormat)}),[v,g]);var C=(0,a.useCallback)((function(){return(0,d.EF)(h)||(0,d.hr)(f)}),[h,f]),b=(0,a.useCallback)((function(e){var t,a=l&&Date.now()-l.timestamp<=3e5,o=(!!g||!!v)&&C()&&!S&&e>.1&&!y&&function(){switch(r.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case i.AlwaysAdjust:return!0;case i.OnlyDown:return!!(l&&_.current>l.loudness);default:return!1}}()&&a;return r.E5.track("ad_loudness_normalization",{has_ad_request:!!g||!!v,has_ad_metadata:!!h||!!f,stitched_ad_metadata:!!(null==h?void 0:h.stitched)||!!(null==f?void 0:f.stitched),auto_ad_volume_adjustment_disabled:!!S,pre_ad_pod_muted:!!n,pre_impression_volume:e,user_manually_adjusted_volume_during_ad:y,has_recent_stream_loudness:!!a,play_session_id:r.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:!!o,ad_session_id:(null==g?void 0:g.sessionID)||(null==v?void 0:v.sessionID),channel:null===(t=r.E5.getLastPageview())||void 0===t?void 0:t.channel}),o}),[l,v,f,g,h,S,n,y,_,C]),P=(0,a.useCallback)((function(){return(g||(0,d.tl)(v))&&function(){switch(r.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case i.AlwaysAdjust:case i.OnlyDown:return!0;default:return!1}}()&&!y}),[y,g,v]),E=(0,a.useCallback)((function(e){return function(e){var n=e.playerVolume,t=e.streamLoudness,i=e.adLoudness;if(!t||!i)return null;var a=8.6901,r=.0029,o=a*Math.log(n)-r+(t-i),s=Math.exp((o+r)/a);return s===1/0?1/0:s>1?1:+s.toFixed(10)}({playerVolume:e,streamLoudness:l&&l.loudness,adLoudness:_.current})}),[_,l]);return{shouldAdjustVolume:b,getAdjustedVolume:E,getInitialVolume:(0,a.useCallback)((function(){return t}),[t]),shouldResetVolumeOnContentResume:P,getInitialMuteState:(0,a.useCallback)((function(){return!!n}),[n])}}},213541:function(e,n,t){"use strict";t.d(n,{B:function(){return s}});var i=t(331635),a=t(474848),r=(t(296540),t(300235)),o=t(394984);function s(){return function(e){var n=function(n){var t=(0,o.cK)();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName=(0,r.K)("WithAdLoudness",e),n}}},705970:function(e,n,t){"use strict";t.d(n,{Hq:function(){return r},qu:function(){return i},wG:function(){return a}});var i=[/^IAS$/,/^doubleverify.com-omid$/,/^amazon.com-omid$/,/^iabtechlab.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],a=[/^IAS$/,/^amazon.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],r=["ddacn6pr5v0tl.cloudfront.net","c.amazon-adsystem.com","www.twitch.tv"]},80515:function(e,n,t){"use strict";t.d(n,{c:function(){return Se}});var i,a,r,o,s,l=t(331635),d=t(474848),u=t(891975),c=t(296540),p=t(290942),m=t(485272),v=t(709673),f=t(764823),g=t(21824),h=t(726280),y=t(705970);function k(e){return"".concat(e.adSessionID,"-").concat(e.adPosition)}function S(e,n,t){return{adSessionID:k(e),type:n,timestamp:Date.now(),data:void 0!==t?t:null}}function _(e){return{viewport:{width:window.innerWidth,height:window.innerHeight},adView:{percentageInView:e.percentageInView,geometry:e.geometry,onScreenGeometry:e.onScreenGeometry,reasons:e.reasons}}}function C(e,n){var t=function(e){return{skippable:!1,autoPlay:!0,position:e.roll}}(e);n(S(e,i.Loaded,t))}function b(e,n,t){var a=function(e,n){return{duration:e.duration,videoPlayerVolume:+(n||0).toFixed(10)}}(e,t);n(S(e,i.Start,a))}function P(e,n,t){var a=function(e){return(0,l.__assign)({mediaType:"video",videoEventAdaptorType:"jsCustom",videoEventAdaptorVersion:"1.2"},_(e))}(t);n(S(e,i.Impression,a))}function E(e,n,t){if(t>0&&t<4){var a=function(e){switch(e){case 1:return i.FirstQuartile;case 2:return i.Midpoint;case 3:return i.ThirdQuartile;default:return i.Complete}}(t);n(S(e,a))}}function x(e,n){n(S(e,i.Pause))}function A(e,n){n(S(e,i.Resume))}function N(e,n){var t={interactionType:r.Click};n(S(e,i.AdUserInteraction,t))}function w(e,n,t){var a=null==n?void 0:n.getElementsByTagName("video"),r=a&&a[0]?a[0]:null,o={context:{apiVersion:"",environment:"web",accessMode:"full",videoElement:r,adSessionType:"html",adServerId:"",adCount:1,omidNativeInfo:{partnerName:"Amazon",partnerVersion:"1.0"},omidJsInfo:{omidImplementer:"omsdk",serviceVersion:"1.3",sessionClientVersion:"1.3",partnerName:"Amazon",partnerVersion:"1.0"},supports:["clid"]}};t(S(e,i.SessionStart,o))}!function(e){e.SessionStart="sessionStart",e.SessionError="sessionError",e.SessionFinish="sessionFinish",e.Impression="impression",e.Loaded="loaded",e.Start="start",e.FirstQuartile="firstQuartile",e.Midpoint="midpoint",e.ThirdQuartile="thirdQuartile",e.Complete="complete",e.Pause="pause",e.Resume="resume",e.BufferStart="bufferStart",e.BufferFinish="bufferFinish",e.VolumeChange="volumeChange",e.PlayerStateChange="playerStateChange",e.AdUserInteraction="adUserInteraction",e.GeometryChange="geometryChange"}(i||(i={})),function(e){e.Minimized="minimized",e.Collapsed="collapsed",e.Normal="normal",e.Expanded="expanded",e.Fullscreen="fullscreen"}(a||(a={})),function(e){e.Click="click",e.InvitationAccepted="invitation_accepted"}(r||(r={})),function(e){e.NotFound="notFound",e.Hidden="hidden",e.Backgrounded="backgrounded",e.Viewport="viewport",e.Obstructed="obstructed",e.Clipped="clipped"}(o||(o={})),function(e){e.Video="video",e.Generic="generic"}(s||(s={}));var I=t(78058),T=t(430228),D=t.n(T),F=t(346716),O=new Set([i.SessionStart,i.SessionError,i.SessionFinish]),R="session",V="video";function M(e){return!O.has(e)&&e!==i.Impression&&e!==i.GeometryChange}function L(){var e=c.useRef(new(D())),n=c.useRef([]);return{emitOMIDEvent:(0,I.K)((function(t){F.vF.debug("ad ".concat(t.type,", omidEvent"),t),n.current.push(t),O.has(t.type)?e.current.emit(R,t):(e.current.emit(t.type,t),M(t.type)&&e.current.emit(V,t))})),removeOldEventsFromCache:(0,I.K)((function(e){n.current=n.current.filter((function(n){return n.adSessionID!==k(e)}))})),getOMIDClient:function(t,a){function r(e){return e.type===i.SessionStart?(0,l.__assign)((0,l.__assign)({},e),{data:(0,l.__assign)((0,l.__assign)({},e.data||{}),{verificationParameters:a})}):e}function o(e){return e.adSessionID===k(t)}var s=function(t,i){n.current.filter(o).filter(function(e){switch(e){case R:return function(e){return O.has(e.type)};case V:return function(e){return M(e.type)};default:return function(n){return n.type===e}}}(t)).map(r).forEach((function(e){return i(e)})),e.current.addListener(t,(function(e){o(e)&&i(r(e))}))};return{registerSessionObserver:function(e,n){s(R,e)},addEventListener:s}}}}var j=t(337930),B=t(334315);function U(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}}function q(e){return e.width*e.height}function G(e,n){if(!n)return[];var t={x:0,y:0,width:window.innerWidth,height:50};return 0===q(K(e,t))?[]:[t]}function z(e){var n=[];if(e){var t={x:0,y:0,width:e>0?window.innerWidth:0,height:e};n.push(t)}return n}function H(e,n){if(0===n)return 0;var t=Math.round(e/n*100);return Math.min(100,Math.max(0,t))}function W(e,n){var t=K(e,U()),i=n.map((function(e){return(0,l.__assign)((0,l.__assign)({},K(e,t)),{depth:1})}));var a=q(t);return function e(n){var t=n.filter((function(e){return q(e)>0}));if(0===t.length)return[];var i=t[0],a=e(t.slice(1)),r=[];return a.forEach((function(e){r.push(e),r.push((0,l.__assign)((0,l.__assign)({},K(e,i)),{depth:i.depth+e.depth}))})),r.push(i),r}(i).forEach((function(e){e.depth%2==1?a-=q(e):a+=q(e)})),a}function K(e,n){var t=Math.max(e.x,n.x),i=Math.max(e.y,n.y),a=Math.min(e.x+e.width,n.x+n.width)-t,r=Math.min(e.y+e.height,n.y+n.height)-i;return a<=0||r<=0?{x:0,y:0,width:0,height:0}:{x:t,y:i,width:a,height:r}}var Z=function(e,n){switch(n.type){case"SetInitialAdViewGeometry":case"ResetAdViewReasons":return(0,l.__assign)((0,l.__assign)({},e),n.payload);case"ResetAdViewGeometry":var t=function(e,n,t,i,r){var s,d=(0,B.G)(e),u=d.x,c=void 0===u?0:u,p=d.y,m=void 0===p?0:p,v=d.width,f=void 0===v?0:v,g=d.height,h=void 0===g?0:g,y={x:c,y:m,width:f,height:h},k=0;if(r){var S=n.onScreenGeometry.obstructions[0]||{x:0,y:0,width:0,height:0},_=S.y+S.height;k=m>_?m:_}var C,b=(0,j.fX)("dont_report_non_overlapping_obstructions")?G(y,r):z(k),P=K(y,U()),E=q(y),x=q(P),A=W(y,b),N=H(A,E),w=[];return A<x&&w.push(o.Obstructed),x<E&&w.push(o.Viewport),"visible"!==document.visibilityState&&"treatment"===F.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(w=[o.Backgrounded],N=0),C=i?a.Fullscreen:t===a.Fullscreen||(null===(s=n.initialGeometry)||void 0===s?void 0:s.width)===f&&n.initialGeometry.height===h?a.Normal:E>n.area?a.Expanded:N>0?a.Collapsed:a.Minimized,{initialGeometry:n.initialGeometry,geometry:y,onScreenGeometry:(0,l.__assign)((0,l.__assign)({},P),{obstructions:b}),area:E,percentageInView:N,reasons:w,playerState:C}}(n.payload.videoContainer,e,n.payload.lastPlayerState,n.payload.isFullscreen,n.payload.isTopNavShowing);return(0,l.__assign)((0,l.__assign)({},e),{geometry:t.geometry,onScreenGeometry:t.onScreenGeometry,area:t.area,percentageInView:t.percentageInView,reasons:t.reasons,playerState:t.playerState});case"SetAdComplete":return(0,l.__assign)({},e);default:throw new Error}},Q=t(447925),Y=t(891918),X=function(e){var n=e.listenerProps,t=n.omidAdMetadata,a=n.emitOMIDEvent;return(0,Q.p)(Y.p.BUFFERING,c.useCallback((function(){a(S(t,i.BufferStart))}),[t,a])),(0,Q.p)(Y.p.PLAYING,c.useCallback((function(){a(S(t,i.BufferFinish))}),[t,a])),null},$=t(52166),J=t(522646),ee=function(e){var n=e.adFormatMetadataProp,t=e.listenerProps,i=t.omidAdMetadata,a=t.emitOMIDEvent,r=c.useContext(v.jK),o=r.addClickListener,s=r.removeClickListener;(0,$._)(J.V.Click,c.useCallback((function(){N(i,a)}),[i,a]),{adFormatMetadata:n});var l=c.useCallback((function(){N(i,a)}),[i,a]);return c.useEffect((function(){return o(l),function(){s(l)}}),[l,s,o]),null},ne=function(e){var n=e.adFormatMetadataProp,t=e.listenerProps,a=t.omidAdMetadata,r=t.emitOMIDEvent;return(0,$._)(J.V.Error,c.useCallback((function(e){var n,t,o,l,d;n=a,t=s.Generic,o=e.reason,l=r,d=function(e,n){return{error_type:e,message:n}}(t,o),l(S(n,i.SessionError,d))}),[a,r]),{adFormatMetadata:n}),null},te=t(726561),ie=t(415044),ae=t(86043),re=t(959385),oe=t(255578),se=t(691177),le=function(e){var n=e.verificationsIsNotEmpty,t=e.listenerProps,a=t.omidAdMetadata,r=t.emitOMIDEvent,s=e.adViewState,l=e.updateAdViewState,u=e.lastPlayerState,p=e.videoContainerProp,m=c.useContext(f._t).isFullscreen,v=c.useContext(f._t).videoContainer||p,g=(0,ie.d4)(se.GQ),h=!m&&!g;c.useEffect((function(){!function(e,n,t){var a=_(t);n(S(e,i.GeometryChange,a))}(a,r,s)}),[s,a,r]);var y=c.useCallback((function(){"visible"!==document.visibilityState?l({type:"ResetAdViewReasons",payload:{reasons:[o.Backgrounded],percentageInView:0}}):l({type:"ResetAdViewGeometry",payload:{videoContainer:v,lastPlayerState:u,isFullscreen:m,isTopNavShowing:h}})}),[l,v,u,m,h]);c.useEffect((function(){return document.addEventListener("visibilitychange",y),function(){document.removeEventListener("visibilitychange",y)}}),[y]);var k=(0,te.F)((function(){v&&l({type:"ResetAdViewGeometry",payload:{videoContainer:v,lastPlayerState:u,isFullscreen:m,isTopNavShowing:h}})})),C=c.useMemo((function(){return(0,oe.s)((function(){k.current()}),1e3)}),[k]),b=c.useContext(re.MD).registerReceiver;return c.useEffect((function(){var e=b({checkVisible:C});return function(){e()}}),[C,b]),(0,d.jsx)(d.Fragment,{children:n&&(0,d.jsx)(ae.$,{onResize:C})})},de=t(962270),ue=function(e){var n=e.listenerProps,t=e.videoPlaybackState,i=n.omidAdMetadata,a=n.emitOMIDEvent;(0,de.i)({onPlay:c.useCallback((function(){t||A(i,a)}),[t,i,a]),onPause:c.useCallback((function(){t||x(i,a)}),[a,i,t])});var r=c.useRef();return c.useEffect((function(){t&&(void 0===r.current?t.isPlaying?A(i,a):x(i,a):!r.current&&t.isPlaying?A(i,a):r.current&&!t.isPlaying&&x(i,a),r.current=t.isPlaying)}),[null==t?void 0:t.isPlaying,i,a,t]),null},ce=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,d=e.videoAdRequestProp,u=e.videoContainerProp,p=c.useContext(v.jK).videoAdRequest,m=c.useContext(f._t).videoContainer,g=p||d,h=m||u;return(0,$._)(J.V.Loaded,c.useCallback((function(e){var n,t,i,o={adSessionID:(null==g?void 0:g.sessionID)||"",duration:e.adInfo&&e.adInfo.duration||0,adPosition:(null===(t=null===(n=e.adInfo)||void 0===n?void 0:n.adPodInfo)||void 0===t?void 0:t.adPosition)||0,roll:e.request.roll};a(o),r((null===(i=e.adInfo)||void 0===i?void 0:i.verificationResources)||[],o)}),[null==g?void 0:g.sessionID,a,r]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Impression,c.useCallback((function(){P(t,i,s)}),[t,s,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Started,c.useCallback((function(){w(t,h,i),C(t,i),b(t,i,l())}),[t,h,i,l]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.FirstQuartile,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Midpoint,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.ThirdQuartile,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Complete,c.useCallback((function(){o(t)}),[t,o]),{adFormatMetadata:e.adFormatMetadataProp}),null},pe=t(282463),me=t(954978),ve=t(573566),fe=F.x2.logger.withCategory("ssai-progress-listener"),ge=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,d=c.useContext(v.jK).videoAdMetadata,u=c.useContext(f._t).videoContainer,p=(0,ve.lq)(d)&&d||void 0,m=c.useCallback((function(e){if(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])if(e.DURATION&&e["X-TV-TWITCH-AD-POD-POSITION"]&&e["X-TV-TWITCH-AD-ROLL-TYPE"]){var n,d={adSessionID:e["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",duration:parseInt(e.DURATION,10)||0,adPosition:parseInt(e["X-TV-TWITCH-AD-POD-POSITION"],10)+1,roll:(n=e["X-TV-TWITCH-AD-ROLL-TYPE"],"MIDROLL"===n?h.d.Mid:"POSTROLL"===n?h.d.Post:h.d.Pre)};if(k(d)!==k(t)){o(t),a(d);var c=[];try{c=function(e){var n=e.Verifications||e.Verification;if(!n)return[];return n.map((function(e){return{vendor:e.vendor,JavaScriptResources:e.JavaScriptResource.map((function(e){return{apiFramework:e.apiFramework,URI:e.URI}})),VerificationParameters:e.VerificationParameters}}))}(JSON.parse(atob(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])))}catch(e){fe.warn("failed to parse stitched ad verifications")}r(c,d),w(d,u,i),C(d,i),b(d,i,l()),P(d,i,s)}}else fe.warn("Unable to create omidAdMetadata for stitched ad.")}),[t,o,a,r,u,i,l,s]),g=c.useCallback((function(e){if(e["X-TV-TWITCH-AD-QUARTILE"]){var n=parseInt(e["X-TV-TWITCH-AD-QUARTILE"]||"",10);E(t,i,n)}}),[i,t]),y=c.useCallback((function(e){p&&"live"===e["X-TV-TWITCH-STREAM-SOURCE"]&&o(t)}),[p,o,t]),S=c.useCallback((function(e){if("text/json"===e.type){var n=void 0;try{n=JSON.parse(e.data)}catch(e){return void fe.warn("failed to parse stitched ad metadata")}if(!n)return void fe.warn("failed to parse stitched ad metadata");switch(n.CLASS){case pe.cG:m(n);break;case pe.Pv:g(n);break;case pe.ur:y(n)}}}),[m,g,y]);return(0,Q.p)(me.a.METADATA,S),null};var he=function(e){var n=e.listenerProps,t=n.omidAdMetadata,a=n.emitOMIDEvent,r=e.getVolume,o=c.useRef(null);null===o.current&&(o.current=r());var s=c.useMemo((function(){return(0,oe.s)((function(e){var n,r,o;n=t,r=a,o=function(e){return{videoPlayerVolume:+e.toFixed(10)}}(e),r(S(n,i.VolumeChange,o))}),1e3)}),[a,t]);return c.useEffect((function(){var e=r();e!==o.current&&(o.current=e,s(e))}),[s,a,r,t]),null},ye=F.x2.logger.withCategory("ad-verification-manager").withCategory("vendor-iframe"),ke=function(e){var n=c.useRef(null),t=c.useCallback((function(){var t,i,a,r,o;if((null===(t=n.current)||void 0===t?void 0:t.contentWindow)&&(null===(i=n.current)||void 0===i?void 0:i.contentDocument))if(0!==e.verification.JavaScriptResources.length){var s=null===(a=n.current)||void 0===a?void 0:a.contentWindow;s.omid3p=e.omidClient;var l=s.document.createElement("script");l.src=e.verification.JavaScriptResources[0].URI,y.wG.some((function(n){return n.test(e.verification.vendor)}))&&(null===(r=n.current)||void 0===r||r.setAttribute("sandbox","allow-scripts")),(null===(o=n.current)||void 0===o?void 0:o.contentDocument).body.appendChild(l)}else ye.warn("setupIFrame failed because JavaScriptResources was empty");else ye.warn("setupIFrame failed because the iframe was null")}),[e.omidClient,e.verification.JavaScriptResources,e.verification.vendor]);return(0,u.S)((function(){return n.current=document.createElement("iframe"),n.current.style.display="none",n.current.title="VendorIFrame",e.adSessionId&&(n.current.dataset.testid=e.adSessionId),n.current.addEventListener("load",(function(){t()})),document.body.appendChild(n.current),function(){try{document.body.removeChild(n.current)}catch(e){ye.warn("failed to remove iframe from document:",e)}}})),null},Se=function(e){var n,t,r,s,_=c.useState([]),C=_[0],b=_[1],P=c.useContext(f._t).videoContainer,E=c.useContext(g.wL),x=E.muted,A=E.volume,N=c.useContext(v.jK),w=N.muted,I=N.volume,T=N.adFormatMetadata,D=N.thirdPartyOutstreamVideoAdElement,O=(0,m.fS)(null===(n=e.adFormatMetadata)||void 0===n?void 0:n.adFormat),R=O?null===(t=e.videoPlaybackState)||void 0===t?void 0:t.isMuted:w,V=O?null===(r=e.videoPlaybackState)||void 0===r?void 0:r.currentVolume:I,M=O?e.adFormatMetadata:T,U=O?null===(s=e.containerNode)||void 0===s?void 0:s.current:D,K=c.useMemo((function(){return M&&(0,m.C_)(null==M?void 0:M.adFormat)&&U?[R,V,U]:[x,A,P]}),[x,A,R,V,M,P,U]),Q=K[0],Y=K[1],$=K[2],J=L(),te=J.emitOMIDEvent,ie=J.removeOldEventsFromCache,ae=J.getOMIDClient,re=c.useState({adSessionID:"",duration:0,adPosition:0,roll:h.d.Pre}),oe=re[0],se=re[1],de=c.useReducer(Z,function(e){var n=(0,B.G)(e),t=n.x,i=void 0===t?0:t,r=n.y,s=void 0===r?0:r,d=n.width,u=void 0===d?0:d,c=n.height,p=void 0===c?0:c,m={y:s,x:i,width:u,height:p},v=(0,j.fX)("dont_report_non_overlapping_obstructions")?G(m,!0):z(s),f=H(W(m,v),q(m)),g=f<100?[o.Obstructed]:[];return"visible"!==document.visibilityState&&"treatment"===F.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(g=[o.Backgrounded],f=0),{initialGeometry:m,geometry:m,onScreenGeometry:(0,l.__assign)((0,l.__assign)({},m),{obstructions:v}),area:u*p,percentageInView:f,reasons:g,playerState:a.Normal}}($)),pe=de[0],me=de[1],ve=(0,p.Z)(pe.playerState),fe=c.useState([]),ye=fe[0],Se=fe[1],_e=c.useCallback((function(){return Q?0:Y||0}),[Q,Y]),Ce=c.useCallback((function(e,n){b((function(t){return e.forEach((function(e){e.JavaScriptResources=e.JavaScriptResources.filter((function(e){return"omid"===(null==e?void 0:e.apiFramework)})),function(e){return y.qu.some((function(n){return n.test(e.vendor)}))&&e.JavaScriptResources.length>0}(e)&&t.push({omidAdMetadata:n,verification:e})})),t}))}),[]),be=c.useCallback((function(e){ie(e),b((function(n){return n.filter((function(n){return k(n.omidAdMetadata)!==k(e)}))}))}),[ie]),Pe=c.useCallback((function(e){var n=setTimeout((function(){return be(e)}),2e3);Se((function(e){return(0,l.__spreadArray)((0,l.__spreadArray)([],e,!0),[n],!1)}))}),[be]);(0,u.S)((function(){return function(){return ye.forEach((function(e){return clearTimeout(e)}))}}));var Ee=c.useCallback((function(e){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(n){return function(e,n){n(S(e,i.Complete))}(e,te),function(e,n){n(S(e,i.SessionFinish))}(e,te),Pe(e),[2]}))}))}),[te,Pe]);var xe={omidAdMetadata:oe,emitOMIDEvent:te};return(0,d.jsxs)(d.Fragment,{children:[C.map((function(e){var n=e.verification,t=JSON.stringify(e);return(0,d.jsx)(ke,{verification:n,omidClient:ae(oe,n.VerificationParameters),adSessionId:k(e.omidAdMetadata)},t)})),(0,d.jsx)(ce,{listenerProps:xe,setOMIDAdMetadata:se,addVerifications:Ce,onAdComplete:Ee,adViewState:pe,getVolume:_e,adFormatMetadataProp:e.adFormatMetadata,videoAdRequestProp:e.adFormatRequest,videoContainerProp:$}),(0,d.jsx)(ge,{listenerProps:xe,setOMIDAdMetadata:se,addVerifications:Ce,onAdComplete:Ee,adViewState:pe,getVolume:_e}),(0,d.jsx)(le,{listenerProps:xe,verificationsIsNotEmpty:!!C.length,adViewState:pe,updateAdViewState:me,lastPlayerState:ve,videoContainerProp:$}),(0,d.jsx)(ee,{listenerProps:xe,adFormatMetadataProp:e.adFormatMetadata}),(0,d.jsx)(X,{listenerProps:xe}),(0,d.jsx)(ue,{listenerProps:xe,videoPlaybackState:e.videoPlaybackState}),(0,d.jsx)(he,{listenerProps:xe,getVolume:_e}),(0,d.jsx)(ne,{listenerProps:xe,adFormatMetadataProp:e.adFormatMetadata})]})}},196254:function(e,n,t){"use strict";t.d(n,{V:function(){return o},o:function(){return r}});var i=t(346716),a=t(726280),r=function(e,n){var t,r,s;void 0===n&&(n=a.d.Mid);var l=0,d=0,u=0;if(n===a.d.Pre)d=Math.max((null!==(t=e.getVideoBitRate())&&void 0!==t?t:0)/1e3,(null!==(s=null===(r=e.getQuality())||void 0===r?void 0:r.bitrate)&&void 0!==s?s:0)/1e3),u=i.IG.get("ads_bitrate_bps",0)/1e3,l=Math.max(1e3,d,u);else{var c=o(e.getVideoBitRate());d=c.videoBitrate,l=c.adBitrate}return{videoBitrate:d,adBitrate:l,storedAdBitrate:u}},o=function(e){var n=(null!=e?e:0)/1e3;return{videoBitrate:n,adBitrate:Math.max(1e3,n)}}},47320:function(e,n,t){"use strict";t.d(n,{SS:function(){return c}});var i=t(331635),a=t(485272),r=t(705970),o=t(44377),s=t(522646);var l=t(449885),d="https://www.twitch.tv/r/s/abc.js",u="https://www.twitch.tv/r/s/j";function c(e){var n,t,r,l,d,u,c,m,v,f,h,y,k,S=e.adsManager,_=e.amazonVideoAds,C=e.request,b=(n=S,t=.5,r=function(){n.play()},l=function(){n.pause()},d=function(){return t},u=function(e){t=e,n.setVolume(e)},c=function(e){n.setVolume(e?0:t)},m=function(){n.cancelAdBreak()},v=function(){m(),n.destroy()},f=function(){n.startAds()},h=function(){n.startAdsWithReplay()},(0,i.__assign)({play:r,pause:l,stop:m,getVolume:d,setVolume:u,setMuted:c,destroy:v,start:f,startWithReplay:h},((y={})[s.V.Error]=[],y[s.V.Resumed]=[],y[s.V.Paused]=[],y[s.V.ContentPauseRequested]=[],y[s.V.ContentResumeRequested]=[],y[s.V.Loaded]=[],y[s.V.Started]=[],y[s.V.Progress]=[],y[s.V.FirstQuartile]=[],y[s.V.Midpoint]=[],y[s.V.ThirdQuartile]=[],y[s.V.Impression]=[],y[s.V.Complete]=[],y[s.V.VolumeChanged]=[],y[s.V.Click]=[],y[s.V.CreativeError]=[],y[s.V.CreativeViewed]=[],y[s.V.Muted]=[],y[s.V.Unmuted]=[],y[s.V.PodReplayLoopStarted]=[],k=y,{addEventListener:function(e,n){k[e]=(0,i.__spreadArray)((0,i.__spreadArray)([],k[e],!0),[n],!1)},removeEventListener:function(e,n){k[e]=k[e].filter((function(e){return e!==n}))},emitEvent:function(e,n){k[e].forEach((function(e){return e(n)}))}}))),P=function(e,n,t){b.emitEvent(e,(0,i.__assign)((0,i.__assign)({},function(e,n,t){return{adInfo:p(e),request:n,videoAd:t}}(n,C,b)),t))};return S.addListener(_.eventNames.AdVideoPlayerEvents.POD_REPLAY_LOOP_STARTED,(function(e){return P(s.V.PodReplayLoopStarted,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.RESUMED,(function(e){return P(s.V.Resumed,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,(function(e){return P(s.V.ContentResumeRequested,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.PAUSED,(function(e){return P(s.V.Paused,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,(function(e){return P(s.V.ContentPauseRequested,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.STARTED,(function(e){return P(s.V.Started,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.LOADED,(function(e){return P(s.V.Loaded,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.IMPRESSION,(function(e){return P(s.V.Impression,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.PROGRESS,(function(e){return P(s.V.Progress,e,{progress:e.adMetadata.creative.progress,duration:e.adMetadata.creative.duration})})),S.addListener(_.eventNames.AdVideoPlayerEvents.VOLUME_CHANGE,(function(e){return P(s.V.VolumeChanged,e,{volume:b.getVolume(),muted:b.getVolume()<=0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.FIRST_QUARTILE,(function(e){return P(s.V.FirstQuartile,e,{quartile:1})})),S.addListener(_.eventNames.AdVideoPlayerEvents.MIDPOINT,(function(e){return P(s.V.Midpoint,e,{quartile:2})})),S.addListener(_.eventNames.AdVideoPlayerEvents.THIRD_QUARTILE,(function(e){return P(s.V.ThirdQuartile,e,{quartile:3})})),S.addListener(_.eventNames.AdVideoPlayerEvents.COMPLETED,(function(e){return P(s.V.Complete,e,{quartile:4})})),S.addListener(_.eventNames.AdVideoPlayerEvents.ERRORED,(function(e){b.emitEvent(s.V.Error,{request:C,reason:e.errorCode,errorCode:0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.CLICKED,(function(e){return P(s.V.Click,e)})),_.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED&&S.addListener(_.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED,(function(e){return P(s.V.CreativeViewed,e)})),_.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR&&S.addListener(_.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR,(function(e){b.emitEvent(s.V.CreativeError,{request:C,reason:e.errorCode,errorCode:0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.MUTED,(function(e){return P(s.V.Muted,e,{muted:!0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.UNMUTED,(function(e){return P(s.V.Unmuted,e,{muted:!1})})),{adFormat:g(C.adFormat)||(0,a.C_)(C.adFormat)?C.adFormat:C.mafsDecision?o.Z$.STANDARD_VIDEO:o.gz.STANDARD_VIDEO,videoAd:b,stitched:!1,started:!1,duration:C.duration,adPosition:0,numberOfAds:1,roll:C.roll,start:0,isVLM:!!C.isVLM,sdkUrl:e.sdkUrl,podReplayLoopStarted:!1}}function p(e){if(!e)return null;try{return{adFormat:e.adMetadata.ad.adFormat,advertiser:e.adMetadata.ad.advertiser,adSystem:e.adMetadata.ad.system,adID:e.adMetadata.ad.id,clickThroughUrl:e.adMetadata.companionAd.clickThroughUrl,clickTrackingUrls:e.adMetadata.companionAd.clickTrackingUrls,contentType:e.adMetadata.mediaFile.mimeType,creativeID:e.adMetadata.creative.id,title:e.adMetadata.ad.title,duration:e.adMetadata.creative.duration,adPodInfo:e.adMetadata.ad.podInfo,adWrapperIds:[],adWrapperSystems:[],adWrapperCreativeIDs:[],vastMediaBitrate:e.adMetadata.mediaFile.bitrate,vastMediaHeight:e.adMetadata.mediaFile.height,vastMediaWidth:e.adMetadata.mediaFile.width,mediaUrl:e.adMetadata.mediaFile.url,adCfId:e.adMetadata.viewability.adCfId,advertiserCfId:e.adMetadata.viewability.advertiserCfId,campaignCfId:e.adMetadata.viewability.campaignCfId,creativeCfId:e.adMetadata.viewability.creativeCfId,verificationResources:(n=e.adMetadata.ad.currentAdVerifications,n.map((function(e){var n=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"IAS"!==e.vendor)return!1;var n=m(e);return function(e){var n=new RegExp("c.amazon-adsystem.com/vfw/ias/fw.js"),t=e.match(n);return!!t}(n)||function(e){return 0!==v(e).length}(n)}(e),t=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"protected.media-omid"!==e.vendor)return!1;var n=m(e);return n.startsWith("https://js.ad-score.com/")}(e),i=e.jsResource.map((function(e){var i=r.Hq,a=new URL(e.uri),o=a.host,s=a.pathname,l=a.search;i.includes(o)||(t?(o="twitch.tv",s="/r/s/pm/js"+s):(o="ddacn6pr5v0tl.cloudfront.net",s="/om-resources/measurement-providers"+s));var u="https://".concat(o).concat(s).concat(l);return{apiFramework:e.apiFramework,URI:n?d:u}})),a=m(e);return{vendor:e.vendor,JavaScriptResources:i,VerificationParameters:n?f(e.parameters,a):e.parameters}}))),companionEvent:e.target===l.p.CompanionCreative,transparencyInfo:e.adMetadata.ad.currentTransparencyInfo}}catch(e){return null}var n}function m(e){return e.jsResource[0].uri}function v(e){var n=new RegExp("fw.adsafeprotected.com/rjss/st/(.*)/(.*)/skeleton"),t=e.match(n);if(!t)return[];var i=new RegExp("xsId=([^&]*)"),a=e.match(i);return t.concat(a||[])}function f(e,n){var t=v(n);if(t.length>2)return JSON.stringify({config:"/rjss/st/".concat(t[1],"/").concat(t[2],"/skeleton.js?iasProxyPartnerId=1&xsId=").concat(t[4]),host:u});var a=JSON.parse(e),r=a.config.replace(new RegExp("iasProxyPartnerId=[^&]*","i"),"iasProxyPartnerId=1");return JSON.stringify((0,i.__assign)((0,i.__assign)({},a),{config:r,host:u}))}var g=function(e){return-1!==[o.gz.STANDARD_VIDEO,o.gz.BROWSE_DISPLAY,o.Z$.STANDARD_AUDIO,o.Z$.STANDARD_VIDEO].indexOf(e)}},449885:function(e,n,t){"use strict";var i,a;t.d(n,{f:function(){return i},p:function(){return a}}),function(e){e.AUDIO="AUDIO",e.VIDEO="VIDEO"}(i||(i={})),function(e){e.LinearCreative="linear",e.CompanionCreative="companion"}(a||(a={}))},345732:function(e,n,t){"use strict";t.d(n,{A7:function(){return x},b3:function(){return N},iB:function(){return A}});var i=t(331635),a=t(296540),r=t(868238),o=t(337930),s=t(346716),l=t(213541),d=t(449885),u=t(303252),c=t(90300),p=t(922314),m=t(709673),v=t(231273),f=t(457063),g=t(21824),h=t(44377),y=t(674181),k=t(726280),S=t(522646),_=t(629595),C=t(573566),b=t(118483),P=t(177972),E=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isCleanAdContextTimeoutEnabled=(0,o.fX)("csai_ad_context_auto_clean"),n.addInStreamEventListener=function(e,t){(0,n.props.adEvents.addEventListener)(e,(function(e){(0,C.EF)(n.props.videoAdMetadata)&&t(e)}))},n.onContentResumeRequested=function(e){var t={stitched:!1};n.trackRad(p.V.VideoAdPodComplete,e,t),n.track("ad_pod_complete",e,t),n.track("ad_client_pod_completion",e,A(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.clearMetadataAndRestartMediaPlayer()},n.onPlaying=function(e){n.props.updateAdPlaying(!0),n.setClearAdContextTimeout(!0);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||d.f.VIDEO)===d.f.AUDIO&&(null==t||t.play())},n.onPaused=function(e){n.props.updateAdPlaying(!1),n.setClearAdContextTimeout(!1);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||d.f.VIDEO)===d.f.AUDIO&&(null==t||t.pause())},n.onContentPauseRequested=function(e){var t=n.props,i=t.ended,a=t.isLiveContent,r=t.mediaPlayerInstance,o=n.props,s=o.volume,l=o.muted,d=void 0!==s?s:.5;e.videoAd.setVolume(d),n.props.updateAdVolume(d),l&&(e.videoAd.setMuted(!0),n.props.updateAdMuted(!0)),a?(null==r?void 0:r.isMuted())||null==r||r.setMuted(!0):i||null==r||r.pause()},n.onLoad=function(e){n.track("video_ad_loaded",e,{player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10)})},n.onVolumeChanged=function(e){n.props.updateAdVolume(e.volume)},n.onMuteChange=function(e){n.props.updateAdMuted(e.muted)},n.onCreativeClicked=function(e){var t;(null===(t=e.adInfo)||void 0===t?void 0:t.companionEvent)||n.track("ad_click",e,{stitched:!1})},n.getFormat=function(e){var t=n.props.videoAdRequest,i=e.adInfo;return i&&i.adFormat&&i.adFormat===d.f.AUDIO?h.Z$.STANDARD_AUDIO:(null==t?void 0:t.mafsDecision)?h.Z$.STANDARD_VIDEO:h.gz.STANDARD_VIDEO},n.onStart=function(e){var t=e.adInfo&&e.adInfo.adPodInfo,i=e.adInfo;n.setClearAdContextTimeout(!0),n.props.startClientSideAd({adFormat:n.getFormat(e),position:t&&t.adPosition||1,numberOfAds:t&&t.totalAds||1,adInfo:i})},n.onComplete=function(e){n.trackQuartileEvent(e),n.setClearAdContextTimeout(!1);n.track("video_ad_impression_complete",e,{stitched:!1}),(0,_.DL)(Date.now());var t=n.props.videoAdRequest&&n.props.videoAdRequest.status===k.s.Filled?n.props.videoAdRequest:void 0;t&&t.broadcaster&&(0,_.JN)(t.broadcaster.id,Date.now())},n.onProgress=function(e){n.track("video_ad_time_elapsed",e,{time_elapsed:e.progress}),n.lastAdProgressTime=Date.now()},n.checkAdProgress=function(){Date.now()-n.lastAdProgressTime>8e3&&(n.props.reset(),n.clearIntervalTimeout())},n.setClearAdContextTimeout=function(e){n.isCleanAdContextTimeoutEnabled&&(e?n.timeoutID||(n.lastAdProgressTime=Date.now(),n.timeoutID=setInterval(n.checkAdProgress,1e3)):n.clearIntervalTimeout())},n.clearIntervalTimeout=function(){n.timeoutID&&(clearInterval(n.timeoutID),n.timeoutID=void 0)},n.onImpression=function(e){var t,i,a,r,o,s,l,d,u,c,m,v,f=n.props,g=f.shouldAdjustVolume,h=f.getAdjustedVolume,y=f.setVolume,k=f.getInitialMuteState,S=f.setMuted,_=f.clientSideAdSelectionParams,b=e.videoAd.getVolume(),P=Date.now(),E=h(b),x=Math.max(E||0,.1),N=g(b),w=N?x:b,I=k(),T=(0,C.EF)(n.props.videoAdMetadata)?n.props.videoAdMetadata:void 0,D=null===(t=null==T?void 0:T.adInfo)||void 0===t?void 0:t.adSystem;N&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at impression",{nextVolume:x,impressionVolume:b,playerMuted:I}),y(x),S(I));var F,O={request_to_impression_latency:P-e.request.requestTime,pre_impression_player_volume:b,player_volume:+(w||0).toFixed(10),quality:(null==_?void 0:_.isAutoQualityMode)?"auto":"".concat(null!==(i=null==_?void 0:_.currentVideoWidth)&&void 0!==i?i:0,"x").concat(null!==(a=null==_?void 0:_.currentVideoHeight)&&void 0!==a?a:0),current_bitrate:Math.round(null!==(r=null==_?void 0:_.currentVideoBitrate)&&void 0!==r?r:0),ad_stored_bitrate_kbps:null!==(o=null==_?void 0:_.storedAdBitrate)&&void 0!==o?o:0,ad_max_bitrate_kbps:null!==(s=null==_?void 0:_.maxAdBitrate)&&void 0!==s?s:0,ad_resolution:"".concat(null!==(d=null===(l=e.adInfo)||void 0===l?void 0:l.vastMediaWidth)&&void 0!==d?d:0,"x").concat(null!==(c=null===(u=e.adInfo)||void 0===u?void 0:u.vastMediaHeight)&&void 0!==c?c:0),ad_bitrate_kbps:null!==(v=null===(m=e.adInfo)||void 0===m?void 0:m.vastMediaBitrate)&&void 0!==v?v:0};n.trackRad(p.V.VideoAdImpression,e,O),D&&"FAS"===D?(n.track("video_ad_impression_fake",e,O),n.track("ad_impression_fake",e,O)):(F="ad_client_impression",n.track(F,e,A(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.track("video_ad_impression",e,O),n.track("ad_impression",e,O))},n.onError=function(e){var t={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};n.props.trackVideoAdData("video_ad_error",t),n.props.trackVideoRAdEvent(p.V.VideoAdError,t),n.props.trackVideoAdData("ad_error",t),n.clearMetadataAndRestartMediaPlayer()},n.clearMetadataAndRestartMediaPlayer=function(){var e=n.props,t=e.shouldResetVolumeOnContentResume,i=e.getInitialMuteState,a=e.setMuted,r=e.mediaPlayerInstance,o=e.getInitialVolume,s=e.setVolume,l=e.audioBlocked,d=e.paused,u=e.ended,c=e.adMuted,p=e.adVolume,m=o(),v=i(),f=t();f&&m&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at resume",{nextVolume:m,nextMute:v}),s(m),a(v)),f||void 0===p||null==r||r.setVolume(p),c!==!!(null==r?void 0:r.isMuted())&&(c?null==r||r.setMuted(!0):l||null==r||r.setMuted(!1)),d&&!u&&(null==r||r.play()),n.props.reset()},n.track=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=x(t.adInfo,i,a,r);n.props.trackVideoAdData(e,o)},n.trackRad=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=x(t.adInfo,i,a,r);n.props.trackVideoRAdEvent(e,o)},n.trackQuartileEvent=function(e){var t={quartile:e.quartile};n.trackRad(p.V.VideoAdQuartileComplete,e,t),n.track("video_ad_quartile_complete",e,t),n.track("ad_quartile",e,t),n.track("ad_client_quartile",e,A(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.addInStreamEventListener(S.V.ContentPauseRequested,this.onContentPauseRequested),this.addInStreamEventListener(S.V.ContentResumeRequested,this.onContentResumeRequested),this.addInStreamEventListener(S.V.Complete,this.onComplete),this.addInStreamEventListener(S.V.Error,this.onError),this.addInStreamEventListener(S.V.FirstQuartile,this.trackQuartileEvent),this.addInStreamEventListener(S.V.Impression,this.onImpression),this.addInStreamEventListener(S.V.Loaded,this.onLoad),this.addInStreamEventListener(S.V.Midpoint,this.trackQuartileEvent),this.addInStreamEventListener(S.V.Paused,this.onPaused),this.addInStreamEventListener(S.V.Progress,this.onProgress),this.addInStreamEventListener(S.V.Resumed,this.onPlaying),this.addInStreamEventListener(S.V.Started,this.onStart),this.addInStreamEventListener(S.V.ThirdQuartile,this.trackQuartileEvent),this.addInStreamEventListener(S.V.VolumeChanged,this.onVolumeChanged),this.addInStreamEventListener(S.V.Click,this.onCreativeClicked),this.addInStreamEventListener(S.V.Muted,this.onMuteChange),this.addInStreamEventListener(S.V.Unmuted,this.onMuteChange)},n.prototype.render=function(){return null},n}(a.Component),x=function(e,n,t,a){return(0,i.__assign)({player_mute:!!t,player_volume:a||0,visible:"visible"===document.visibilityState,audible:!t&&(a||0)>0,ad_id:e&&e.adID,ad_position:e&&e.adPodInfo&&e.adPodInfo.adPosition,duration:e&&e.duration,ad_system:e&&e.adSystem,creative_id:e&&e.creativeID,total_ads:e&&e.adPodInfo&&e.adPodInfo.totalAds,title:e&&e.title,stitched:!1},n)},A=function(e,n,t){return{date:(new Date).toDateString(),ad_id:e&&e.adID,emitting_service:"AdvantEdge",format_name:(0,h.uN)(null==n?void 0:n.adFormat),sdk:S.K.VAES,duration_actual:null==t?void 0:t.duration,commercial_id:null==n?void 0:n.commercialID,break_length:null==n?void 0:n.duration,ad_placement:y.p.CHANNEL_PLAYER,requested_ad_size:null,ad_size:null,allocation_strategy:(null==n?void 0:n.mafsDecision)||"",available_impression:(null==t?void 0:t.numberOfAds)||0,main_play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,stitched:!1}},N=(0,r.Zz)((0,u.O)(),(0,c._)(),(0,l.B)(),(0,m.VX)((function(e){var n=e.muted,t=e.volume,i=e.videoAdMetadata,a=e.videoAdRequest,r=e.reset,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams;return{adMuted:n,adVolume:t,reset:r,videoAdMetadata:i,videoAdRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u}})),(0,v.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,paused:(0,P.xB)(e),volume:e.volume,muted:e.muted,audioBlocked:e.audioBlocked,ended:(0,P.pl)(e),logger:e.logger}})),(0,g.AP)((function(e){var n=e.setVolume,t=e.setMuted;return{setVolume:n,setMuted:t}})),(0,f.cj)((function(e){var n=e.content;return{isLiveContent:(0,b.DG)(n)}})))(E)},962270:function(e,n,t){"use strict";t.d(n,{i:function(){return r}});var i=t(296540),a=t(21824);function r(e){var n=i.useRef(),t=i.useContext(a.wL),r=e.onPlay,o=e.onPause;i.useEffect((function(){n.current?!n.current.isPlaying&&t.isPlaying?r():n.current.isPlaying&&!t.isPlaying&&o():t.isPlaying?r():o()}),[n,t,r,o]),i.useEffect((function(){n.current=t}),[t])}},282463:function(e,n,t){"use strict";t.d(n,{Pv:function(){return k},Tm:function(){return C},bi:function(){return i},cG:function(){return h},ur:function(){return y}});var i,a=t(331635),r=t(296540),o=t(868238),s=t(346716),l=t(90300),d=t(922314),u=t(107212),c=t(709673),p=t(231273),m=t(726280),v=t(954978),f=t(573566);!function(e){e.StandardAudioAd="STANDARD_AUDIO",e.StandardVideoAd="standard_video_ad"}(i||(i={}));var g,h="twitch-stitched-ad",y="twitch-stream-source",k="twitch-ad-quartile",S="|",_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){var t,a,r;try{if("text/json"===e.type){var o=void 0;try{o=JSON.parse(e.data)}catch(e){return void s.x2.logger.warn("failed to parse stitched ad metadata")}if(!o)return void s.x2.logger.warn("failed to parse stitched ad metadata");var l=n.getAdFormat(o["X-TV-TWITCH-AD-AD-FORMAT"]),u=l===i.StandardAudioAd;if(o.CLASS===h){var c=o["X-TV-TWITCH-AD-CLICK-TRACKING-URL"],p=parseFloat(o["X-TV-TWITCH-AD-LOUDNESS"]),m=o["X-TV-TWITCH-AD-MUTE-TRACKING-URL"],v=o["X-TV-TWITCH-AD-UNMUTE-TRACKING-URL"],f=o["X-TV-TWITCH-AD-PAUSE-TRACKING-URL"],_=o["X-TV-TWITCH-AD-RESUME-URL"],C=o["X-TV-TWITCH-AD-CREATIVE-VIEW"],P=o["X-TV-TWITCH-AD-COMPANION-CREATIVE-VIEW"],E={duration:parseInt(o.DURATION,10)||0,start:new Date(o["START-DATE"]).getTime(),numberOfAds:parseInt(o["X-TV-TWITCH-AD-POD-LENGTH"],10),adPosition:parseInt(o["X-TV-TWITCH-AD-POD-POSITION"],10)+1,adUrl:o["X-TV-TWITCH-AD-URL"],roll:n.getRollType(o["X-TV-TWITCH-AD-ROLL-TYPE"]),advertiserId:o["X-TV-TWITCH-AD-ADVERTISER-ID"]||"",creativeId:o["X-TV-TWITCH-AD-CREATIVE-ID"]||"",lineItemId:o["X-TV-TWITCH-AD-LINE-ITEM-ID"]||"",adSessionId:o["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",adFormat:l,orderId:o["X-TV-TWITCH-AD-ORDER-ID"]||"",stitchedAdTrackingURLsStart:o["X-TV-TWITCH-AD-TRACKING-START"]||"",stichedAdTrackingURLsComplete:o["X-TV-TWITCH-AD-TRACKING-COMPLETE"]||"",stitched:!0,stitchedAdClickTrackUrls:c?c.split(S):[],radsToken:o["X-TV-TWITCH-AD-RADS-TOKEN"]||"",isVLM:"1"===o["X-TV-TWITCH-AD-VLM"],hideAdOverlay:"1"===o["X-TV-TWITCH-AD-HIDE-AD-OVERLAY"],clickBeaconId:o["X-TV-TWITCH-AD-CLICK-BEACON-ID"]||"",podFilledDuration:parseInt(o["X-TV-TWITCH-AD-POD-FILLED-DURATION"],10)||0,stitchedAdMuteTrackUrls:m?m.split(S):[],stitchedAdUnMuteTrackUrls:v?v.split(S):[],stitchedAdPauseTrackUrls:f?f.split(S):[],stitchedAdResumeTrackUrls:_?_.split(S):[],stitchedAdCreativeViewTrackUrls:C?C.split(S):[],stitchedAdCompanionCreativeViewTrackUrls:P?P.split(S):[],dsaAdvertiserId:o["X-TV-TWITCH-AD-DSA-ADVERTISER-ID"]||"",dsaCampaignId:o["X-TV-TWITCH-AD-DSA-CAMPAIGN-ID"]||"",dsaContext:"1"===o["X-TV-TWITCH-AD-DSA-SS-CONTEXT"],dsaLocation:"1"===o["X-TV-TWITCH-AD-DSA-SS-LOCATION"],dsaPastActivity:o["X-TV-TWITCH-AD-DSA-SS-PAST-ACTIVITY"]||"",dsaVersion:parseInt(o["X-TV-TWITCH-AD-DSA-VERSION"],10)},x={ad_loudness:p,has_ad_metadata:!!E,stitched_ad_metadata:!!(null==E?void 0:E.stitched),play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:void 0,ad_session_id:null==E?void 0:E.adSessionId,channel:null===(t=s.E5.getLastPageview())||void 0===t?void 0:t.channel,roll_type:null==E?void 0:E.roll};n.props.setRadToken(E.radsToken),(null===(a=n.props.stitchedAdMetadata)||void 0===a?void 0:a.adPosition)&&E.adPosition&&E.adPosition>(null===(r=n.props.stitchedAdMetadata)||void 0===r?void 0:r.adPosition)&&b(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete),b(g.START,E.stitchedAdTrackingURLsStart),s.x2.tracking.track("ad_loudness_normalization",x),n.props.startStitchedAd(E)}else if(o.CLASS===k&&o["X-TV-TWITCH-AD-QUARTILE"]){var A=parseInt(o["X-TV-TWITCH-AD-QUARTILE"]||"",10);0===A?n.props.trackVideoRAdEvent(u?d.V.AdImpression:d.V.VideoAdImpression,n.buildTrackingPayload()):n.props.trackVideoRAdEvent(u?d.V.AdQuartile:d.V.VideoAdQuartileComplete,n.buildTrackingPayload({quartile:A}))}else if(n.props.stitchedAdMetadata&&o.CLASS===y&&"live"===o["X-TV-TWITCH-STREAM-SOURCE"]){b(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete);var N={stitched:!0,roll_type:n.props.stitchedAdMetadata.roll,player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_session_id:n.props.stitchedAdMetadata.adSessionId,format_name:l};u&&n.props.trackVideoAdData("ad_pod_complete",N),n.props.trackVideoRAdEvent(u?d.V.AdPodComplete:d.V.VideoAdPodComplete,N),n.props.reset()}}}catch(e){n.props.logger.errorAndReport(e,"Unable to create metadata for stitched ad.")}},n.buildTrackingPayload=function(e){var t=n.props.stitchedAdMetadata;return(0,a.__assign)({player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_id:null==t?void 0:t.advertiserId,ad_position:null==t?void 0:t.adPosition,duration:null==t?void 0:t.duration,creative_id:null==t?void 0:t.creativeId,total_ads:null==t?void 0:t.numberOfAds,order_id:null==t?void 0:t.orderId,line_item_id:null==t?void 0:t.lineItemId,roll_type:null==t?void 0:t.roll},e)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(v.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n.prototype.getRollType=function(e){return"MIDROLL"===e?m.d.Mid:"POSTROLL"===e?m.d.Post:m.d.Pre},n.prototype.getAdFormat=function(e){switch(e){case"standard_audio_ad":case"STANDARD_AUDIO":return i.StandardAudioAd;default:return i.StandardVideoAd}},n}(r.Component),C=(0,o.Zz)((0,l._)(),(0,c.VX)((function(e){var n=e.reset,t=e.startStitchedAd,i=e.videoAdMetadata,a=e.setRadToken,r=(0,f.lq)(i)&&i||void 0;return{reset:n,startStitchedAd:t,stitchedAdMetadata:r,setRadToken:a}})),(0,p.dd)((function(e){var n=e.logger,t=e.muted,i=e.volume;return{logger:n,muted:t,volume:i}})),(0,u.X)())(_);function b(e,n){n?n.split("|").forEach((function(e){return fetch(e)})):s.x2.logger.warn("failed to send stitched ad ".concat(e," tracking event - no ").concat(e," URL(s) provided"))}!function(e){e.START="start",e.END="end"}(g||(g={}))},701022:function(e,n,t){"use strict";t.d(n,{OK:function(){return u},bi:function(){return i}});var i,a=t(331635),r=t(436617),o=t(44377);!function(e){e[e.Default=0]="Default",e[e.InVideo=1]="InVideo",e[e.Pushdown=2]="Pushdown"}(i||(i={}));var s={iframeEl1:void 0,iframeEl2:void 0,curFrame:1,hasActiveBid:!1,isSDASequenceVisible:!1,sdaFormat:o.Z$.SQUEEZEBACK,sdaMode:i.Default,pushdownAvailable:!1},l=(0,a.__assign)((0,a.__assign)({},s),{reportMount:function(){return null},reportUnmount:function(){return null},setSDAMode:function(){return null},setPushdownAvailable:function(){return null},checkAndUpdateSDAHiddenState:function(){return null}}),d=(0,r.e)("SDAContext",l,(function(e){return{sdaContext:e}})),u=(d.withMemoContext,d.context)},361124:function(e,n,t){"use strict";t.d(n,{MU:function(){return I},P4:function(){return N}});var i,a=t(331635),r=t(826094),o=t(296540),s=t(440961),l=t(290942),d=t(345029),u=t(337930),c=t(346716),p=t(518658),m=t(485272),v=t(945869),f=t(122560),g=t(543256),h=t(323692),y=t(709673),k=t(457063),S=t(764823),_=t(44377),C=t(726280),b=t(573566),P=t(701022),E=c.vF.withCategory("stream-display-ad"),x="caught an error while rendering an SDA",A="sda_dynamic_durations";!function(e){e.Start="START",e.End="END",e.Abort="ABORT"}(i||(i={}));var N=1e3,w=function(e){return!(!e||!e.offsetParent)};function I(e){var n=o.useState(!1),t=n[0],c=n[1],I=o.useState(0),T=I[0],D=I[1],F=o.useRef(void 0),O=o.useRef(!1),R=e.trackAdFormatData,V=e.trackAdFormatRAdEvent,M=o.useContext(S._t).setIsMenuShowing,L=o.useContext(k.kl).behaviors,j=(0,d.If)(),B=o.useContext(y.jK),U=B.adFormatRequest,q=B.adFormatMetadata,G=B.reset,z=B.resetOutstreamAd,H=B.startClientSideAd,W=B.updateOutstreamAdDisplayStatus,K=B.videoAdMetadata,Z=B.isDisplayingSDASequence,Q=B.updateSDAHiddenState,Y=B.isSDAContainerHidden,X=o.useRef(null),$=o.useRef(null),J=o.useState(1),ee=J[0],ne=J[1],te=o.useRef(ee),ie=o.useState(P.bi.Default),ae=ie[0],re=ie[1],oe=o.useState(!1),se=oe[0],le=oe[1],de=o.useRef(ae);o.useEffect((function(){de.current=ae}),[ae]);var ue=o.useRef();ue.current=(0,b.I9)(q)?q.adFormat===_.Z$.LOWER_THIRD?P.bi[ae]:P.bi[P.bi.InVideo]:void 0;var ce=o.useMemo((function(){return function(e){if(!(0,m.rW)(e))return _.Z$.SQUEEZEBACK;return e}((null==q?void 0:q.adFormat)||(null==U?void 0:U.adFormat))}),[null==q?void 0:q.adFormat,null==U?void 0:U.adFormat]),pe=o.useState({}),me=pe[0],ve=pe[1],fe=o.useCallback((function(e){E.debug("reporting mount of ".concat(e.format?_.Z$[e.format]:void 0," format, ").concat(P.bi[e.mode||P.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),ve(e)}),[]),ge=o.useCallback((function(e){E.debug("reporting unmount of ".concat(e.format?_.Z$[e.format]:void 0," format, ").concat(P.bi[e.mode||P.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),ve((function(n){return e.format===n.format&&e.mode===n.mode&&e.isSkyscraper===n.isSkyscraper?{}:n}))}),[]),he=o.useCallback((function(e){(0,u.fX)("nab_gate")&&void 0!==j&&!d.l$.has(j)&&(w(e)?R("nab_detection",(0,a.__assign)((0,a.__assign)({},Ne.current),{nab_value:"1",client_country_code:j})):(R("nab_detection",(0,a.__assign)((0,a.__assign)({},Ne.current),{nab_value:"3",client_country_code:j})),Q(!0)))}),[j,R,Q]);o.useEffect((function(){te.current=ee}),[ee]);var ye=o.useCallback((function(){ne((function(e){return e%2+1}))}),[]),ke=o.useCallback((function(){return te.current%2?X.current:$.current}),[]),Se=o.useCallback((function(){return te.current%2?$.current:X.current}),[]),_e=o.useCallback((function(e){e&&(e.src="about:blank",e.srcdoc="")}),[]),Ce=q,be=o.useMemo((function(){return null==Ce?void 0:Ce.bid}),[null==Ce?void 0:Ce.bid]),Pe=o.useMemo((function(){return(0,f.F)(ce,be)}),[be,ce]),Ee=o.useMemo((function(){return(0,g.Ny)(Pe)}),[Pe]),xe=o.useMemo((function(){if(null==Ce?void 0:Ce.bid)return Date.now()+1e3*((null==Ce?void 0:Ce.duration)||0)}),[null==Ce?void 0:Ce.duration,null==Ce?void 0:Ce.bid]),Ae=o.useCallback((function(){var e=(0,u.fX)(A),n=1e3*((null==Ce?void 0:Ce.duration)||0);if(!e||void 0===xe)return E.debug("Using default SDA duration of ".concat(n)),n;var t=Math.max(2e3,Math.min(xe-Date.now(),n));return E.debug("Using updated SDA duration of ".concat(t)),t}),[xe,null==Ce?void 0:Ce.duration]),Ne=o.useRef((null==Ce?void 0:Ce.trackingParams)||{}),we=o.useCallback((function(e){Ne.current=e||{}}),[]),Ie=o.useState(!0),Te=Ie[0],De=Ie[1],Fe=o.useRef(0),Oe=o.useCallback((function(){M(!1),c(!1),D(0),De(!0),we(void 0),clearInterval(F.current)}),[M,c,D,we]),Re=o.useRef(""),Ve=o.useState(!1),Me=Ve[0],Le=Ve[1];o.useEffect((function(){Me&&(Oe(),(null==K?void 0:K.stitched)?z():G(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),abort_reason:"Error",error:Re.current})),Le(!1))}),[Oe,null==be?void 0:be.height,null==be?void 0:be.width,Me,G,z,ce,R,null==K?void 0:K.stitched]),o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&(null==L?void 0:L.mini)&&(Oe(),G(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"MINI",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,null==L?void 0:L.mini,Oe,be,G,ce,Ce,R]),o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&(null==K?void 0:K.stitched)&&(Oe(),z(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"SureStream",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,Oe,be,z,ce,Ce,R,null==K?void 0:K.stitched]);var je=(0,l.Z)(ae);o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&Ce.adFormat===_.Z$.LOWER_THIRD&&void 0!==je&&je!==ae&&(Oe(),G(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"PushdownEligibilityChanged",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,Oe,null==be?void 0:be.height,null==be?void 0:be.width,ae,je,G,ce,Ce,R]),o.useEffect((function(){(null==be?void 0:be.creativeHtml)&&t&&"visible"===(null==Ce?void 0:Ce.status)&&c(!1)}),[be,t,null==Ce?void 0:Ce.status]),o.useEffect((function(){var e=Se();if(U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&e){var n=ce!==_.Z$.LOWER_THIRD||ae===me.mode||ae===P.bi.Default&&me.mode===P.bi.InVideo,i=ce!==_.Z$.SQUEEZEBACK||Ee===me.isSkyscraper;ce===me.format&&n&&i&&!O.current&&!t&&Te&&(null==Ce?void 0:Ce.bid)&&"ready"===(null==Ce?void 0:Ce.status)&&(E.debug("rendering the ad in the new location ".concat(me.format?_.Z$[me.format]:void 0," format, ").concat(P.bi[me.mode||P.bi.Default]," mode, ").concat(me.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),_e(e),we(null==Ce?void 0:Ce.trackingParams),(null==be?void 0:be.creativeHtml)&&(O.current=!0,p.F.renderCreative(be,e,R,!1,_.Z$[Ce.adFormat],(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),pushdown_mode:ue.current})).then((function(){var n,t;1!==(null===(n=null==Ce?void 0:Ce.trackingParams)||void 0===n?void 0:n.sda_sequence_number)&&(null===(t=null==Ce?void 0:Ce.trackingParams)||void 0===t?void 0:t.sda_sequence_number)||he(e),V(h.V.AdImpression,(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),pushdown_mode:ue.current})),(0,s.flushSync)((function(){c(!0)})),(0,s.flushSync)((function(){De(!1)})),(0,s.flushSync)((function(){D(0)})),(0,s.flushSync)((function(){ye()}))})).catch((function(e){E.warn(e),Re.current=(0,r.d)(e,{useRawMessage:!0})||x,Le(!0)})).finally((function(){O.current=!1}))))}}),[me.format,me.isSkyscraper,me.mode,Te,U,_e,be,Z,Ee,Se,ce,ae,Q,t,Ce,ye,R,V,we,Y,j,he]),o.useEffect((function(){if(t&&"ready"===(null==Ce?void 0:Ce.status)){var e=setTimeout((function(){H({adFormat:Ce.adFormat,position:Ce.adPosition,numberOfAds:1}),M(!1)}),0);return function(){return clearTimeout(e)}}}),[M,null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.adFormat,null==Ce?void 0:Ce.adPosition,t,H]),o.useEffect((function(){if("visible"===(null==Ce?void 0:Ce.status)){var e=Ae(),n=setTimeout((function(){W("hiding")}),e);return clearInterval(F.current),F.current=setInterval((function(){return D((function(e){return e+1}))}),(e-600)/4),function(){return clearTimeout(n)}}}),[null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.duration,W,Ae]),o.useEffect((function(){if(!Z&&"hiding"===(null==Ce?void 0:Ce.status)){var e=setTimeout((function(){Oe(),G()}),N);return function(){return clearTimeout(e)}}}),[Oe,G,Z,null==Ce?void 0:Ce.status]),o.useEffect((function(){"visible"===(null==Ce?void 0:Ce.status)?R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Start,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),pushdown_mode:ue.current})):"hiding"===(null==Ce?void 0:Ce.status)&&R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.End,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),pushdown_mode:ue.current}))}),[be,R,null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.bid,ce]);var Be=o.useRef(be);o.useEffect((function(){Be.current=be}),[be]),o.useEffect((function(){var e,n,t,i,r,o,s,l,d=ke();Fe.current!==T&&(T>0&&T<=4&&d&&(R("ad_quartile",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null===(e=Be.current)||void 0===e?void 0:e.width,"x").concat(null===(n=Be.current)||void 0===n?void 0:n.height),sub_format_name:(0,v.Fn)(ce,null===(t=Be.current)||void 0===t?void 0:t.height,null===(i=Be.current)||void 0===i?void 0:i.width),quartile:T,pushdown_mode:ue.current})),R("ad_client_quartile",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null===(r=Be.current)||void 0===r?void 0:r.width,"x").concat(null===(o=Be.current)||void 0===o?void 0:o.height),sub_format_name:(0,v.Fn)(ce,null===(s=Be.current)||void 0===s?void 0:s.height,null===(l=Be.current)||void 0===l?void 0:l.width),quartile:T,pushdown_mode:ue.current})),Fe.current=T),T>=4&&(De(!0),clearInterval(F.current)))}),[T,R,ke,ce]);var Ue=!!K,qe=o.useRef(!1);o.useEffect((function(){(0,b.I9)(q)?qe.current=!0:qe.current&&(Oe(),Ue?z():G(),qe.current=!1)}),[q,Oe,z,G,Ue,R]);var Ge=!!(0,b.I9)(q);o.useEffect((function(){Ge||(_e(X.current),_e($.current))}),[Ge,_e]),o.useEffect((function(){ee%2&&(E.debug("clearing iframe 2"),_e($.current)),ee%2||(E.debug("clearing iframe 1"),_e(X.current))}),[ee,_e]);var ze=o.useState(!1),He=ze[0],We=ze[1];o.useEffect((function(){!He&&(0,b.I9)(q)&&"visible"===q.status?We(!0):He&&!(0,b.I9)(q)&&We(!1)}),[He,q]);var Ke=o.useMemo((function(){return!(!(null==Ce?void 0:Ce.bid)||!(null==be?void 0:be.creativeHtml))}),[null==be?void 0:be.creativeHtml,null==Ce?void 0:Ce.bid]);return o.useMemo((function(){return{isSDASequenceVisible:He,iframeEl1:X,iframeEl2:$,curFrame:ee,hasActiveBid:Ke,sdaFormat:ce,sdaMode:ae,pushdownAvailable:se,setSDAMode:re,setPushdownAvailable:le,reportMount:fe,reportUnmount:ge,checkAndUpdateSDAHiddenState:he}}),[He,ee,Ke,ce,ae,se,fe,ge,he])}},122560:function(e,n,t){"use strict";t.d(n,{F:function(){return S},J:function(){return k}});var i,a=t(296540),r=t(485272),o=t(194569),s=t(945137),l=t(709673),d=t(457063),u=t(44377),c=t(573566),p=t(319224),m=t(701022),v=t(543256),f="channel_skins",g="default",h="turbo_sda_upsell",y=((i={})[g]={height:90,width:728},i[u.Z$[u.Z$.LOWER_THIRD]]={height:90,width:728},i[u.Z$[u.Z$.SQUEEZEBACK]]={height:1050,width:300},i[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]={height:1920,width:1080},i[f]={height:113,width:728},i[h]={height:90,width:728},i);function k(){var e,n=a.useContext(l.jK),t=n.adFormatMetadata,i=n.isDisplayingSDASequence,f=a.useContext(o.m9).isSurveyShowing,g=(0,p.f)(),h=(0,s.U0)().isTurboSDAUpsellShowing,k=null===(e=a.useContext(d.kl).behaviors)||void 0===e?void 0:e.mini,_=!(!h||!g||k),C=a.useState(void 0),b=C[0],P=C[1],E=a.useState(void 0),x=E[0],A=E[1],N=a.useState(1),w=N[0],I=N[1],T=a.useState(0),D=T[0],F=T[1],O=a.useState(0),R=O[0],V=O[1],M=a.useState(1),L=M[0],j=M[1],B=a.useState(1),U=B[0],q=B[1],G=a.useState(0),z=G[0],H=G[1],W=a.useState(0),K=W[0],Z=W[1],Q=a.useContext(d.kl).behaviors,Y=a.useCallback((function(e){return!(!Q||!Q[e])}),[Q]),X=a.useState(!1),$=X[0],J=X[1];a.useEffect((function(){!$&&(0,c.I9)(t)&&"visible"===t.status?J(!0):$&&!(0,c.I9)(t)&&J(!1)}),[$,t]);var ee=Y("enableStreamDisplayAds")&&t&&(0,r.rW)(t.adFormat),ne=t&&t.adFormat===u.Z$.OUTSTREAM_VERTICAL_VIDEO,te=ne&&"hiding"!==(null==t?void 0:t.status),ie=ee&&i||f||_,ae=(0,r.rW)(null==t?void 0:t.adFormat)&&(null==t?void 0:t.adFormat)===u.Z$.SQUEEZEBACK,re=a.useContext(m.OK).sdaMode,oe=(0,r.rW)(null==t?void 0:t.adFormat)&&(null==t?void 0:t.adFormat)===u.Z$.LOWER_THIRD&&re===m.bi.Pushdown,se=a.useMemo((function(){return[{"video-player--stream-display-ad_lower-third":!oe&&ee&&!ae&&!ne||f||_,"video-player--stream-display-ad_squeezeback":!(oe||!ee||!ae||ne||f||_),"video-player--stream-display-ad_vertical-video":!(!ne||oe||ae||f||_)}]}),[ee,ae,f,oe,ne,_]),le=a.useMemo((function(){return!oe&&ie&&$||!oe&&ne&&te||f||_?{height:"calc(".concat(100*L,"% - ").concat(z,"px)"),width:"calc(".concat(100*U,"%)"),insetInlineStart:ae||ne?"".concat(K,"px"):void 0}:{}}),[ie,$,ae,f,L,z,U,K,oe,ne,_,te]),de=(0,c.I9)(t)?t:void 0,ue=a.useMemo((function(){return null==de?void 0:de.bid}),[null==de?void 0:de.bid]),ce=(0,c.hr)(t)?t:void 0,pe=de||ce,me=pe&&pe.adFormat;me!==u.Z$.OUTSTREAM_VERTICAL_VIDEO&&me!==u.Z$.SQUEEZEBACK&&me!==u.Z$.LOWER_THIRD&&(me=void 0);var ve=a.useMemo((function(){return S(me,ue,f,_)}),[ue,f,me,_]),fe=a.useMemo((function(){return{height:w?ve.height*w:ve.height,width:w?ve.width*w:ve.width}}),[ve,w]),ge=a.useMemo((function(){return x&&(ae||ne)?{height:fe.height,width:fe.width+U*x}:fe}),[fe,x,U,ae,ne]),he=a.useMemo((function(){return w?{height:ge.height/w,width:ge.width/w}:ge}),[w,ge]),ye=a.useCallback((function(e,n){P(n),A(e)}),[]);return a.useEffect((function(){if(void 0!==x&&void 0!==b&&(me===u.Z$.LOWER_THIRD||f||_)){var e=b/4,n=100*(ve.height?Math.min(1,e/ve.height):1)/100,t=100*(ve.width?Math.min(1,x/ve.width):1)/100,i=Math.min(1,Math.max(0,Math.min(t,n)));I(i);var a=i*ve.height,r=Math.min(b,9*x/16),o=r?Math.min(1,(b-a)/r):1;j(o),q(1);var s=b-r,l=s/2,d=Math.max(0,l<a?(b-r-a)/2:(b-r)/2-a);F(Math.floor(d)),H(Math.floor(l<a?a<s?a:s:0)),Z(0)}}),[ve.height,ve.width,b,x,me,f,_]),a.useEffect((function(){if(void 0!==x&&void 0!==b&&me===u.Z$.SQUEEZEBACK&&!f&&!_){var e=Math.min(x,16*b/9),n=Math.min(b,9*x/16),t=n/ve.height,i=t*ve.width;if((0,v.Ny)(ve)){var a=y[u.Z$[u.Z$.SQUEEZEBACK]];i=(t=n/a.height)*a.width}var r=Math.min(x-i,e),o=9*r/16,s=Math.max(Math.min(1,r/x),0),l=Math.max(Math.min(1,o/b),0);q(s),j(l),(0,v.Ny)(ve)?(I(Math.min(1,o/ve.height)),V(x*s)):I(t),x-i>e?(Z((x-(e+i))/2),H(0),F(0)):(Z(0),H(0),F(0))}}),[ve,b,x,me,f,_]),a.useEffect((function(){if(void 0!==x&&void 0!==b&&me===u.Z$.OUTSTREAM_VERTICAL_VIDEO&&!f){var e=Math.min(x,16*b/9),n=Math.min(b,9*x/16)/ve.height*ve.width,t=.084*n,i=x/(e+n+3*t),a=e*i,r=9*a/16,o=n*i/ve.width,s=t*i,l=Math.max(Math.min(1,a/x),0),d=Math.max(Math.min(1,r/b),0);q(l),j(d),Z(s),H(0),I(Math.min(1,o)),V(s),F(0)}}),[ve,b,x,me,f]),a.useMemo((function(){return{handleResize:ye,sdaHorizontalOffset:R,sdaScale:w,sdaVerticalOffset:D,sdaVideoRefClasses:se,sdaVideoRefStyles:le,adDimensions:ve,scaledAdDimensions:fe,containerDimensions:he,scaledContainerDimensions:ge}}),[ve,he,ye,fe,ge,R,w,D,se,le])}function S(e,n,t,i){var a=y[g];return e&&u.Z$[e]in y&&(a=y[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]),t?y[f]:i?y[h]:n&&isFinite(n.width)&&isFinite(n.height)?{height:n.height,width:n.width}:a}},423262:function(e,n,t){"use strict";t.d(n,{M:function(){return a}});var i=t(296540),a=function(e){var n=i.useState(!1),t=n[0],a=n[1];return i.useEffect((function(){if(e&&e.current){var n=null==e?void 0:e.current,t=function(){return a(!0)},i=function(){return a(!1)};return n.addEventListener("mouseenter",t),n.addEventListener("mouseleave",i),function(){n.removeEventListener("mouseenter",t),n.removeEventListener("mouseleave",i)}}}),[e]),{isHovering:t}}},883036:function(e,n,t){"use strict";t.d(n,{AF:function(){return P},ZV:function(){return S},KV:function(){return k},S:function(){return C},gD:function(){return b}});var i,a=t(474848),r=t(959340),o=t(914421),s=t(312663),l=t(588702),d=t(296540),u=t(346716),c=t(170809),p=t(447925),m=t(709673),v=t(231273),f=t(522646),g=t(954978),h=t(573566);!function(e){e.Control="control",e.PodCountdownInMinute="iteration1",e.PodCountdownInSecond="iteration2"}(i||(i={}));var y=function(e){return e?u.x2.experiments.__hardcodedStaleExperiment("during_ad_messaging_eligibility","iteration1"):""},k=function(e,n){return(0,u.hw)("Ad {minutes}:{seconds}",{minutes:e,seconds:_(n)},"VideoAdCountdown")},S=function(e,n,t,i){return(0,u.hw)("Ad {currentAdPosition} of {totalAds}  {minutes}:{seconds}",{currentAdPosition:e,totalAds:n,minutes:t,seconds:_(i)},"VideoAdCountdown")},_=function(e){return e<10?"0".concat(e):String(e)},C=function(e){var n=(0,d.useContext)(v.$g).mediaPlayerInstance,t=(0,d.useContext)(m.jK),a=t.videoAdMetadata,r=t.adFormatMetadata,o=b(n,a,r),s=o.minutes,l=o.seconds,c=o.time,p=o.roundedTime,f=o.adPosition,g=o.numberOfAds,k=_(l);if(!(0,h.cz)(a)||!e&&c<0)return"";var S,C=y((0,h.lq)(a));if(e)S=g>1?(0,u.hw)("Twitch Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:f,numberOfAds:g,minutes:s,seconds:k},"VideoAdCountdown"):(0,u.hw)("Twitch Ad : ({minutes}:{seconds})",{minutes:s,seconds:k},"VideoAdCountdown");else switch(C){case i.PodCountdownInMinute:S=(0,u.hw)("Ad ({minutes}:{seconds})",{minutes:s,seconds:k},"VideoAdCountdown");break;case i.PodCountdownInSecond:S=(0,u.hw)("Ad: {roundedTime}s",{roundedTime:p},"VideoAdCountdown");break;default:S=g>1?(0,u.hw)("Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:f,numberOfAds:g,minutes:s,seconds:k},"VideoAdCountdown"):(0,u.hw)("{minutes}:{seconds}",{minutes:s,seconds:k},"VideoAdCountdown")}return S},b=function(e,n,t){var a,r,o=(0,h.hr)(t),s=o?t:n,l=null!==(a=null==s?void 0:s.numberOfAds)&&void 0!==a?a:0,u=(0,h.lq)(n)?n:void 0,m=(0,h.cz)(n),v=null!==(r=null==s?void 0:s.adPosition)&&void 0!==r?r:0,k=(0,d.useState)(0),S=k[0],_=k[1],C=d.useState(0),b=C[0],P=C[1],E=(0,d.useCallback)((function(e){_(Math.round(e.duration-e.progress))}),[]);(0,c.A)({videoAdMetadata:n,adFormatMetadata:t}).adEvents.addEventListener(f.V.Progress,E);var x=d.useMemo((function(){return e&&u?{duration:+u.duration,podFilledDuration:+u.podFilledDuration,startPosition:e.getPosition()||0}:null}),[e,u]);d.useEffect((function(){x?1===v&&P(x.startPosition):P(0)}),[x,v]);var A=y((0,h.lq)(n));if((0,p.p)(g.a.TIME_UPDATE,(0,d.useCallback)((function(){var n;e&&x&&(n=function(e){return e===i.PodCountdownInMinute||e===i.PodCountdownInSecond}(A)?x.podFilledDuration-(e.getPosition()-b):x.duration-(e.getPosition()-x.startPosition),_(Math.round(n)))}),[e,x,A,b])),!m&&!o)return{minutes:0,seconds:0,time:0,roundedTime:0,adPosition:0,numberOfAds:0};var N=Math.max(0,S);return{minutes:Math.floor(N/60),seconds:Math.round(N%60),time:S,roundedTime:N,adPosition:v,numberOfAds:l}},P=function(){var e=C();return e?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,background:o.VS.Overlay,display:o.nl.InlineBlock,"data-a-target":"video-ad-countdown",children:(0,a.jsx)(s.N,{color:o.Q1.Overlay,type:l.M2.Span,children:e})}):null};P.displayName="VideoAdCountdown"},321949:function(e,n,t){"use strict";t.d(n,{Cq:function(){return p}});var i=t(331635),a=t(474848),r=(t(296540),t(415044)),o=t(868238),s=t(128633),l=t(709673),d=t(457063),u=t(21824),c=t(573566);var p=(0,o.Zz)((0,r.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,l.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata,request:e.videoAdRequest,isVideoAdShowing:(0,c.cz)(e.videoAdMetadata),stitchedAdMetadata:(0,c.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,c.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,d.cj)((function(e){return{behaviors:e.behaviors}})),(0,u.AP)((function(e){return{play:e.play,pause:e.pause}})))((function(e){var n,t,r,o,l=e.rightColumnExpanded,d=null===(n=e.videoAdMetadata)||void 0===n?void 0:n.stitched,u=e.format,p="audio-csai"===u,m=e.left,v=e.bottom;if(!e.isVideoAdShowing&&!(0,c.pt)(e.adFormatMetadata))return null;var f=d?function(e){var n,t,a,r,o,s,l,d,u,c,p,m,v;return(0,i.__assign)({adInput:{adIDValue:null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.lineItemId,adProgramIDValue:null,adSessionIDValue:null===(t=e.stitchedAdMetadata)||void 0===t?void 0:t.adSessionId,advertiserIDNS:null!==(r=null===(a=e.stitchedAdMetadata)||void 0===a?void 0:a.dsaAdvertiserId)&&void 0!==r?r:"",campaignIDNS:null!==(s=null===(o=e.stitchedAdMetadata)||void 0===o?void 0:o.dsaCampaignId)&&void 0!==s?s:"",creativeIDValue:null===(l=e.stitchedAdMetadata)||void 0===l?void 0:l.creativeId,mediaDurationInSeconds:null===(d=e.videoAdMetadata)||void 0===d?void 0:d.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(u=e.stitchedAdMetadata)||void 0===u?void 0:u.dsaPastActivity,dsaVersion:null===(c=e.stitchedAdMetadata)||void 0===c?void 0:c.dsaVersion,isShownBasedOffUserDsaContext:null===(p=e.stitchedAdMetadata)||void 0===p?void 0:p.dsaContext,isShownBasedOffUserDsaLocation:null===(m=e.stitchedAdMetadata)||void 0===m?void 0:m.dsaLocation},slotName:null===(v=e.stitchedAdMetadata)||void 0===v?void 0:v.adFormat}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e):function(e){var n,t,a,r,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,C=(0,c.hr)(e.adFormatMetadata)?e.adFormatMetadata:e.clientSideAdMetadata;return(0,i.__assign)({adInput:{adIDValue:(null===(n=null==C?void 0:C.adInfo)||void 0===n?void 0:n.adCfId)||(null===(t=null==C?void 0:C.adInfo)||void 0===t?void 0:t.adID),adProgramIDValue:null,adSessionIDValue:null===(a=e.request)||void 0===a?void 0:a.sessionID,advertiserIDNS:null!==(s=null===(o=null===(r=null==C?void 0:C.adInfo)||void 0===r?void 0:r.transparencyInfo)||void 0===o?void 0:o.advertiserId)&&void 0!==s?s:"",campaignIDNS:null!==(u=null===(d=null===(l=null==C?void 0:C.adInfo)||void 0===l?void 0:l.transparencyInfo)||void 0===d?void 0:d.campaignId)&&void 0!==u?u:"",creativeIDValue:(null===(p=null==C?void 0:C.adInfo)||void 0===p?void 0:p.creativeCfId)||(null===(m=null==C?void 0:C.adInfo)||void 0===m?void 0:m.creativeID),mediaDurationInSeconds:null==C?void 0:C.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(f=null===(v=null==C?void 0:C.adInfo)||void 0===v?void 0:v.transparencyInfo)||void 0===f?void 0:f.selectionSignals.pastActivity,dsaVersion:null===(h=null===(g=null==C?void 0:C.adInfo)||void 0===g?void 0:g.transparencyInfo)||void 0===h?void 0:h.version,isShownBasedOffUserDsaContext:null===(k=null===(y=null==C?void 0:C.adInfo)||void 0===y?void 0:y.transparencyInfo)||void 0===k?void 0:k.selectionSignals.context,isShownBasedOffUserDsaLocation:null===(_=null===(S=null==C?void 0:C.adInfo)||void 0===S?void 0:S.transparencyInfo)||void 0===_?void 0:_.selectionSignals.location},slotName:null==C?void 0:C.adFormat.toString()}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e);return(0,a.jsx)(s.V,{dsaContext:f,onClick:null!==(t=e.onClick)&&void 0!==t?t:e.pause,onClose:null!==(r=e.onClose)&&void 0!==r?r:e.play,format:u,left:m,bottom:v,margin:{bottom:0,top:p?0:l?1:2,right:p?0:l?1:null!==(o=e.right)&&void 0!==o?o:4},adInfoTextOverride:e.adInfoTextOverride,rendersInVideoPlayer:!0})}));p.displayName="VideoDSAButton"},232290:function(e,n,t){"use strict";t.d(n,{A:function(){return f}});var i=t(331635),a=t(474848),r=(t(296540),t(868238)),o=t(300235),s=t(531763),l=t(709673),d=t(231273),u=t(457063),c=t(569939),p=t(764823),m=t(21824),v=t(674181);function f(){return function(e){var n=function(n){var t=(0,s.p)((0,i.__assign)((0,i.__assign)({},n),{adPlacement:v.p.CHANNEL_PLAYER,videoSessionId:n.mediaPlayerInstance&&n.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]}));return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName=(0,o.K)(n.name,e),(0,r.Zz)((0,u.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,l.VX)((function(e){return{adFormatRequest:e.adFormatRequest,adFormatMetadata:e.adFormatMetadata,radToken:e.radToken}})),(0,d.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,c.o1)(),(0,p.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,m.AP)((function(e){return{muted:e.muted,volume:e.volume}})))(n)}}},323692:function(e,n,t){"use strict";var i;t.d(n,{V:function(){return i}}),function(e){e.AdImpression="ad_impression"}(i||(i={}))},704883:function(e,n,t){"use strict";function i(e){if(!e)return 0;var n=e.getBoundingClientRect(),t={height:window.innerHeight||document.documentElement.clientHeight||screen.height||0,width:window.innerWidth||document.documentElement.clientWidth||screen.width||0};if(n.top<t.height&&n.left<t.width&&n.right>0&&n.bottom>0){var i=n.bottom-n.top;return Math.min(t.height-n.top,n.bottom,i,t.height)/i}return 0}t.d(n,{K:function(){return i}})},303252:function(e,n,t){"use strict";t.d(n,{O:function(){return d}});var i=t(331635),a=t(474848),r=t(296540),o=t(300235),s=t(170809),l=t(709673);function d(){return function(e){var n=function(n){var t=(0,r.useContext)(l.jK),o=t.adFormatMetadata,d=t.videoAdMetadata,u=(0,s.A)({videoAdMetadata:d,adFormatMetadata:o});return(0,a.jsx)(e,(0,i.__assign)({},n,u))};return n.displayName=(0,o.K)("WithVideoAdEvents",e),n}}},52166:function(e,n,t){"use strict";t.d(n,{_:function(){return o}});var i=t(296540),a=t(709673),r=t(573566);function o(e,n,t){var o=i.useContext(a.jK),s=o.videoAdMetadata,l=o.adFormatMetadata,d=l||(null==t?void 0:t.adFormatMetadata);i.useEffect((function(){var t=(0,r.jC)(s,d);return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[s,l,e,n,d])}},90300:function(e,n,t){"use strict";t.d(n,{_:function(){return I}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(346716),l=t(928778),d=t(345029),u=t(503472),c=t(300235),p=t(777952),m=t(669022),v=t(960052),f=t(704883),g=t(709673),h=t(231273),y=t(457063),k=t(569939),S=t(764823),_=t(21824),C=t(44377),b=t(726280),P=t(573566),E=t(118483),x=t(922314),A=t(166866),N=t.n(A);function w(e){return{muted:e.muted,volume:e.volume}}function I(){return function(e){var n=function(n){function t(e){var t=n.call(this,e)||this;return t.logger=s.vF.withCategory("WithVideoAdTrackingComponent"),t.playerVisibilityAllowlist=new Set(["ad_impression",x.V.AdImpression,"ad_quartile"]),t.trackVideoAdData=function(e,n){t.props.track(e,(0,i.__assign)((0,i.__assign)({},t.getRequestProperties(e)),n))},t.trackVideoRAdEvent=function(e,n){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t,a,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof(t=this.props.radToken))return[2];a={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},this.getRequestProperties(e)),n)),radToken:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.recordAdEvent((0,u.AR)(a))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.errorAndReport(r,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))},t.getRequestProperties=function(e){var n,a,r,o,l,u,c,m,f,g,h=t.props,y=h.videoAdRequest,k=h.videoAdMetadata,S=h.content,_=h.behaviors,x=h.consent,A=h.muted,N=h.volume,w=h.mediaPlayerInstance;if((0,P.lq)(k))return{stitched:!0};var I=k,T="";if(I&&"sdkUrl"in I&&I.sdkUrl&&(T=I.sdkUrl),!y)return{ad_session_id:null,roll_type:null,time_break:null};var D={};y.status!==b.s.Pending&&(D={provider:y.sdk,ad_server:y.server&&y.server.toLowerCase(),sdk_url:T});var F=k?k.adFormat:y.adFormat,O=void 0;(0,v.Ix)(F)?O=F:(0,v.vK)(F)&&(O=C.Z$[F]);var R=(0,E.DG)(S)?p.cM.Live:(0,E.wy)(S)?p.cM.VOD:(0,E.Jn)(S)?p.cM.Clip:"";return(0,i.__assign)({stitched:(0,P.lq)(k),tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,country:(0,d.If)()||"",content_type:R,is_mafs:!!y.mafsDecision,gdpr_logs:null===(a=null===(n=null==x?void 0:x.consent)||void 0===n?void 0:n.gdprUserPreferences)||void 0===a?void 0:a.tcData.tcString,gdpr_consent:null===(l=null===(o=null===(r=null==x?void 0:x.consent)||void 0===r?void 0:r.gdprUserPreferences)||void 0===o?void 0:o.tcData.purpose.consents)||void 0===l?void 0:l.valueOf(),gdpr_enabled:null===(m=null===(c=null===(u=null==x?void 0:x.consent)||void 0===u?void 0:u.gdprUserPreferences)||void 0===c?void 0:c.tcData.ifGDPRApplies)||void 0===m?void 0:m.valueOf(),referrer_domain:null===(f=s.E5.getLastPageview())||void 0===f?void 0:f.referrer_domain,is_embed:null==_?void 0:_.embed,twitch_correlator:y.twitchCorrelator,ad_session_id:y.sessionID,roll_type:y.roll,time_break:y.duration,break_length:y.duration,commercial_id:y.commercialID,format_name:O,sdk_url:T,player_mute:A,player_visibility:t.getPlayerVisibility(e),video_session_id:null===(g=null==w?void 0:w.getSessionData())||void 0===g?void 0:g["VIDEO-SESSION-ID"],player_volume:N},D)},t.state={trackVideoAdData:t.trackVideoAdData,trackVideoRAdEvent:t.trackVideoRAdEvent},t}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},t.prototype.getPlayerVisibility=function(e){if(this.playerVisibilityAllowlist.has(e))return(0,f.K)(this.props.videoContainer)},t.displayName=(0,c.K)(t.name,e),t}(r.Component);return(0,o.Zz)((0,y.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,k.o1)(),(0,h.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,S.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,_.AP)(w),(0,g.VX)((function(e){return{videoAdRequest:e.videoAdRequest,videoAdMetadata:e.videoAdMetadata,radToken:e.radToken}})),(0,l._v)(N(),{name:"recordAdEvent"}),m.z3)(n)}}},922314:function(e,n,t){"use strict";var i;t.d(n,{V:function(){return i}}),function(e){e.AdImpression="ad_impression",e.AdPodComplete="ad_pod_complete",e.AdQuartile="ad_quartile",e.VideoAdRequest="video_ad_request",e.VideoAdRequestDeclined="video_ad_request_declined",e.VideoAdRequestError="video_ad_request_error",e.VideoAdError="video_ad_error",e.VideoAdImpression="video_ad_impression",e.VideoAdQuartileComplete="video_ad_quartile_complete",e.VideoAdPodComplete="video_ad_pod_complete"}(i||(i={}))},934447:function(e,n,t){"use strict";t.d(n,{TF:function(){return ok},_4:function(){return dk},Go:function(){return uk}});var i=t(331635),a=t(474848),r=t(959340),o=t(914421),s=t(246942),l=t.n(s),d=t(296540),u=t(415044),c=t(346716),p=t(718059),m=t(37441),v=t(407827),f=t(397568),g=v.x.wrap((function(){return Promise.all([t.e(38673),t.e(62434),t.e(67e3),t.e(42901),t.e(65661),t.e(16076),t.e(23232),t.e(82571),t.e(81983),t.e(22730),t.e(88662),t.e(48062),t.e(6410),t.e(66919),t.e(12108),t.e(77618),t.e(20362)]).then(t.bind(t,297665))}),"ClipEditorPopupPortal"),h=(0,f.q)("ClipEditorPopupContext",{openPopup:null,isOpened:!1}),y=(h.withContext,h.context),k=function(e){var n=e.children,t=function(){var e=d.useState(null),n=e[0],t=e[1];return{openClipEditorPopup:d.useCallback((function(e){t(e)}),[t]),clipEditorPopupProps:n}}(),r=t.openClipEditorPopup,o=t.clipEditorPopupProps,s=d.useMemo((function(){return{openPopup:r,isOpened:Boolean(o)}}),[r,o]);return(0,a.jsxs)(y.Provider,{value:s,children:[n,o&&(0,a.jsx)(g,(0,i.__assign)({},o))]})},S=t(486612),_=t(868238),C=t(730930),b=t(303252),P=t(107212),E=t(231273),x=t(457063),A=t(21824),N=t(522646),w=t(891918),I=t(936608),T=t(286169),D=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){n.maybeSetActivePlayerRef(e===w.p.PLAYING,e===w.p.IDLE)},n.onAdStateChange=function(e){var t=e===N.V.Resumed||e===N.V.Started,i=e===N.V.Paused;n.maybeSetActivePlayerRef(t,i)},n.maybeSetActivePlayerRef=function(e,t){var i=n.props.playerRefID===n.props.activeVideoPlayerRefID;e&&!i&&n.props.reportPlayerInstanceStarted(n.props.playerRefID),t&&i&&n.props.reportPlayerInstanceStarted(void 0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.activeVideoPlayerRefID!==this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID!==this.props.playerRefID&&this.props.isPlaying&&this.props.exclusivePlayback&&this.props.pause()},n.prototype.componentDidMount=function(){var e=this;[w.p.IDLE,w.p.PLAYING].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),[N.V.Paused,N.V.Started,N.V.Resumed].forEach((function(n){e.props.adEvents.addEventListener(n,(function(){return e.onAdStateChange(n)}))}))},n.prototype.render=function(){return null},n}(d.Component),F=(0,_.Zz)((0,u.Ng)((function(e){return{activeVideoPlayerRefID:(0,I.LG)(e)}}),(function(e){return(0,_.zH)({reportPlayerInstanceStarted:C.A},e)})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,E.dd)((function(e){var n=e.playerRefID;return{playerRefID:n}})),(0,x.cj)((function(e){return{exclusivePlayback:!!(0,T.wk)({playerPublicPropsContext:e}).exclusivePlayback}})),(0,P.X)(),(0,b.O)())(D);var O=function(e){return function(e){var n=e.playerId,t=(0,u.d4)(I.LG),i=(0,u.wA)(),a=(0,d.useRef)(t);(0,d.useEffect)((function(){a.current=t}),[t]);var r=(0,d.useRef)(n);(0,d.useEffect)((function(){r.current=n}),[n]),(0,d.useEffect)((function(){return function(){r.current===a.current&&i((0,C.A)(void 0))}}),[i])}(e),null},R=t(783321),V=t(503472),M=t(447925),L=t(954978),j=t(118483),B=t(20742),U=t.n(B),q=function(){var e=(0,R.n_)(U())[0],n=(0,d.useContext)(E.$g).logger,t=(0,d.useRef)(n.withCategory("clips-update-view-count")),a=(0,d.useContext)(x.kl).content,r=(0,j.Qc)(a),o=(0,j.Jn)(a),s=(0,d.useCallback)((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:if("video-play"!==n.name||!o||!r)return[3,4];t.current.debug("incrementing clip view count",r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e((0,i.__assign)({},(0,V.AR)({slug:r})))];case 2:return s.sent(),[3,4];case 3:return a=s.sent(),t.current.warn("Failed to increment clip view count.",a),[3,4];case 4:return[2]}}))}))}),[r,o,e]);return(0,M.p)(L.a.ANALYTICS_EVENT,s),null},G=function(e){return e.isClip?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(q,{})}):null},z=t(928778),H=t(732446),W=t(105146),K=t(711274),Z=t(648101),Q=t(289007),Y=t(330925),X=t.n(Y),$=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=c.x2.logger.withCategory("CollectionManagerComponent"),n.getVodID=function(){var e,t,i,a,r;return null!==(r=null!==(e=n.props.vodID)&&void 0!==e?e:null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.collection)||void 0===i?void 0:i.items.edges[0])||void 0===a?void 0:a.node.id)&&void 0!==r?r:null},n.handleEndOfVideo=function(e,t){if(t&&e){var i=function(e){var n=e.items.edges;return n.filter((function(e){return null!==e})).map((function(e){return e.node}))}(t),a=i.findIndex((function(n){return n.id===e}));if(!(a<0||i.length<=a))a<i.length-1&&n.showNextVideo(i[a+1].id,t.id)}},n.showNextVideo=function(e,t){var i=n.props.getContentUrl({type:Z.FC.Collection,vodID:e,collectionID:t});i?(0,Q.cW)(i,n.props.navigate):n.logger.warn("Failed to get get next video URL.",{nextVideoID:e,collectionID:t})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.data,t=e.playbackEnded,i=e.collectionID,a=this.getVodID();i&&this.props.updateContext({collectionSessionId:(0,W.aq)()}),J(n)&&t&&this.handleEndOfVideo(a,n.collection)},n.prototype.componentDidUpdate=function(e){var n=this.getVodID();(!e.playbackEnded&&this.props.playbackEnded&&J(this.props.data)||!J(e.data)&&J(this.props.data)&&this.props.playbackEnded)&&this.handleEndOfVideo(n,this.props.data.collection),this.props.collectionID&&this.props.collectionID!==e.collectionID?this.props.updateContext({collectionSessionId:(0,W.aq)()}):this.props.collectionID||this.props.updateContext({collectionSessionId:void 0})},n.prototype.componentWillUnmount=function(){this.props.updateContext({collectionSessionId:null})},n.prototype.render=function(){return null},n}(d.Component);function J(e){return!!e&&!e.loading&&!e.error}var ee=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.playerState,i=e.updateContext;return{updateContext:i,mediaPlayerInstance:n,playbackEnded:t===w.p.ENDED}})),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e}),t=(0,j.P3)(n)?n:null,i=t&&t.collectionID,a=t&&t.vodID||null;return{collectionID:i,vodID:a}})),(0,z._v)(X(),{options:function(e){return{variables:{collectionID:e.collectionID||""}}},skip:function(e){return null===e.collectionID}}),H.y,(0,K.e)())($);var ne=t(522580),te=t(917601),ie=t(982538),ae=t(376347),re=t(734830),oe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currSegmentPrevTimeChange=null,n.handleTimeChanged=function(e){var t=n.props.editingSegments;if(t&&t.length){var i=(0,re.y)(t,e),a=i.currSegment,r=i.prevSegment,o=n.currSegmentPrevTimeChange&&!a,s=o&&n.currSegmentPrevTimeChange===t[t.length-1];(n.lastEndBehaviorReceived===ae.CK.PlayAndPauseAtCurrentEditingSegmentEnd&&o||n.lastEndBehaviorReceived===ae.CK.PlayAndPauseAtLastEditingSegmentEnd&&s)&&n.pausePlayback(),r&&o&&n.lastEndBehaviorReceived===ae.CK.PlayAndReplayAtCurrentEditingSegmentEnd&&n.seekToTime(r.startOffset),n.currSegmentPrevTimeChange=a}},n.storeLastEndBehaviorRequest=function(){n.props.endBehavior&&(n.lastEndBehaviorReceived=n.props.endBehavior)},n.maybeRestartPlayback=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.endBehavior,r=t.videoOffset,o=t.isPostEdit;if(i){var s=e.videoOffset!==r&&void 0!==r,l=e.endBehavior!==a&&void 0!==a,d=e.isPostEdit!==o&&!0===o;(s||l||d)&&(i.seekTo(n.props.videoOffset||0),n.currSegmentPrevTimeChange=null,n.lastEndBehaviorReceived=a||ae.CK.PlayAndPauseAtCurrentEditingSegmentEnd),i.isPaused()&&l&&i.play()}},n.pausePlayback=function(){var e=n.props.mediaPlayerInstance;e&&e.pause()},n.seekToTime=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.storeLastEndBehaviorRequest()},n.prototype.componentDidUpdate=function(e){this.maybeRestartPlayback(e),this.storeLastEndBehaviorRequest()},n.prototype.render=function(){return(0,a.jsx)(ie.j,{onTimeChanged:this.handleTimeChanged})},n}(d.Component),se=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e}),t=(0,j.N1)(n),i=(0,j.J8)(n),a=(0,j.xq)(n);return{editingSegments:t,videoOffset:a,isPostEdit:i,endBehavior:(0,T.wk)({playerPublicPropsContext:e}).editingPlaybackBehavior}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})))(oe);var le=t(706411),de=t.n(le),ue=t(586122),ce=t(709673),pe=t(764823),me=t(855580),ve=t(347806),fe=t(177972),ge=["space","k"],he=["shift+up","shift+down"],ye=["j","l","left","right"],ke=[",","."],Se=[.25,.5,.75,1,1.25,1.5,2],_e=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.mouseTrapInstance=null,n.togglePlayback=function(e,t){n.props.hasPlaybackRestriction||"space"===t&&document.activeElement&&document.activeElement!==document.body||(e.preventDefault(),n.props.isPlaying?n.props.pause({userTriggered:!0}):n.props.play({userTriggered:!0}))},n.changeVolume=function(e,t){if(!n.props.disableAudio){e.preventDefault();var i=n.props.volume||0,a="shift+up"===t?Math.round(100*Math.min(i+.1,1))/100:Math.round(100*Math.max(i-.1,0))/100;n.props.setVolume(a,{persist:!0,userTriggered:!0})}},n.closeCollectionsSidebar=function(e){e.preventDefault(),n.props.isCollectionSidebarShowing&&n.props.toggleCollectionSidebar()},n.seek=function(e,t){e.preventDefault();var i=(0,ve.E9)(n.props),a=(0,ve.Ds)(n.props),r=n.props.isClipContent?2:10,o=n.calculateTargetSeekTime(i,"j"===t||"left"===t?-r:r,.01,a);o&&n.props.seek(o)},n.toggleFullscreen=function(e){if(n.props.fullscreen.supported()&&!n.props.disableFullscreen){e.preventDefault();var t=n.props,i=t.isFullscreen,a=t.enterFullscreen,r=t.exitFullscreen;i?r():a()}},n.toggleMute=function(e){var t=n.props,i=t.disableAudio,a=t.isClipContent,r=t.muted,o=t.setMuted;a||i||(e.preventDefault(),o(!r,{persist:!0,userTriggered:!0}))},n.changePlaybackRate=function(e,t){if(!n.props.isLiveContent){e.preventDefault();var i=(0,ve.ym)(n.props),a=Se.findIndex((function(e){return e===i})),r=","===t?a-1:a+1;if(r>=0&&r<=Se.length-1){var o=Se[r];(0,ve.qr)(o,n.props)}}},n.toggleShortcutOverlay=function(e){e.preventDefault(),n.props.isKeyboardShortcutsVisible?n.props.hideKeyboardShortcuts():(n.props.showKeyboardShortcuts(),n.props.setStatsOverlay(pe.Uz.None))},n.initHandlers=function(){n.clearKeyHandlers(),n.mouseTrapInstance=new(de());var e=n.mouseTrapInstance.stopCallback;n.mouseTrapInstance.stopCallback=n.stopCallback(e),n.setKeyHandlers()},n.setKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.bind(ge,n.togglePlayback,"keydown"),n.mouseTrapInstance.bind(he,n.changeVolume,"keydown"),n.mouseTrapInstance.bind("esc",n.closeCollectionsSidebar,"keydown"),n.mouseTrapInstance.bind(ye,n.seek,"keydown"),n.mouseTrapInstance.bind("m",n.toggleMute,"keydown"),n.mouseTrapInstance.bind("f",n.toggleFullscreen,"keydown"),n.mouseTrapInstance.bind(ke,n.changePlaybackRate,"keydown"),n.mouseTrapInstance.bind("?",n.toggleShortcutOverlay,"keydown"))},n.clearKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.unbind(ge,"keydown"),n.mouseTrapInstance.unbind(he,"keydown"),n.mouseTrapInstance.unbind("esc","keydown"),n.mouseTrapInstance.unbind(ye,"keydown"),n.mouseTrapInstance.unbind("m","keydown"),n.mouseTrapInstance.unbind("f","keydown"),n.mouseTrapInstance.unbind(ke,"keydown"),n.mouseTrapInstance.unbind("?","keydown"))},n.stopCallback=function(e){return function(t,i,a){return!!(e(t,i,a)||n.props.disableKeyboardShortcuts||n.props.forceControlVisibilityHidden)}},n.calculateTargetSeekTime=function(e,n,t,i){var a=e+n;return a<t?t:a>i?null:a},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.initHandlers()},n.prototype.componentWillUnmount=function(){this.clearKeyHandlers()},n.prototype.render=function(){return null},n}(d.Component);var Ce=(0,_.Zz)((0,ce.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),(0,ue.W)(),(0,E.dd)((function(e){return{hasPlaybackRestriction:(0,fe.k1)(e),mediaPlayerInstance:e.mediaPlayerInstance}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=e.content;return{disableAudio:n.disableAudio,disableFullscreen:n.disableFullscreen,disableKeyboardShortcuts:n.disableKeyboardShortcuts,disableUserPreferencePersistence:n.disableUserPreferencePersistence,forceControlVisibilityHidden:n.forceControlVisibility===me.Ie.Hidden,isClipContent:(0,j.Jn)(t),isLiveContent:(0,j.DG)(t)}})),(0,pe.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,hideKeyboardShortcuts:e.hideKeyboardShortcuts,isCollectionSidebarShowing:e.isCollectionSidebarShowing,isFullscreen:e.isFullscreen,isKeyboardShortcutsVisible:e.isKeyboardShortcutsVisible,setStatsOverlay:e.setStatsOverlay,showKeyboardShortcuts:e.showKeyboardShortcuts,toggleCollectionSidebar:e.toggleCollectionSidebar}})),(0,A.AP)((function(e){return{isPlaying:e.isPlaying,muted:e.muted,pause:e.pause,play:e.play,seek:e.seek,setMuted:e.setMuted,setVolume:e.setVolume,volume:e.volume}})))(_e),be=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.pausedFromModalShowing=!1,n.handleModalChange=function(e){var t=n.props,i=t.modalShowing,a=t.pause,r=t.play,o=t.isPlaying,s=!e.modalShowing&&i,l=e.modalShowing&&!i;s&&(n.pausedFromModalShowing=!0,a()),l&&n.pausedFromModalShowing&&!o&&r()},n.updatePausedFromModalStatus=function(e){var t=n.props.isPlaying;!e.isPlaying&&t&&(n.pausedFromModalShowing=!0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.updatePausedFromModalStatus(e),this.handleModalChange(e)},n.prototype.render=function(){return null},n}(d.Component),Pe=(0,_.Zz)((0,u.Ng)((function(e){return{modalShowing:e.modal.show}})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.pause,i=e.play;return{isPlaying:n,pause:t,play:i}})))(be);var Ee=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={wasPlayingOnOffline:n.props.isPlaying},n.onOffline=function(){n.props.updateContext({isNetworkOffline:!0}),n.setState({wasPlayingOnOffline:n.props.isPlaying})},n.onOnline=function(){n.state.wasPlayingOnOffline&&n.props.play(),n.props.updateContext({isNetworkOffline:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline)},n.prototype.componentWillUnmount=function(){window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline)},n.prototype.render=function(){return null},n}(d.Component);var xe,Ae,Ne=(0,_.Zz)((0,E.dd)((function(e){return{updateContext:e.updateContext}})),(0,A.AP)((function(e){return{isPlaying:e.isPlaying,play:e.play}})))(Ee),we=t(891975),Ie=t(882439),Te=t(345029),De=t(669022),Fe=t(574156),Oe=t(393749),Re=t.n(Oe);!function(e){e.End="end",e.LoadMetadata="loadMetadata",e.SetPlayheadPosition="setPlayheadPosition",e.Stop="stop"}(xe||(xe={})),function(e){e[e.End=3]="End",e[e.Start=1]="Start"}(Ae||(Ae={}));var Ve;!function(e){e.Active="active",e.Inactive="inactive"}(Ve||(Ve={}));var Me=d.memo((function(e){var n=e.blockConsentRequiredContent,t=e.channelLogin,i=e.disableNielsenAuditPings,a=e.isLiveContent,r=(0,d.useContext)(E.$g),o=r.hasPlayed,s=r.playSessionId,l=r.playSessionStartTime,u=(0,fe.F4)(r),p=(0,fe.pl)(r),m=(0,d.useCallback)((function(e){if(s&&!n&&a&&!i&&"US"===((0,Te.If)()||"US")){var r="";r="primevideo"===t||"twitchmedia18"===t||"twitchmedia58"===t||"primevideo_espanol"===t||"PrimeVideo_XRayVision"===t||"Prime_XRayVision"===t||"PrimeVision"===t||"primevideo_altstream"===t?"dtvr":"dcr";var o=Ie.stringify({prd:"audit",apid:"PE7867845-886F-4940-8BB2-44030EE44570",sessionid:c.x2.session.appSessionID||s,streamid:s,pingtype:e,product:r,uoo:0,createtm:Math.floor((e===Ae.Start?l:Date.now())/1e3)}),d="nielsen-s2s-audit-ping",u=document.getElementById(d);u&&u.parentNode&&u.parentNode.removeChild(u);var p=document.createElement("img");p.id=d,p.src="".concat("https://secure-sts-prod.imrworldwide.com/cgi-bin/gn","?").concat(o),p.style.display="none",document.body.appendChild(p)}}),[i,a,s,l,t,n]),v=(0,d.useCallback)((function(){m(Ae.End)}),[m]),f=(0,d.useCallback)((function(){o||m(Ae.Start)}),[o,m]);return d.useEffect((function(){return function(){o&&!p&&m(Ae.End)}}),[o,p,m]),(0,M.p)(w.p.ENDED,(0,d.useCallback)((function(){m(Ae.End)}),[m])),(0,M.p)(w.p.PLAYING,f),(0,we.S)((function(){return u&&f(),window.addEventListener("beforeunload",v),function(){window.removeEventListener("beforeunload",v)}})),null}));Me.displayName="NielsenAnalytics";var Le=(0,z._v)(Re(),{options:function(e){return{variables:{isCollectionContent:e.isCollectionContent,isLiveContent:e.isLiveContent,isVODContent:e.isVodContent,collectionID:e.collectionID,login:e.channelLogin||"",vodID:e.vodID}}}})(Me),je=function(){var e=(0,De.S9)().data,n=(0,Fe.bq)(S.F.Nielsen,e),t=(0,d.useContext)(x.kl),i=t.behaviors,r=t.content,o=(0,j.DG)(r),s=(0,j.hd)(r)||null,l=(0,j.hq)(r)||"",u=(0,j.Eq)(r)||"",c=(0,j.P3)(r)&&!l,p=(0,j.wy)(r)&&!c,m=!(!i||!i.disableNielsenAuditPings);return(0,a.jsx)(Le,{blockConsentRequiredContent:n,channelLogin:s,collectionID:u,disableNielsenAuditPings:m,isCollectionContent:c,isLiveContent:o,isVodContent:p,vodID:l})},Be=t(290942),Ue=t(344426),qe=(0,_.Zz)((0,u.Ng)((function(e){return{isAdMuted:e.ads.isOlvAdMuted}})),(0,A.AP)((function(e){var n=e.muted,t=e.setMuted;return{videoPlayerMuted:n,setVideoPlayerMuted:t}})))((function(e){var n=e.isAdMuted,t=e.videoPlayerMuted,i=e.setVideoPlayerMuted,a=d.useRef(!1),r=(0,Be.Z)(n),o=(0,Be.Z)(null!=t&&t),s=(0,u.wA)();return d.useEffect((function(){var e=!r&&n,l=o&&!t;r&&!n&&!t&&(a.current=!0,i(!0)),a.current&&e&&t&&(a.current=!1,i(!1)),l&&!n&&s((0,Ue._9)())}),[r,n,o,t,i,s]),null}));var Ge=t(805450),ze=t(65684),He=t(194569),We=t(226483),Ke=t(447944),Ze=t(945137),Qe=t(759369),Ye=t(145748),Xe=t(456450),$e=t(267924),Je=t(131883),en=t(932376),nn=t(863845),tn=t(488910),an=t(510744),rn=function(e){var n,t,r=d.useContext(x.kl),o=null===(n=(0,u.d4)(Je.wz))||void 0===n?void 0:n.id,s=(0,j.hd)(r.content),l=(0,en.C)(null!=s?s:"").id,p=d.useContext(E.$g),m=p.addRestriction,v=p.liftRestriction,f=p.videoAccessToken,g=p.updateContext,h=(0,Ye.D)((0,Xe.v7)(null!=o?o:""),{skip:!o,skipMessage:function(e){return!(function(e){return"refetch_video_token"===e.type}(e)&&e.data.channel_id===l)}})[0];return d.useEffect((function(){h&&(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return s?[4,(0,an.l)({channelLogin:s,playerType:r.type,refreshAccessToken:!0})]:[3,2];case 1:(e=n.sent())&&g({videoAccessToken:e,manualResetRequested:!0}),n.label=2;case 2:return[2]}}))}))}),[m,s,r.type,v,h,g]),s&&e.show?(null===(t=null==f?void 0:f.authorization)||void 0===t?void 0:t.forbiddenReasonCode)===$e.Xaf.CHANNEL_RESTRICTED_BANNED_USER?(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.Lock},text:[(0,c.hw)("You are banned.","AccountRestrictedOverlay"),(0,c.hw)("You are unable to watch this channel's stream until a moderator unbans you. You may be able to request an unban in the chat column.","AccountRestrictedOverlay")]}):(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.Lock},text:(0,c.hw)("You are not allowed to view this stream.","AccountRestrictedOverlay")}):null},on=t(882197),sn=t(216042),ln=t(79004),dn=t(953838),un=t(574570),cn=t(8194),pn=t(898791),mn=t(608189),vn=t(124751),fn=t(548271),gn=t(959385),hn=d.memo((function(e){var n=e.stats,t=e.onClose;return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)(sn.S,{position:o.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(gn.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(r.P,{background:o.VS.Base,color:o.Q1.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close ad stats","AdstatsOverlay"),onClick:t,icon:dn.g})}),(0,a.jsxs)(un.X,{children:[(0,a.jsx)(cn.A,{children:(0,a.jsxs)(pn.H,{children:[(0,a.jsx)(mn.x,{padding:.5,label:(0,c.hw)("Name","AdStatsOverlay")}),(0,a.jsx)(mn.x,{padding:.5,label:(0,c.hw)("Value","AdStatsOverlay")})]})}),(0,a.jsxs)(vn.B,{children:[yn((0,c.hw)("ID","AdStatsOverlay"),n&&n.id),yn((0,c.hw)("Impression Time","AdStatsOverlay"),n&&n.impressionTime),yn((0,c.hw)("Ad Position","AdStatsOverlay"),n&&n.adPosition),yn((0,c.hw)("Total Ads","AdStatsOverlay"),n&&n.totalAds),yn((0,c.hw)("Creative ID","AdStatsOverlay"),n&&n.creativeId),yn((0,c.hw)("Ad Wrapper IDs","AdStatsOverlay"),n&&JSON.stringify(n.adWrapperIds)),yn((0,c.hw)("System","AdStatsOverlay"),n&&n.system),yn((0,c.hw)("Title","AdStatsOverlay"),n&&n.title),yn((0,c.hw)("Content Type","AdStatsOverlay"),n&&n.contentType),yn((0,c.hw)("VAST Media Height","AdStatsOverlay"),n&&n.vastMediaHeight),yn((0,c.hw)("VAST Media Width","AdStatsOverlay"),n&&n.vastMediaWidth),yn((0,c.hw)("VAST Media Bitrate","AdStatsOverlay"),n&&n.vastMediaBitrate)]})]})]})})})})}));function yn(e,n){var t=void 0===n||""===n?"--":n,i="".concat(e,":");return(0,a.jsxs)(pn.H,{children:[(0,a.jsx)(fn.n,{padding:.5,children:i}),(0,a.jsx)(fn.n,{padding:.5,children:t})]},e)}var kn=t(312663),Sn=(0,_.Zz)((0,Ge.X)({name:"AdStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,margin:1,className:"ad-stats-overlay__error-container",children:(0,a.jsx)(kn.N,{color:o.Q1.Overlay,children:(0,c.hw)("The ad stats overlay has crashed. Please disable it in the player settings menu.","AdStatsOverlay")})})}),{})}))((function(){var e=d.useContext(pe._t).setStatsOverlay,n=d.useContext(ce.jK).adPodStats,t=d.useCallback((function(){return e(pe.Uz.None)}),[e]);return(0,a.jsx)(hn,{stats:n.length?n[n.length-1]:void 0,onClose:t})})),_n=t(466307),Cn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateRestriction=function(){var e=n.props,t=e.addRestriction,i=e.liftRestriction,a=e.skip,r=e.restriction,o=e.restrictions,s=!a&&!o[r],l=a&&!!o[r];s?t(r):l&&i(r)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateRestriction()},n.prototype.componentDidUpdate=function(){this.updateRestriction()},n.prototype.componentWillUnmount=function(){var e=this.props;(0,e.liftRestriction)(e.restriction)},n.prototype.render=function(){return this.props.children||null},n}(d.Component),bn=(0,E.dd)((function(e){var n=e.addRestriction,t=e.liftRestriction,i=e.restrictions;return{addRestriction:n,liftRestriction:t,restrictions:i}}))(Cn);var Pn=function(e){var n=e.restriction;return(0,a.jsx)(_n.FT,{className:"content-overlay-gate",type:_n.NL.Fullscreen,transparency:_n.xL.Transparency0,children:(0,a.jsx)(bn,{restriction:n})})};function En(e,n){return(0,Ge.X)({name:e,content:(0,a.jsx)(Pn,{restriction:n})})}var xn=t(318768),An="age_restricted_channels";function Nn(e){var n=e.split(":"),t=n[0],i=n[1];return[t,parseInt(i,10)||0]}function wn(){return c.Zn.get(An,[])}var In=t(292644),Tn=t(920962),Dn=t(160526),Fn=t(564368),On=t(917705);function Rn(e){var n=e.previousDay,t=e.newMonth,i=e.newYear;return n>(0,On.getDaysInMonth)(new Date(i,t))?1:n}function Vn(){return(0,On.getYear)(new Date)-14}function Mn(e){return void 0===e?0:Gn()[e]||0}function Ln(e){var n,t,a=Gn(),r=a[e],o=void 0===r?1:r+1;return t=(0,i.__assign)((0,i.__assign)({},a),((n={})[e]=o,n)),c.VS.set(qn,t),o}function jn(e,n){var t;void 0===n&&(n=!0);var a,r=Hn();a=(0,i.__assign)((0,i.__assign)({},r),((t={})[e]=n,t)),c.IG.set(zn,a)}function Bn(e){return void 0!==e&&!!Hn()[e]}function Un(e){var n=(0,On.setHours)(e,0);return n=(0,On.setMinutes)(n,0),n=(0,On.setSeconds)(n,0)}var qn="age_gates_failed";function Gn(){return c.VS.get(qn,{})}var zn="age_gate";function Hn(){return c.IG.get(zn,{})}var Wn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={month:0,day:1,year:Vn()},n.renderGateContent=function(e,t){if(e.failureCount>1)return null;var i=t?In.Y.Small:In.Y.Default;return(0,a.jsx)(Tn.h,{overlay:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,"data-a-target":"player-overlay-age-gate-form",children:[(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsxs)(Dn.l,{value:"".concat(n.state.month),onChange:n.handleMonthChange,size:i,"aria-label":(0,c.hw)("Month","AgeGateOverlay"),children:[(0,a.jsx)("option",{value:"0",children:(0,c.hw)("January","AgeGateOverlay")}),(0,a.jsx)("option",{value:"1",children:(0,c.hw)("February","AgeGateOverlay")}),(0,a.jsx)("option",{value:"2",children:(0,c.hw)("March","AgeGateOverlay")}),(0,a.jsx)("option",{value:"3",children:(0,c.hw)("April","AgeGateOverlay")}),(0,a.jsx)("option",{value:"4",children:(0,c.hw)("May","AgeGateOverlay")}),(0,a.jsx)("option",{value:"5",children:(0,c.hw)("June","AgeGateOverlay")}),(0,a.jsx)("option",{value:"6",children:(0,c.hw)("July","AgeGateOverlay")}),(0,a.jsx)("option",{value:"7",children:(0,c.hw)("August","AgeGateOverlay")}),(0,a.jsx)("option",{value:"8",children:(0,c.hw)("September","AgeGateOverlay")}),(0,a.jsx)("option",{value:"9",children:(0,c.hw)("October","AgeGateOverlay")}),(0,a.jsx)("option",{value:"10",children:(0,c.hw)("November","AgeGateOverlay")}),(0,a.jsx)("option",{value:"11",children:(0,c.hw)("December","AgeGateOverlay")})]})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Dn.l,{value:"".concat(n.state.day),onChange:n.handleDayChange,size:i,"aria-label":(0,c.hw)("Day","AgeGateOverlay"),children:n.renderDayOptions(n.state)})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Dn.l,{value:"".concat(n.state.year),onChange:n.handleYearChange,"data-a-target":"player-overlay-age-gate-year",size:i,"aria-label":(0,c.hw)("Year","AgeGateOverlay"),children:n.renderYearOptions()})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Fn.$n,{onClick:n.handleSubmit,"data-a-target":"player-overlay-age-gate-submit",size:t?Fn.Mp.Small:Fn.Mp.Default,children:(0,c.hw)("Submit","AgeGateOverlay")})})]})})},n.renderDayOptions=function(e){for(var n=e.month,t=e.year,i=(0,On.getDaysInMonth)(new Date(t,n)),r=[],o=1;o<=i;o++)r.push((0,a.jsx)("option",{value:"".concat(o),children:o},"day-".concat(o)));return r},n.renderYearOptions=function(){for(var e=Vn(),n=[],t=e;t>e-100;t--)n.push((0,a.jsx)("option",{value:"".concat(t),children:t},"year-".concat(t)));return n},n.handleDayChange=function(e){n.setState({day:+e.currentTarget.value})},n.handleMonthChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Rn({previousDay:e.day,newMonth:t,newYear:e.year}),month:t}}))},n.handleYearChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Rn({previousDay:e.day,newMonth:e.month,newYear:t}),year:t}}))},n.handleSubmit=function(){var e=n.state,t=e.day,i=e.month,a=e.year;n.props.onSubmit({day:t,month:i,year:a})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.requiredAge,i=n.failureCount>0?(0,c.hw)("Sorry, you must be over the age of {requiredAge} to view this content.",{requiredAge:t},"AgeGateOverlay"):(0,c.hw)("You must be {requiredAge} to view this content. Please enter your date of birth.",{requiredAge:t},"AgeGateOverlay");return(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.Warning},text:i,children:function(n){return e.renderGateContent(e.props,n)}})},n}(d.Component),Kn=t(532770),Zn=t.n(Kn);function Qn(e){var n,t=(0,j.hd)(e.content);if(t)return t;var i=e.broadcasterData;return(null===(n=null==i?void 0:i.userByAttribute)||void 0===n?void 0:n.login)||void 0}var Yn=function(e){function n(n){var t=e.call(this,n)||this;t.getRequiredAge=function(e){var n=e.broadcasterData,a=Qn(e);if(a){var r=wn().reduce((function(e,n){var t,a=Nn(n),r=a[0],o=a[1];return(0,i.__assign)((0,i.__assign)({},e),((t={})[r]=o,t))}),{}),o=r[a];if(o)return o}return(0,j.DG)(t.props.content)&&n&&n.userByAttribute&&n.userByAttribute.adProperties&&null!==n.userByAttribute.adProperties.requiredAge?n.userByAttribute.adProperties.requiredAge:0},t.handleSubmit=function(e){var n=Qn(t.props);if(n){var i=e.day,a=e.month,r=e.year,o=t.getRequiredAge(t.props),s=function(e,n){var t=Un(new Date),i=(0,On.subYears)(t,n);return(0,On.compareAsc)(Un(e),i)<=0}(new Date(r,a,i),o);s?(jn(n),t.setState({hasPassed:!0})):t.setState({failureCount:Ln(n)})}};var a=Qn(n);return t.state={failureCount:Mn(a),hasPassed:Bn(a)},t}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=Qn(e),t=Qn(this.props);n!==t&&this.setState({failureCount:Mn(t),hasPassed:Bn(t)})},n.prototype.render=function(){var e=this.getRequiredAge(this.props);return e<=0||this.state.hasPassed?null:(0,a.jsx)(bn,{restriction:xn.S.Age,children:(0,a.jsx)(Wn,{requiredAge:e,failureCount:this.state.failureCount,onSubmit:this.handleSubmit})})},n}(d.Component),Xn=(0,_.Zz)(En("AgeGateOverlay",xn.S.Age),(0,x.cj)((function(e){var n=e.content;return{content:n}})),(0,z._v)(Zn(),{name:"broadcasterData",options:function(e){return{variables:{input:{login:(0,j.hd)(e.content)||null,ownsVideoID:(0,j.hq)(e.content)||null}}}},skip:function(e){return!(0,j.DG)(e.content)&&!(0,j.hd)(e.content)&&!(0,j.hq)(e.content)}}))(Yn);var $n=t(86043),Jn=t(292624),et=t(573566),nt=t(334315),tt=t(36935),it=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderCaptionStyledError=function(e){var t=e.containerStyles,i=e.windowContainerStyles,r=e.windowStyles,o=e.textStyles;return(0,a.jsx)("div",{className:"player-captions-container",style:t,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)("div",{style:r,children:(0,a.jsx)("p",{className:"player-captions-container__caption-line",style:o,children:n.getMessage()})})})})},n.renderUnstyledFallbackError=function(){return(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:(0,a.jsx)(r.P,{color:o.Q1.Overlay,position:o.yX.Absolute,attachBottom:!0,margin:3,children:(0,a.jsx)(tt.hE,{children:n.getMessage()})})})},n.getMessage=function(){return(0,c.hw)("The closed caption overlay has crashed. To re-enable captions, toggle closed captions off and on in the player, or refresh the page.","CaptionOverlay")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.captionsEnabled||!this.props.captionsAvailable)return null;var e;try{e=ct(this.props.captionsStyle)}catch(e){return this.renderUnstyledFallbackError()}return this.renderCaptionStyledError(e)},n}(d.Component),at=(0,_.Zz)((0,pe.c0)((function(e){var n=e.captions;return{captionsAvailable:n.available,captionsEnabled:n.enabled,captionsStyle:n.style}})))(it);var rt=/\r?\n|\r/g;function ot(e){var n=e.text;return(n&&n.length>0?n.trim():"")?String(n).split(rt):[]}var st=Object.freeze(["top","bottom","fontSize"]),lt=Object.freeze(["alignItems"]);function dt(e,n){return n.reduce((function(n,t){return e.hasOwnProperty(t)&&(n[t]=e[t]),n}),{})}function ut(e,n){return Object.getOwnPropertyNames(e).reduce((function(t,i){return n.includes(i)||(t[i]=e[i]),t}),{})}function ct(e){var n=function(e){var n=e.fontColorName,t=void 0===n?Jn.OU.White:n,i=e.fontOpacity,a=void 0===i?Jn.Y4.Solid:i;return{color:Jn.Rw(Jn.tZ[t],Jn.sT[a].opacityValue),animation:Jn.sT[a].animation}}(e),t=function(e){var n=e.backgroundOpacity,t=void 0===n?Jn.Y4.Solid:n,i=e.backgroundColorName,a=void 0===i?Jn.DA.Black:i;return Jn.Rw(Jn.Yi[a],Jn.sT[t].opacityValue)}(e),a=function(e){var n=e.windowColorName,t=void 0===n?Jn.DA.Transparent:n,i=e.windowOpacity,a=void 0===i?Jn.Y4.Solid:i;return{backgroundColor:Jn.Rw(Jn.Yi[t],Jn.sT[a].opacityValue)}}(e),r=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),n),Jn.yF[e.fontFamily]),Jn.K7[e.edge]),Jn.iB[e.verticalPosition]),Jn.o8[e.fontUnderline]),Jn.sy[e.fontItalic]),Jn.Bn[e.fontBold]),Jn.kf[e.alignment]),{backgroundColor:t});return{textStyles:ut(r,st),containerStyles:dt(r,st),windowContainerStyles:dt(r,lt),windowStyles:a}}var pt=function(e){function n(n){var t=e.call(this,n)||this;return t.CAPTION_THRESHOLD=10,t.onCaption=function(e){t.ccCounter=0,t.setState({data:ot(e)}),t.props.captionsAvailable||t.props.setClosedCaptionsAvailable(!0)},t.onSeekComplete=function(){t.clearCaption()},t.clearCaption=function(){t.setState({data:[]})},t.closedCaptionTick=function(){t.props.isPlaying&&!t.props.adIsPlaying&&t.ccCounter++,t.ccCounter===t.CAPTION_THRESHOLD&&t.clearCaption()},t.shouldShow=function(){return!t.props.error&&t.state.data.length&&t.props.captionsEnabled&&t.props.captionsAvailable},t.onResize=function(e){t.setState({width:e})},t.ccInterval=0,t.ccCounter=0,t.state={data:[],width:(0,nt.P)(n.videoContainer).width||0},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.TEXT_CUE,this.onCaption),this.props.playerEvents.addEventListener(L.a.SEEK_COMPLETED,this.onSeekComplete),this.ccInterval=setInterval(this.closedCaptionTick,1e3)},n.prototype.componentDidUpdate=function(e){var n=this;e.adIsPlaying!==this.props.adIsPlaying&&setTimeout((function(){n.setState({data:[]})}),500)},n.prototype.componentWillUnmount=function(){clearInterval(this.ccInterval)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=ct(this.props.captionsStyle),n=e.containerStyles,t=e.textStyles,i=e.windowContainerStyles,r=e.windowStyles;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($n.$,{onResize:this.onResize,debounceMs:50}),(0,a.jsx)("div",{className:l()("player-captions-container",{"player-captions-container__sm":this.state.width<=580}),style:n,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)(d.Fragment,{children:this.state.data.map((function(e,n){return(0,a.jsx)("div",{style:r,children:(0,a.jsx)("p",{style:t,className:"player-captions-container__caption-line",children:e})},e+n)}))},this.state.data.join())})})]})},n}(d.Component),mt=(0,_.Zz)((0,Ge.X)({name:"CaptionOverlay",content:(0,a.jsx)(at,{})}),(0,pe.c0)((function(e){return{captionsAvailable:e.captions.available,captionsEnabled:e.captions.enabled,captionsStyle:e.captions.style,setClosedCaptionsAvailable:e.setClosedCaptionsAvailable,videoContainer:e.videoContainer}})),(0,P.X)(),(0,E.dd)((function(e){var n=e.error;return{error:!!n}})),(0,ce.VX)((function(e){return{adIsPlaying:(0,et.cz)(e.videoAdMetadata)}})),(0,A.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})))(pt);var vt=t(722340),ft=t(588702),gt=t(982592);var ht=(0,_.Zz)((0,Ge.X)({name:"ChromecastOverlay"}),(0,gt.vM)((function(e){return{isCasting:(0,gt.mh)(e),deviceName:e.deviceName}})))((function(e){return e.isCasting?(0,a.jsx)(_n.FT,{transparency:_n.xL.Transparency5,type:_n.NL.Fullscreen,children:(0,a.jsx)(r.P,{margin:{top:2},textAlign:o.nO.Center,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:ft.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Now casting to {deviceName}",{deviceName:e.deviceName},"ChromecastOverlay")})})}):null}));var yt=t(961166),kt=t(569939),St=t(465356),_t=t(127540),Ct=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){var t=n.props,i=t.content,a=t.isPlaying,r=t.muted,o=t.onPlayerClick,s=t.volume,l=t.publicAPI;o&&o({event:e,state:{currentVideoOffsetTimestamp:n.getCurrentVideoOffsetTimestamp(),isPlaying:a,muted:r,volume:s},api:l,content:i})},n.onTouchEnd=function(e){e.preventDefault(),(0,n.props.togglePlayerActivity)(),n.onClick(e)},n.getCurrentVideoOffsetTimestamp=function(){var e=n.props,t=e.content,i=e.mediaPlayerInstance;return((0,j.Jn)(t)||(0,j.wy)(t)||(0,j.P3)(t))&&i?(0,_t.O)(Math.floor(i.getPosition())):null},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(sn.S,{position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)("div",{className:"click-handler","data-a-target":"player-overlay-click-handler",onDoubleClick:this.handleToggleFullscreen,onClick:this.onClick,onTouchEnd:this.onTouchEnd})})},n}(d.Component),bt=(0,_.Zz)((0,Ge.X)({name:"ClickHandlerOverlay"}),(0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,pe.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})),(0,kt.o1)(),(0,A.AP)((function(e){var n=e.isPlaying,t=e.muted,i=e.volume;return{isPlaying:n,muted:t,volume:i}})),(0,x.cj)((function(e){var n=e.content,t=(0,T.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen,i=(0,T.zB)({playerPublicPropsContext:e}).onPlayerClick;return{disableDoubleClickFullscreen:t,content:n,onPlayerClick:i}})),(0,St.BZ)((function(e){return{publicAPI:e}})),(0,yt.In)((function(e){var n=e.active,t=e.__doNotUse_SetPlayerActivity;return{togglePlayerActivity:function(){t(!n)}}})),H.y)(Ct);var Pt=t(67813),Et=t(723319),xt=t(97774),At=t(792486),Nt=t(509534),wt=t(298830),It=function(){var e=(0,d.useContext)(A.wL),n=e.play,t=e.isPlaying,i=e.pause,o=(0,d.useContext)(E.$g).mediaPlayerInstance,s=(0,c.hw)("Play","ClickToPlayPauseOverlay"),l=(0,c.hw)("Pause","ClickToPlayPauseOverlay"),u=(0,d.useState)(!1),p=u[0],m=u[1],v=(0,d.useCallback)((function(){m(!0)}),[]);(0,d.useEffect)((function(){v()}),[t,v]);var f=function(){return o?o.getDisplayHeight()<=240?30:o.getDisplayHeight()>=480?80:Math.round(o.getDisplayHeight()*(1/6)):60},g=function(){return o?o.getDisplayHeight()<=240?"6rem":o.getDisplayHeight()>=480?"10rem":"".concat(Math.round(o.getDisplayHeight()*(1/3)),"px"):"10rem"};return(0,a.jsx)(r.P,{color:"overlay",width:"fit-content",height:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(Pt.e,{show:p,type:[Et.ES.ScaleOver,Et.ES.Fade],children:(0,a.jsx)(sn.S,{borderRadius:xt.Z.Rounded,background:"overlay",height:g(),width:g(),children:(0,a.jsx)(At.M,{onClick:function(){t?i({userTriggered:!0}):n({userTriggered:!0})},"aria-label":t?l:s,children:(0,a.jsx)(r.P,{display:"flex",alignItems:"center",justifyContent:"center",color:"overlay",children:t?(0,a.jsx)(Nt.i,{size:f()}):(0,a.jsx)(wt.A,{size:f()})})})})})})},Tt=t(187033),Dt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={audioBlockedCTATimeoutElapsed:!1},n.setAudioBlockedCTATimeoutElapsed=function(){n.setState((function(e){return e.audioBlockedCTATimeoutElapsed?null:{audioBlockedCTATimeoutElapsed:!0}}))},n.handleClick=function(){n.props.setMuted(!1,{persist:!0,userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.overlayDuration>=0&&isFinite(this.props.overlayDuration)&&(this.visibleTimeout=setTimeout(this.setAudioBlockedCTATimeoutElapsed,this.props.overlayDuration))},n.prototype.componentWillUnmount=function(){clearTimeout(this.visibleTimeout)},n.prototype.render=function(){var e=this.props,n=e.canShow,t=e.initialMuted,i=e.muted,s=e.showOverlay,l=e.audioBlocked,d=e.userEverUnmuted;if(!n)return null;var u=!!i&&t&&s&&!d,p=l&&!this.state.audioBlockedCTATimeoutElapsed,m=u||p;return(0,a.jsx)(Pt.e,{show:m,type:Et.ES.Fade,children:(0,a.jsx)("div",{onClick:this.handleClick,className:"click-to-unmute__container",children:(0,a.jsxs)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency5,children:[(0,a.jsx)(Tt.x,{size:35}),(0,a.jsx)(r.P,{margin:{top:2},children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size6,bold:!0,lineHeight:ft.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Click to unmute","AutomatedMuteOverlay")})})]})})})},n}(d.Component),Ft=(0,_.Zz)((0,Ge.X)({name:"ClickToUnmuteOverlay"}),(0,A.AP)((function(e){var n=e.setMuted;return{setMuted:n}})),(0,E.dd)((function(e){var n=e.audioBlocked,t=e.updateContext,i=e.muted,a=e.userEverUnmuted;return{audioBlocked:n,updateContext:t,muted:i,userEverUnmuted:a}})),(0,x.cj)((function(e){var n,t,i,a=(0,T.wk)({playerPublicPropsContext:e}).initialMuted;return{initialMuted:null!==(n=null==a?void 0:a.enabled)&&void 0!==n&&n,showOverlay:null!==(t=null==a?void 0:a.showOverlay)&&void 0!==t&&t,overlayDuration:null!==(i=null==a?void 0:a.overlayDuration)&&void 0!==i?i:5e3}})),(0,kt.o1)())(Dt);function Ot(){return(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.DeadGlitch},text:(0,c.hw)("This clip is no longer available","ClipEmbedErrorOverlay")})}var Rt,Vt,Mt=t(486489),Lt=t(847388),jt=t(540943);!function(e){e.Clip="clip",e.Live="live_channel",e.VOD="vod"}(Rt||(Rt={})),function(e){e.Broadcaster="channel_popular_clips",e.Game="game_popular_clips",e.Top="popular_clips"}(Vt||(Vt={}));function Bt(e,n,t){var a=new URL(e),r=""!==a.search?Ie.parse(a.search):{};return a.search=Ie.stringify((0,i.__assign)((0,i.__assign)({},r),{tt_content:n,tt_medium:t})),a.toString()}function Ut(e){return e?{channelLogin:e.login||"",displayName:e.displayName||e.login||""}:{channelLogin:"",displayName:""}}function qt(e,n,t){return(0,i.__assign)((0,i.__assign)({},Ut(e.broadcaster)),{category:n,content:{channelLogin:e.broadcaster&&e.broadcaster.login||void 0,clipSlug:e.slug,type:Z.FC.Clip},durationSeconds:e.durationSeconds,gameName:e.game?e.game.displayName:"",itemID:e.id,imageUrl:e.thumbnailURL,title:e.title,tracking:{content:"recommendation",medium:t},type:Rt.Clip,viewCount:e.viewCount})}function Gt(e,n){var t=[];if(!e.clip||!e.clip.broadcaster)return t;var a=Ut(e.clip.broadcaster);return function(e){return!!(e.clip&&e.clip.broadcaster&&e.clip.broadcaster.stream&&e.clip.broadcaster.stream.id)}(e)&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n){return{content:{channelLogin:e.login||"",type:Z.FC.Live},gameName:e.stream&&e.stream.game?e.stream.game.displayName:"",itemID:e.id||"",imageUrl:Bt(e.stream&&e.stream.previewImageURL||"","recommend_stream_img",n),tracking:{content:"recommend_stream_link",medium:n},type:Rt.Live}}(e.clip.broadcaster,n))),e.clip.video&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n,t){var i=e.game?e.game.displayName:"";return{content:{videoOffset:n||void 0,vodID:e.id,type:Z.FC.VOD},durationSeconds:e.lengthSeconds||0,gameName:i,itemID:e.id,imageUrl:Bt(e.previewThumbnailURL,"recommend_vod_img",t),tracking:{content:"recommend_vod_link",medium:t},type:Rt.VOD}}(e.clip.video,e.clip.videoOffsetSeconds,n))),t.length<2&&e.clip.relatedClips&&t.push.apply(t,function(e,n,t){var i=[];if(e.broadcaster){var a=e.broadcaster.map((function(e){return qt(e,Vt.Broadcaster,t)}));i.push.apply(i,a)}if(e.game&&i.length<n){var r=e.game.map((function(e){return qt(e,Vt.Game,t)}));i.push.apply(i,r)}if(e.top&&i.length<n){var o=e.top.map((function(e){return qt(e,Vt.Top,t)}));i.push.apply(i,o)}return i}(e.clip.relatedClips,2-t.length,n)),t.slice(0,2)}var zt=t(663953),Ht=t(725681),Wt=t(65538),Kt=t(235233),Zt=t(973474),Qt=t(468777),Yt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderOverlay=function(){var e=n.props.typeOverlay;return e?e.type===Z.FC.Live?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(zt.qd,{label:(0,c.hw)("LIVE","VideoPlayerVideoCard")})})}):e.type===Z.FC.VOD?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(Ht.L,{icon:wt.A,children:(0,Qt.X)(e.durationInSeconds)})})}):e.type===Z.FC.Clip?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(Ht.L,{icon:Wt.y,children:(0,Qt.X)(e.durationInSeconds)})})}):void 0:null},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onSelect,i=e.info,s=e.content,l=e.marginBottom,d=void 0===l?1:l,u=e.targetBlank,p=e.getContentUrl,m=e.trackingContext;return(0,a.jsx)(sn.S,{borderRadius:xt.Z.Small,display:o.nl.Block,margin:{bottom:d},attachTop:!0,attachBottom:!0,children:(0,a.jsxs)(At.M,{linkTo:p(s,m),targetBlank:u,className:"offline-recommendations-video-card",onClick:t,children:[(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-2",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-3",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-4",children:(0,a.jsx)(Kt.j$,{ratio:16/9,children:(0,a.jsx)("div",{style:{backgroundImage:'url("https://vod-secure.twitch.tv/_404/404_processing_640x360.png")',backgroundSize:"cover"},children:(0,a.jsx)(Zt.L,{className:"offline-recommendations-video-card-img",src:n.previewThumbnailURL,alt:(0,c.hw)("Video Thumbnail","VideoCard")})})})})})}),i&&(0,a.jsx)(r.P,{padding:{bottom:1},textAlign:o.nO.Left,color:o.Q1.Overlay,margin:{top:1},children:i}),this.renderOverlay()]})})},n}(d.Component),Xt=(0,K.e)()(Yt),$t=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getTitle=function(e){switch(e.type){case Rt.Live:return(0,c.hw)("Watch {channelDisplayName} Live",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard");case Rt.VOD:return(0,c.hw)("Continue Watching","ClipPostplayRecommendationCard");case Rt.Clip:return e.title;default:return""}},n.getSubtitle=function(e){if(e.type===Rt.Clip){var n=(0,c.hw)("{viewCount} views",{viewCount:e.viewCount},"ClipPostplayRecommendationCard");return e.gameName?"".concat(n,"  ").concat(e.gameName):n}return e.gameName?(0,c.hw)("{channelDisplayName} playing {gameName}",{channelDisplayName:e.displayName,gameName:e.gameName},"ClipPostplayRecommendationCard"):e.type===Rt.Live?(0,c.hw)("{channelDisplayName} streaming on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):e.type===Rt.VOD?(0,c.hw)("{channelDisplayName}'s video on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):""},n.getTypeOverlay=function(e){switch(e.type){case Rt.Live:return{type:Z.FC.Live};case Rt.VOD:return{durationInSeconds:e.durationSeconds,type:Z.FC.VOD};case Rt.Clip:return{durationInSeconds:e.durationSeconds,type:Z.FC.Clip};default:return}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.recommendation,t=e.targetBlank,i=e.trackSelectionClick;return(0,a.jsx)(Xt,{video:{previewThumbnailURL:n.imageUrl,title:this.getTitle(n)},content:n.content,onSelect:i,info:(0,a.jsxs)(kn.N,{fontSize:o.Z4.Size6,ellipsis:!0,children:[this.getTitle(n),(0,a.jsx)("br",{}),this.getSubtitle(n)]}),typeOverlay:this.getTypeOverlay(n),targetBlank:t,trackingContext:n.tracking})},n}(d.Component),Jt=(0,x.cj)()($t);function ei(e){return e&&e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login||null}function ni(e){return e&&e.clip&&e.clip.game&&e.clip.game.name||null}function ti(e){return e&&e.clip&&e.clip.id||null}function ii(e){return e.map((function(e){return e.type})).join(",")}function ai(e){return e.map((function(e){return e.type===Rt.Clip?e.viewCount:"null"})).join(",")}function ri(e){return{carousel_content:"similar_clips",section_index:0,source_channel:ei(e),source_game:ni(e),source_item_type:"clips",source_vod_id:ti(e)}}var oi=t(495311),si=t(4711),li=t.n(si),di=(0,z._v)(li(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}},skip:function(e){return!e.clipSlug}}),ui=(0,_.Zz)((0,Ge.X)({name:"ClipPostplayRecommendations"}),(0,x.cj)((function(e){var n,t=e.content,i=e.behaviors;return{clipSlug:(0,j.Qc)(t),isEmbedded:!!(null==i?void 0:i.embed),medium:null===(n=null==i?void 0:i.linkTrackingContext)||void 0===n?void 0:n.medium}})),(0,kt.o1)(),di,(0,pe.c0)((function(e){var n=e.setRecommendationsShowing,t=e.recommendationsShowing;return{setRecommendationsShowing:n,recommendationsShowing:t}})))((function(e){var n,t=d.useRef(!1),s=d.useContext(E.$g);if((0,we.S)((function(){return function(){return e.setRecommendationsShowing(!1)}})),d.useEffect((function(){return e.data&&e.data.clip&&e.setRecommendationsShowing(!0),function(){return e.setRecommendationsShowing(!1)}}),[e,e.data]),d.useEffect((function(){var n,a;t.current||!e.data||e.data.loading||e.data.error||(e.track("item_section_load",(0,i.__assign)((0,i.__assign)({},ri(e.data)),{num_recs_visible:(n=Gt(e.data,e.medium)).length,rendered_item_count:n.length,rendered_item_list:(a=n,a.map((function(e){return e.itemID})).join(",")),rendered_items_types:ii(n),rendered_items_viewcounts:ai(n)})),t.current=!0)})),!!(s.isPlayerCoreLoading||(0,fe.TN)(s)||(0,fe.i_)(s)||!s.hasPlayed&&s.sourceStatus!==oi.O.None)||(null===(n=e.data)||void 0===n?void 0:n.loading))return(0,a.jsx)(_n.FT,{transparency:_n.xL.Transparency1,type:_n.NL.Fullscreen,children:(0,a.jsx)(r.P,{className:"clip-postplay-recommendations",display:o.nl.Flex,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Center,alignItems:o.k2.Center,margin:{x:1},children:(0,a.jsx)(Mt.k,{fillContent:!0})})});if(!e.data||!e.data.clip||!e.recommendationsShowing)return null;var l=Gt(e.data,e.medium);return(0,a.jsx)(_n.FT,{transparency:_n.xL.Transparency1,type:_n.NL.Fullscreen,children:(0,a.jsx)(r.P,{className:"clip-postplay-recommendations",display:o.nl.Flex,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Center,alignItems:o.k2.Center,margin:{x:1},children:(0,a.jsx)(Lt.x,{justifyContent:o.A9.Center,children:l.map((function(n){return(0,a.jsx)(jt.VP,{cols:6,children:(0,a.jsx)(Jt,{recommendation:n,trackSelectionClick:function(){return function(n){e.track("item_section_click",(0,i.__assign)((0,i.__assign)({},ri(e.data)),{content:n.type===Rt.Clip?n.category:null,channel:n.channelLogin,item_id:n.itemID,item_type:n.type,item_viewcount:n.type===Rt.Clip?n.viewCount:null}))}(n)},targetBlank:e.isEmbedded})},n.itemID)}))})})})}));var ci=t(902418),pi=t(927784),mi=t(82984),vi=function(e){function n(n){var t=e.call(this,n)||this;return t.setRef=function(e){t.setState({clipboardInput:e})},t.copy=function(e){var n;try{t.state.clipboardInput&&t.state.clipboardInput.select(),n=document.execCommand("copy")}catch(e){n=!1}return t.props.onClick&&t.props.onClick(e),t.setState({copied:n}),n},t.state={copied:!1,clipboardInput:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.state.copied?(0,c.hw)("copied","CopyButton"):(0,c.hw)("copy","CopyButton");return(0,a.jsxs)(r.P,{className:"copy-button copy-btn",display:o.nl.Flex,children:[(0,a.jsx)(sn.S,{className:"copy-button__btn",children:(0,a.jsx)(Fn.$n,{onClick:this.copy,variant:this.state.copied?Fn.VQ.Success:Fn.VQ.Primary,children:e})}),(0,a.jsx)("input",{"aria-hidden":!0,className:"copy-button__copy-input",ref:this.setRef,value:this.props.clipboardText,readOnly:!0})]})},n}(d.Component),fi=(0,_.Zz)((0,mi.W)("CopyButton"))(vi),gi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:n.props.initialText},n.onChange=function(e){n.setState({value:e.currentTarget.value})},n.handleInputClick=function(e){n.props.onInputClick&&n.props.onInputClick(e)},n.handleButtonClick=function(e){n.props.onButtonClick&&n.props.onButtonClick(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){return this.state&&this.state.value?(0,a.jsxs)(r.P,{className:"copyable-item",display:o.nl.Flex,flexGrow:1,children:[(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(pi.pd,{disabled:this.props.disabled,onChange:this.onChange,onClick:this.handleInputClick,readOnly:this.props.readOnly,type:pi.NZ.Text,value:this.state.value,overlay:this.props.overlay})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(fi,{clipboardText:this.state.value,onClick:this.handleButtonClick})})]}):null},n}(d.Component),hi=(0,_.Zz)((0,mi.W)("CopyableItem"))(gi),yi=t(291822),ki=t(523540),Si=t(956174),_i=t.n(Si),Ci=t(265430);function bi(e,n){void 0===n&&(n={});var t=n.title,i=n.broadcaster,a=t||"",r="";return!a&&i&&(a=(0,c.hw)("Check out this clip from {broadcaster}'s broadcast",{broadcaster:i},"ClipShareOverlay")),a||(a=(0,c.hw)("Check out this clip","ClipShareOverlay")),"twitter"===e&&(r=" ".concat("#twitchclips"," "),a=(0,Ci.W)(a,117-r.length)),a+r}var Pi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getInputText=function(e){return(0,Q.Yk)(e,{tt_medium:"clips_api",tt_content:"url"})},n.handleCopyClick=function(){return n.trackShareClick("copy")},n.trackShareClick=function(e){n.props.track("video_share",{share_platform:ki.mO[e],location:"embed"})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipSlug;if(!e)return null;var n=(0,c.hw)("Sharing is Caring","ClipShareOverlay"),t=this.getInputText(e),i=this.getClipMetaData(this.props);return(0,a.jsxs)(_n.FT,{transparency:_n.xL.Transparency3,type:_n.NL.Fullscreen,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachTop:!0,margin:{top:2,left:2,right:2},children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close clip sharing dialog","AdstatsOverlay"),overlay:!0,icon:dn.g,size:ci.f.Large,onClick:this.props.toggleClipSharing})}),(0,a.jsx)(Pt.e,{show:!0,transitionInitialMount:!0,type:Et.ES.SlideOverBottom,children:(0,a.jsxs)(r.P,{children:[(0,a.jsx)(r.P,{textAlign:o.nO.Center,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size3,children:n})}),(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{top:2,bottom:2},justifyContent:o.A9.Center,children:[(0,a.jsx)(yi.y,{size:"large",type:"twitter",onShareClick:this.trackShareClick,url:(0,Q.Yk)(e,{tt_content:"url",tt_medium:"twtr"}),text:bi("twitter",i)}),(0,a.jsx)(yi.y,{size:"large",type:"facebook",onShareClick:this.trackShareClick,url:(0,Q.Yk)(e,{tt_content:"url",tt_medium:"fb"})}),(0,a.jsx)(yi.y,{size:"large",type:"reddit",onShareClick:this.trackShareClick,url:(0,Q.Yk)(e,{tt_content:"url",tt_medium:"redt"}),text:bi("reddit",i)}),(0,a.jsx)(yi.y,{size:"large",type:"embed",clipSlug:e,embedModalType:"clip"})]}),(0,a.jsx)(r.P,{padding:{top:2},display:o.nl.Flex,flexGrow:1,borderTop:!0,children:(0,a.jsx)(hi,{initialText:t,onButtonClick:this.handleCopyClick,onInputClick:this.handleCopyClick,overlay:!0,readOnly:!0})})]})})]})},n.prototype.getClipMetaData=function(e){return{title:e.data&&e.data.clip&&e.data.clip.title||"",broadcaster:e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.login||""}},n}(d.Component),Ei=(0,_.Zz)((0,Ge.X)({name:"ClipShareOverlay"}),(0,pe.c0)((function(e){var n=e.toggleClipSharing;return{toggleClipSharing:n}})),(0,x.cj)((function(e){var n=e.content;return{clipSlug:(0,j.Qc)(n)}})),(0,z._v)(_i(),{skip:function(e){return!e.clipSlug},options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}}}),(0,kt.o1)())(Pi);var xi=t(818578),Ai=t(627561),Ni=t(539896),wi=t(181791),Ii=t(536250),Ti=t(336853),Di=function(e){var n=e.colors,t=e.onSelect;return(0,a.jsx)("div",{className:"closed-captions-settings-color-selector",children:(0,a.jsx)(Ti.n,{colors:n,onSelect:t})})},Fi=t(950962),Oi=function(e){return(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Fi.gE,(0,i.__assign)({},e,{orientation:e.orientation||Fi.aG.Vertical,children:e.children}))})},Ri=function(e){var n=e.leftSide,t=e.rightSide;return(0,a.jsxs)(Lt.x,{gutterSize:Lt.V.Medium,children:[(0,a.jsx)(jt.VP,{cols:{default:6},children:n}),(0,a.jsx)(jt.VP,{cols:{default:6},children:t})]})};function Vi(e){switch(e){case Jn.Pf.WhiteOnBlack:return(0,c.hw)("White on Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.BlackOnWhite:return(0,c.hw)("Black on White","ClosedCaptionsSettingsPresetTab");case Jn.Pf.CyanOnBlack:return(0,c.hw)("Cyan on Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.YellowOnBlack:return(0,c.hw)("Yellow on Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.LimeOnBlack:return(0,c.hw)("Lime on Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.MagentaOnBlack:return(0,c.hw)("Magenta on Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.WhiteOnTransBlack:return(0,c.hw)("White on Transparent Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.CyanOnTransBlack:return(0,c.hw)("Cyan on Transparent Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.YellowOnTransBlack:return(0,c.hw)("Yellow on Transparent Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.LimeOnTransBlack:return(0,c.hw)("Lime on Transparent Black","ClosedCaptionsSettingsPresetTab");case Jn.Pf.MagentaOnTransBlack:return(0,c.hw)("Magenta on Transparent Black","ClosedCaptionsSettingsPresetTab");default:return""}}function Mi(e){switch(e){case Jn.zz.Bold:return(0,c.hw)("Bold","ClosedCaptionsSettingsFontStyleSelector");case Jn.zz.Underline:return(0,c.hw)("Underline","ClosedCaptionsSettingsFontStyleSelector");case Jn.zz.Italic:return(0,c.hw)("Italic","ClosedCaptionsSettingsFontStyleSelector");default:return""}}function Li(e){switch(e){case Jn.wX.Depressed:return(0,c.hw)("Depressed","ClosedCaptionsSettingsFontEdgeEffectSelector");case Jn.wX.Uniform:return(0,c.hw)("Uniform","ClosedCaptionsSettingsFontEdgeEffectSelector");case Jn.wX.Drop:return(0,c.hw)("Drop","ClosedCaptionsSettingsFontEdgeEffectSelector");case Jn.wX.Raised:return(0,c.hw)("Raised","ClosedCaptionsSettingsFontEdgeEffectSelector");case Jn.wX.None:return(0,c.hw)("None","ClosedCaptionsSettingsFontEdgeEffectSelector");default:return""}}var ji,Bi=[Jn.DA.Transparent,Jn.DA.White,Jn.DA.LightGray,Jn.DA.Gray,Jn.DA.DarkGray,Jn.DA.Black,Jn.DA.Green,Jn.DA.Blue,Jn.DA.Cyan,Jn.DA.Magenta,Jn.DA.Yellow,Jn.DA.Red],Ui="ClosedCaptionsSettingsBackgroundAndWindowTabs",qi=function(e){var n=e.currentColor,t=e.currentOpacity,i=e.onSelectColor,r=e.onSelectOpacity,o=(0,a.jsx)(Oi,{label:(0,c.hw)("Opacity","ClosedCaptionsSettingsBackgroundAndWindowTabs"),id:"".concat(Ui,"-opacity"),orientation:"vertical",children:(0,a.jsx)(Gi,{currentOpacity:t,onChange:r})}),s=(0,a.jsx)(Oi,{label:(0,c.hw)("Color","ClosedCaptionsSettingsBackgroundAndWindowTabs"),orientation:"vertical",children:(0,a.jsx)(zi,{currentColor:n,onSelect:i})});return(0,a.jsx)(Ri,{leftSide:o,rightSide:s})},Gi=function(e){var n=e.currentOpacity,t=e.onChange;return(0,a.jsxs)(Dn.l,{size:In.Y.Small,onChange:t,value:n,id:"".concat(Ui,"-opacity"),children:[(0,a.jsx)("option",{value:Jn.Y4.Solid,children:(0,c.hw)("Solid","ClosedCaptionsSettingsBackgroundAndWindowTabs")}),(0,a.jsx)("option",{value:Jn.Y4.Translucent,children:(0,c.hw)("Translucent","ClosedCaptionsSettingsBackgroundAndWindowTabs")})]})},zi=function(e){var n=e.onSelect,t=e.currentColor;return(0,a.jsx)(Di,{onSelect:n,colors:Bi.map((function(e){return{id:e,label:(0,Ii.A)(e),cssValue:(0,Jn.Rw)(Jn.Yi[e],1),selected:t===e}}))})},Hi=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=d.useCallback((function(e){t("backgroundColorName",e.id||"")}),[t]),r=d.useCallback((function(e){t("backgroundOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(qi,{currentColor:n.style.backgroundColorName,currentOpacity:n.style.backgroundOpacity,onSelectColor:i,onSelectOpacity:r})},Wi=t(736585),Ki=t(965645),Zi=function(e){var n=e.children;return(0,a.jsx)(r.P,{className:"closed-captions-preview",display:o.nl.Flex,children:n})},Qi=function(e){var n=e.fontSize,t=e.styles;return(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:1,className:"closed-captions-style-preview",children:(0,a.jsx)(sn.S,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,flexGrow:1,children:(0,a.jsx)("div",{style:(0,i.__assign)((0,i.__assign)({},ct(t).textStyles),{fontSize:n}),children:(0,c.hw)("Aa","ClosedCaptionSettingsStylePreview")})})})},Yi=function(e){var n=e.captionStyles,t=e.setEdgeEffect,s=d.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(Oi,{label:(0,c.hw)("Effect","FontEdgeEffectSelector"),orientation:"vertical",children:(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.Wrap,children:[Jn.wX.None,Jn.wX.Raised,Jn.wX.Drop,Jn.wX.Depressed,Jn.wX.Uniform].map((function(e){return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(Wi.cv,{label:Li(e),children:(0,a.jsx)(Ki.nx,{name:"effects",borderRadius:xt.Z.Medium,checked:n.edge===e,type:Ki.h8.Radio,onChange:s,value:e,children:(0,a.jsxs)(Zi,{children:[e===Jn.wX.None&&(0,a.jsx)("hr",{className:"font-edge-effect-selector__no-effect-indicator"}),(0,a.jsx)(Qi,{styles:(0,i.__assign)((0,i.__assign)({},Jn.qS[Jn.Pf.WhiteOnBlack]),{backgroundColorName:Jn.DA.LightGray,edge:e}),fontSize:16})]})})})},e)}))})})},Xi=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,s=d.useCallback((function(){return t(Jn.zz.Bold,i.fontBold===Jn.dP.Bold?Jn.dP.Normal:Jn.dP.Bold)}),[i.fontBold,t]),l=d.useCallback((function(){return t(Jn.zz.Underline,i.fontUnderline===Jn.mK.Underline?Jn.mK.None:Jn.mK.Underline)}),[i.fontUnderline,t]),u=d.useCallback((function(){return t(Jn.zz.Italic,i.fontItalic===Jn.Yf.Italic?Jn.Yf.Normal:Jn.Yf.Italic)}),[i.fontItalic,t]),p=d.useCallback((function(e){return t("edge",e)}),[t]),m=(0,a.jsx)(Oi,{label:(0,c.hw)("Style","ClosedCaptionsSettingsEffectsTab"),orientation:"vertical",children:(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,children:[(0,a.jsx)($i,{name:Jn.zz.Bold,checked:i.fontBold===Jn.dP.Bold,toggleFontStyle:s,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size3,bold:!0,children:(0,c.hw)("B","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)($i,{name:Jn.zz.Italic,checked:i.fontItalic===Jn.Yf.Italic,toggleFontStyle:u,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size3,italic:!0,children:(0,c.hw)("I","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)($i,{name:Jn.zz.Underline,checked:i.fontUnderline===Jn.mK.Underline,toggleFontStyle:l,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size3,decoration:ft.i8.Underline,children:(0,c.hw)("U","ClosedCaptionsSettingsEffectsTab")})})]})});return(0,a.jsx)(Ri,{leftSide:m,rightSide:(0,a.jsx)(Yi,{captionStyles:i,setEdgeEffect:p})})},$i=function(e){var n=e.name,t=e.checked,i=e.children,s=e.toggleFontStyle;return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(Wi.cv,{label:Mi(n),children:(0,a.jsx)(Ki.nx,{onChange:s,checked:t,type:Ki.h8.Checkbox,borderRadius:xt.Z.Medium,children:(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,className:"font-style-selector",children:i})})})},n)},Ji=function(e){var n=e.captions,t=e.setClosedCaptionsStylesPreset,i=d.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(r.P,{display:o.nl.Flex,flexWrap:o.I4.Wrap,margin:{top:1},children:Object.entries(Jn.qS).map((function(e){var t=e[0],o=e[1];return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(Wi.cv,{label:Vi(t),children:(0,a.jsx)(Ki.nx,{name:"presets","aria-label":Vi(t),borderRadius:xt.Z.Medium,checked:n.preset===t,type:Ki.h8.Radio,onChange:i,value:t,children:(0,a.jsx)(Zi,{children:(0,a.jsx)(Qi,{styles:o,fontSize:14})})})})},t)}))})},ea=t(25437),na="ClosedCaptionsSettingsBackgroundAndWindowTabs",ta=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=d.useCallback((function(e){t("fontFamily",e.currentTarget.value)}),[t]),r=d.useCallback((function(e){t("fontOpacity",e.currentTarget.value)}),[t]),o=d.useCallback((function(e){t("alignment",e.currentTarget.value)}),[t]),s=d.useCallback((function(e){t("verticalPosition",e.currentTarget.value)}),[t]),l=d.useCallback((function(e){t("fontColorName",e.id||"")}),[t]),u=d.useCallback((function(e){t("fontSize",Number(e.currentTarget.value))}),[t]),p=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Oi,{label:(0,c.hw)("Font","ClosedCaptionsSettingsTextTab"),id:"".concat(na,"-font"),orientation:"vertical",children:(0,a.jsx)(oa,{currentFontFamily:n.style.fontFamily,onChange:i})}),(0,a.jsx)(Oi,{label:(0,c.hw)("Text Size","ClosedCaptionsSettingsTextTab"),id:"".concat(na,"-font-size"),orientation:"vertical",children:(0,a.jsx)(la,{currentFontSize:n.style.fontSize,onChange:u,previewStyle:n.style})}),(0,a.jsx)(Oi,{label:(0,c.hw)("Color","ClosedCaptionsSettingsTextTab"),orientation:"vertical",children:(0,a.jsx)(sa,{currentFontColorName:n.style.fontColorName,onSelect:l})})]}),m=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Oi,{label:(0,c.hw)("Alignment","ClosedCaptionsSettingsTextTab"),id:"".concat(na,"-alignment"),orientation:"vertical",children:(0,a.jsx)(ra,{onChange:o,currentAlignment:n.style.alignment})}),(0,a.jsx)(Oi,{label:(0,c.hw)("Position","ClosedCaptionsSettingsTextTab"),id:"".concat(na,"-position"),orientation:"vertical",children:(0,a.jsx)(ia,{onChange:s,currentVerticalPosition:n.style.verticalPosition})}),(0,a.jsx)(Oi,{label:(0,c.hw)("Opacity","ClosedCaptionsSettingsTextTab"),id:"".concat(na,"-opacity"),orientation:"vertical",children:(0,a.jsx)(aa,{onChange:r,currentOpacity:n.style.fontOpacity})})]});return(0,a.jsx)(Ri,{leftSide:p,rightSide:m})},ia=function(e){var n=e.onChange,t=e.currentVerticalPosition;return(0,a.jsxs)(Dn.l,{size:In.Y.Small,onChange:n,value:t,id:"".concat(na,"-position"),children:[(0,a.jsx)("option",{value:Jn.G0.Bottom,children:(0,c.hw)("Bottom","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.G0.Top,children:(0,c.hw)("Top","ClosedCaptionsSettingsTextTab")})]})},aa=function(e){var n=e.onChange,t=e.currentOpacity;return(0,a.jsxs)(Dn.l,{size:In.Y.Small,onChange:n,value:t,id:"".concat(na,"-opacity"),children:[(0,a.jsx)("option",{value:Jn.Y4.Solid,children:(0,c.hw)("Solid","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.Y4.Translucent,children:(0,c.hw)("Translucent","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.Y4.SemiTransparent,children:(0,c.hw)("Semi-Transparent","ClosedCaptionsSettingsTextTab")})]})},ra=function(e){var n=e.onChange,t=e.currentAlignment;return(0,a.jsxs)(Dn.l,{size:In.Y.Small,onChange:n,value:t,id:"".concat(na,"-alignment"),children:[(0,a.jsx)("option",{value:Jn.$3.Left,children:(0,c.hw)("Left","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.$3.Center,children:(0,c.hw)("Center","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.$3.Right,children:(0,c.hw)("Right","ClosedCaptionsSettingsTextTab")})]})},oa=function(e){var n=e.onChange,t=e.currentFontFamily;return(0,a.jsxs)(Dn.l,{size:In.Y.Small,onChange:n,value:t,id:"".concat(na,"-font"),children:[(0,a.jsx)("option",{value:Jn.ay.MonoSerif,children:(0,c.hw)("Mono Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.Serif,children:(0,c.hw)("Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.MonoSansSerif,children:(0,c.hw)("Mono Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.SansSerif,children:(0,c.hw)("Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.Casual,children:(0,c.hw)("Casual","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.Cursive,children:(0,c.hw)("Cursive","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:Jn.ay.SmallCapitals,children:(0,c.hw)("Small Capitals","ClosedCaptionsSettingsTextTab")})]})},sa=function(e){var n=e.onSelect,t=e.currentFontColorName;return(0,a.jsx)(Di,{onSelect:n,colors:[Jn.OU.White,Jn.OU.Black,Jn.OU.Red,Jn.OU.Green,Jn.OU.Cyan,Jn.OU.Magenta,Jn.OU.Yellow,Jn.OU.Blue].map((function(e){return{id:e,label:(0,Ii.A)(e),cssValue:(0,Jn.Rw)(Jn.tZ[e],1),selected:t===e}}))})},la=function(e){var n=e.currentFontSize,t=e.onChange,i=e.previewStyle;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(ea.Q,{min:Jn.z9.min,max:Jn.z9.max,step:Jn.z9.increment,value:String(n),onChange:t,id:"".concat(na,"-font-size")}),(0,a.jsx)(r.P,{className:"closed-captions-settings-font-size__preview",display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,padding:{left:.5},children:(0,a.jsx)(Qi,{styles:i,fontSize:i.fontSize})})]})})},da=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,r=d.useCallback((function(e){t("windowColorName",e.id||"")}),[t]),o=d.useCallback((function(e){t("windowOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(qi,{currentColor:i.windowColorName,currentOpacity:i.windowOpacity,onSelectColor:r,onSelectOpacity:o})};!function(e){e[e.Presets=0]="Presets",e[e.Text=1]="Text",e[e.Effects=2]="Effects",e[e.Background=3]="Background",e[e.Window=4]="Window"}(ji||(ji={}));var ua="cc-settings-overlay",ca=(0,_.Zz)((0,Ge.X)({name:"ClosedCaptionsSettingsOverlay"}),(0,pe.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing,i=e.setClosedCaptionsStyles,a=e.setClosedCaptionsStylesPreset;return{captions:n,setClosedCaptionsSettingsShowing:t,setClosedCaptionsStyles:i,setClosedCaptionsStylesPreset:a}})))((function(e){var n=(0,d.useState)(ji.Presets),t=n[0],i=n[1],s=(0,d.useRef)(null);(0,wi.N)({id:ua,focusableElementsQuerySelector:"button, a, input:checked, select",deps:[t]});var l=(0,d.useCallback)((function(){e.setClosedCaptionsSettingsShowing(!1)}),[e]),u=d.useCallback((function(e){"Escape"===e.key&&l()}),[l]),p=function(e,n){i(n)},m=function(n,t){var i;e.setClosedCaptionsStyles(((i={})[n]=t,i))};return(0,d.useEffect)((function(){s.current&&s.current.focus()}),[]),(0,d.useEffect)((function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}}),[u]),(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency10,children:(0,a.jsx)(Ni.V,{onClickOut:l,children:(0,a.jsxs)(r.P,{id:ua,role:"dialog",ref:s,background:o.VS.Base,color:o.Q1.Base,className:"cc-settings-overlay__modal",padding:2,tabIndex:-1,children:[(0,a.jsx)(xi.r,{title:(0,c.hw)("Closed Caption Settings","ClosedCaptionsSettingsOverlay"),closeButton:{"aria-label":(0,c.hw)("Close Closed Caption Settings","ClosedCaptionsSettingsOverlay"),onClick:l}}),(0,a.jsx)(Ai.t,{activeTabIndex:t,tabs:[{label:(0,c.hw)("Presets","ClosedCaptionsSettingsOverlay"),onClick:p},{label:(0,c.hw)("Text","ClosedCaptionsSettingsOverlay"),onClick:p},{label:(0,c.hw)("Effects","ClosedCaptionsSettingsOverlay"),onClick:p},{label:(0,c.hw)("Background","ClosedCaptionsSettingsOverlay"),onClick:p},{label:(0,c.hw)("Window","ClosedCaptionsSettingsOverlay"),onClick:p}]}),function(){switch(t){case ji.Presets:return(0,a.jsx)(Ji,{setClosedCaptionsStylesPreset:e.setClosedCaptionsStylesPreset,captions:e.captions});case ji.Text:return(0,a.jsx)(ta,{setClosedCaptionsStyleProperty:m,captions:e.captions});case ji.Effects:return(0,a.jsx)(Xi,{setClosedCaptionsStyleProperty:m,captions:e.captions});case ji.Background:return(0,a.jsx)(Hi,{setClosedCaptionsStyleProperty:m,captions:e.captions});case ji.Window:return(0,a.jsx)(da,{setClosedCaptionsStyleProperty:m,captions:e.captions});default:return null}}()]})})})}));var pa,ma=t(779075),va=function(){return(0,a.jsx)(ma.t,{name:"CollectionEmptyOverlay",children:(0,a.jsx)(r.P,{position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:o.k2.Center,color:o.Q1.Overlay,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,textAlign:o.nO.Center,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:ft.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("This collection is empty.","VideoPlayerCollectionEmptyOverlay")})})})},fa=t(70931),ga=t(636367),ha=t(702671),ya=t(718254),ka=t.n(ya);function Sa(e){return null!==e}function _a(){clearTimeout(pa)}var Ca=(0,_.Zz)((0,Ge.X)({name:"CollectionSidebarOverlay"}),(0,x.cj)((function(e){var n=e.content,t=e.behaviors;return{skipQuery:!(0,j.P3)(n)||!n.collectionID,collectionID:(0,j.P3)(n)&&n.collectionID||"",vodID:(0,j.P3)(n)&&n.vodID||void 0,openLinksExternally:null==t?void 0:t.openStreamInfoLinksExternally}})),(0,pe.c0)((function(e){var n=e.hideCollectionSidebar,t=e.isCollectionSidebarShowing;return{hideCollectionSidebar:n,isCollectionSidebarShowing:t}})),(0,A.AP)((function(e){var n=e.pause;return{pause:n}})),(0,z._v)(ka(),{skip:function(e){return e.skipQuery},options:function(e){return{variables:{collectionID:e.collectionID}}}}),(0,K.e)())((function(e){var n,t=e.data,i=e.hideCollectionSidebar,s=e.vodID,l=e.isCollectionSidebarShowing,u=e.getContentUrl,p=e.openLinksExternally,m=e.pause,v=d.useCallback((function(){p&&m()}),[p,m]),f=t&&t.collection;if(!f)return null;var g=f.items&&f.items.edges.filter(Sa),h=f.owner&&f.owner.displayName||"",y=f.lengthSeconds||0,k=f.title||"";if(!g)return null;var S=null!=s?s:null===(n=g[0])||void 0===n?void 0:n.node.id;return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)("aside",{onMouseLeave:function(){return function(e){pa=setTimeout(e,400)}(i)},onMouseEnter:_a,children:(0,a.jsx)(sn.S,{className:"collections-sidebar",position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,display:o.nl.Flex,flexDirection:o.bo.Column,background:o.VS.Base,children:(0,a.jsxs)(Pt.e,{show:l,type:Et.ES.TranslateLeft,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachTop:!0,padding:{right:1,top:1},children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close collection listing","collections-sidebar"),icon:dn.g,overlay:!0,onClick:i})}),(0,a.jsxs)(r.P,{padding:1,background:o.VS.Alt2,children:[(0,a.jsx)(kn.N,{color:o.Q1.Overlay,children:k}),(0,a.jsx)(kn.N,{color:o.Q1.Alt2,children:(0,c.hw)("by <x:link>{owner}</x:link>  {videos} videos  {timeText}",{owner:h,"x:link":function(e){var n,t,i=null===(n=f.owner)||void 0===n?void 0:n.profileURL;return!p&&(null===(t=f.owner)||void 0===t?void 0:t.login)&&(i="/".concat(f.owner.login)),(0,a.jsx)(fa.Cb,{linkTo:null!=i?i:"",targetBlank:p,onClick:v,children:e})},videos:f.items.totalCount,timeText:(0,ha.a3)(y)},"collections-sidebar")})]}),(0,a.jsx)(r.P,{borderRadius:xt.Z.Medium,elevation:3,padding:1,border:!0,overflow:o.nE.Auto,children:g.map((function(e,n){var t=e.node;return(0,a.jsx)(ga.tD,{linkTo:u({type:Z.FC.Collection,vodID:t.id,collectionID:f.id}),onClick:i,borderRadius:xt.Z.Medium,tabIndex:0,selected:S===t.id,children:(0,a.jsxs)(r.P,{padding:{x:1,y:.5},display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(r.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)(kn.N,{className:"collections-sidebar-index",color:o.Q1.Overlay,children:n+1})}),(0,a.jsx)(r.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)("img",{alt:(0,c.hw)("Thumbnail of one of the videos in the collection.","collections-sidebar"),src:t.previewThumbnailURL})}),(0,a.jsxs)(r.P,{flexGrow:1,flexShrink:1,padding:{left:1},children:[(0,a.jsx)(kn.N,{color:o.Q1.Overlay,children:t.title}),(0,a.jsx)(kn.N,{color:o.Q1.Alt2,ellipsis:!0,children:h})]})]})},t.id)}))})]})})})})}));var ba=t(808835),Pa=t(424749),Ea=v.x.wrap((function(){return t.e(31012).then(t.bind(t,706367))}),"ContentClassificationGateBackgroundPlayerOverlay"),xa=v.x.wrap((function(){return t.e(43883).then(t.bind(t,301988))}),"ContentClassificationGateMiniPlayerOverlay"),Aa=v.x.wrap((function(){return t.e(53421).then(t.bind(t,302552))}),"ContentClassificationGateVideoOverlay"),Na=(0,_.Zz)((0,x.cj)((function(e){return{behaviors:e.behaviors}})),(0,ba.Z)((function(e){return{overlayType:e.overlayType,channelName:e.channelName,contentLabels:e.contentLabels,storeAcknowledgement:e.storeAcknowledgement,trackClick:e.trackClick}})),(0,ce.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})))((function(e){var n=e.overlayType,t=e.channelName,i=e.contentLabels,r=e.storeAcknowledgement,o=e.trackClick,s=e.behaviors,l=e.videoAdMetadata,d=(0,u.d4)((function(e){return e.ui.channelHomeLive}));return!(null==s?void 0:s.disableMatureOverlay)&&!(0,et.cz)(l)&&(0,Pa.cJ)(n)&&t&&i?(null==s?void 0:s.mini)?(0,a.jsx)(bn,{restriction:xn.S.Mature,children:(0,a.jsx)(xa,{})}):d?(0,a.jsx)(bn,{restriction:xn.S.Mature,children:(0,a.jsx)(Ea,{})}):(0,a.jsx)(bn,{restriction:xn.S.Mature,children:(0,a.jsx)(Aa,{channelName:t,contentLabels:i.map(Pa.Uw),overlayType:n,onAcknowledge:r,trackClick:o,showGoHomeButton:!(null==s?void 0:s.disableCCLGoHomeButton)})}):null})),wa=t(132902),Ia=t(217600),Ta=t(657659),Da=function(e){var n=e.children,t=e.onClick,i=e.ariaLabel,o=(0,a.jsx)(r.P,{padding:1,borderRadius:xt.Z.Medium,margin:{bottom:1},className:"disclosure-card",children:n});return(0,a.jsx)(Tn.h,{overlay:!0,"aria-label":i,children:"function"==typeof t?(0,a.jsx)(At.M,{onClick:t,children:o}):o})};var Fa=function(e){var n=e.brandedContentTrackingBase,t=e.disableArrowOnDisclosure;return(0,a.jsx)(Da,{onClick:function(){var e;window.open("https://help.twitch.tv/s/article/branded-content-policy","_blank"),e=n,c.E5.track("branded_content_disclosure_click",{event_id:e.event_id,content_type:e.content_type})},children:(0,a.jsxs)(r.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(r.P,{margin:{x:.5},children:(0,a.jsx)(kn.N,{fontWeight:"semibold",children:(0,c.hw)("Includes Paid Promotion","Branded Content Disclosure Tool")})}),!t&&(0,a.jsx)(r.P,{display:"flex",margin:{left:.5},children:(0,a.jsx)(Ta.d,{})})]})})},Oa=t(973421),Ra=t.n(Oa),Va=t(611407),Ma=t(982821),La=t(333965),ja=t.n(La),Ba=function(){var e,n,t,a,r,o,s,l,u,p,m,v,f=d.useRef((0,W.aq)()),g=d.useContext(x.kl).content,h=!!(0,j.DG)(g),y=!!(0,j.wy)(g)||!(!(0,j.P3)(g)||!g.vodID),k=(0,j.hd)(g)||"",S=(0,j.hq)(g)||"",_={login:k||"",vodID:S||"",isLive:h,isVOD:y},C=(0,R.IT)(ja(),{fetchPolicy:"cache-and-network",variables:_,skip:""===k&&""===S}).data;y&&""===k&&(k=(null===(n=null===(e=null==C?void 0:C.video)||void 0===e?void 0:e.owner)||void 0===n?void 0:n.login)||"");var b=(null===(t=null==C?void 0:C.user)||void 0===t?void 0:t.id)||(null===(r=null===(a=null==C?void 0:C.video)||void 0===a?void 0:a.owner)||void 0===r?void 0:r.id)||"",P=(null===(l=null===(s=null===(o=null==C?void 0:C.user)||void 0===o?void 0:o.stream)||void 0===s?void 0:s.contentPolicyProperties)||void 0===l?void 0:l.hasBrandedContent)&&h||!1,E=(null===(p=null===(u=null==C?void 0:C.video)||void 0===u?void 0:u.contentPolicyProperties)||void 0===p?void 0:p.hasBrandedContent)&&y&&(null===(m=null==C?void 0:C.video)||void 0===m?void 0:m.broadcastType)===$e.Suw.ARCHIVE||!1,A=P||E||!1,N=(0,Be.Z)(A);(0,Va.C)({query:ja(),skip:""===k||""===b||!h,variables:_,topic:(0,Xe.im)(b),type:Ma.PD.ContentPolicyPropertiesV1,mutator:function(e,n){return n.user&&n.user.stream&&n.user.stream.contentPolicyProperties&&void 0!==e.data.has_branded_content?Ra()(n,(function(e){return e.user.stream.contentPolicyProperties.hasBrandedContent}),(function(){return e.data.has_branded_content})):n}});var w=$e.Iem.CONTENT_TYPE_UNSET;h?w=$e.Iem.CONTENT_TYPE_CHANNEL:y&&(null===(v=null==C?void 0:C.video)||void 0===v?void 0:v.broadcastType)===$e.Suw.ARCHIVE&&(w=$e.Iem.CONTENT_TYPE_PAST_BROADCAST);var I={event_id:f.current,content_type:w},T={render_start:!1,render_end:!1,visible:!1},D=function(){var e;A?O?T.render_start=!0:T.render_end=!0:T.render_end=!0===N,T.visible=M,(T.render_start||T.render_end)&&(T.render_end&&(f.current=(0,W.aq)()),e=(0,i.__assign)((0,i.__assign)({},I),T),c.E5.track("branded_content_disclosure_render",{event_id:e.event_id,content_type:e.content_type,render_start:e.render_start,render_end:e.render_end,visible:e.visible}))},F=d.useState(!0),O=F[0],V=F[1];d.useEffect((function(){N!==A&&V(A);var e=setTimeout((function(){V((function(e){return!e}))}),O?1e4:36e5);return function(){clearTimeout(e)}}),[O,A,k,S]);var M=A&&O;return d.useEffect((function(){D()}),[M]),d.useEffect((function(){V(!0)}),[k,S]),{isBrandedContentVisible:M,brandedContentTrackingBase:I}},Ua=t(317193),qa=t(674602),Ga=t(630193),za=t(145463),Ha=function(){return(0,c.hw)("Intended for certain audiences","ContentClassificationDisclosureOverlay")},Wa=function(e){return(0,c.hw)("May contain: {labelList}",{labelList:(0,c.ki)(e,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")},Ka=function(e){return(0,c.hw)("Manage your content preferences in <x:link>settings</x:link>.",{"x:link":function(n){return(0,a.jsx)(fa.Cb,{targetBlank:!e||(0,Ga.W)(),linkTo:{pathname:e?(0,za.VV)("/settings/content-preferences"):"https://help.twitch.tv/s/article/how-to-customize-content#ContentDisplayPreferences",state:{medium:"content_warning_card",content:"manage_settings_button"}},children:n})}},"ContentClassificationDisclosureOverlay")},Za=function(){return(0,c.hw)("Failed to determine content classification","ContentClassificationDisclosureOverlay")},Qa=function(e){var n,t=e.contentList,i=e.disableArrowOnDisclosure,s=e.trackClick,l=(0,d.useState)(!1),p=l[0],m=l[1],v=(0,d.useCallback)((function(){return m((function(e){var n=t.length>0&&!e;return s(n?"expand_disclosure":"collapse_disclosure"),n}))}),[t,m,s]),f=(0,d.useState)(void 0),g=f[0],h=f[1],y=(0,u.d4)(Je.M3),k=(0,d.useCallback)((function(e){var n,t=null===(n=null==e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width;t&&h("".concat(t,"px"))}),[h]);return(0,a.jsx)(Da,{onClick:v,ariaLabel:t.length>0?(n=t,(0,c.hw)("Intended for certain audiences. May contain: {labelList}",{labelList:(0,c.ki)(n,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")):Ha(),children:(0,a.jsxs)(r.P,{display:"flex",flexDirection:"column",justifyContent:"space-between",margin:{left:.5},style:{lineHeight:0},ref:k,"data-a-target":"content-classification-warning-disclosure-overlay",children:[(0,a.jsxs)(r.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(kn.N,{fontWeight:"semibold",children:Ha()}),!i&&t.length>0&&(0,a.jsx)(r.P,{margin:{left:1},children:(0,a.jsx)(qa.K7,{closedDirection:"down",openDirection:"up",open:p})})]}),t.length>0&&(0,a.jsxs)(Pt.e,{type:"slide-over-top",show:p,children:[(0,a.jsx)(r.P,{padding:{top:.5},width:g,children:(0,a.jsx)(kn.N,{color:o.Q1.OverlayAlt,children:Wa(t)})}),(0,a.jsx)(r.P,{padding:{top:1},width:g,children:(0,a.jsx)(kn.N,{color:o.Q1.OverlayAlt,children:Ka(y)})})]})]})})},Ya=t(105922),Xa=function(e){var n=e.onHideClick;return(0,a.jsx)(Da,{ariaLabel:Za(),children:(0,a.jsxs)(r.P,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,a.jsx)(r.P,{display:"flex",margin:{x:.5},children:(0,a.jsx)(Ya.i,{})}),(0,a.jsx)(r.P,{margin:{x:.5},children:(0,a.jsx)(kn.N,{fontWeight:"semibold",children:Za()})}),(0,a.jsx)(ln.a2,{icon:dn.g,size:"small",onClick:n,"aria-label":(0,c.hw)("Dismiss content classification notice","ContentClassificationDisclosureOverlay")})]})})},$a=(0,_.Zz)((0,ba.Z)((function(e){return{overlayType:e.overlayType,contentLabels:e.contentLabels,trackClick:e.trackClick}})))((function(e){var n=e.contentLabels,t=e.disableArrowOnDisclosure,i=e.hideContentClassificationDisclosure,r=e.overlayType,o=e.trackClick;return r===Ua.P8.ContentWarningDisclosure&&n?(0,a.jsx)(Qa,{contentList:n.map(Pa.Uw),trackClick:o,disableArrowOnDisclosure:t}):r===Ua.P8.FetchErrorDisclosure?(0,a.jsx)(Xa,{onHideClick:function(){i(),o("hide_error")}}):null})),Ja=t(727234),er=t(381511),nr=(0,_.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,x.cj)((function(e){var n,t=e.behaviors,i=e.content;return{isContentLive:!!(0,j.DG)(i),isContentVod:!!(0,j.wy)(i)||!(!(0,j.P3)(i)||!i.vodID),isEmbedded:!!(null==t?void 0:t.embed),disableMatureOverlay:!!(null==t?void 0:t.disableMatureOverlay),disableBrandedContentDisclosureOverlay:!!(null==t?void 0:t.disableBrandedContentDisclosureOverlay),forceDisclosuresPosition:null!==(n=null==t?void 0:t.forceDisclosuresPosition)&&void 0!==n?n:er.G.Default,disableArrowOnDisclosure:!!(null==t?void 0:t.disableArrowOnDisclosure)}})),(0,ba.Z)((function(e){return{overlayType:e.overlayType}})),(0,pe.c0)((function(e){return{isFullscreen:e.isFullscreen,recommendationsShowing:e.recommendationsShowing}})),(0,E.dd)((function(e){return{isOffline:!!e.isOffline}})),(0,ce.VX)((function(e){var n=e.videoAdMetadata;return{isVideoAdShowing:(0,et.cz)(n)}})))((function(e){var n=e.disableArrowOnDisclosure,t=e.disableBrandedContentDisclosureOverlay,i=e.disableMatureOverlay,s=e.isContentLive,u=e.isContentVod,p=e.isEmbedded,m=e.isFullscreen,v=e.isOffline,f=e.isOnScreenControlsOn,g=e.isVideoAdShowing,h=e.overlayType,y=e.theatreModeEnabled,k=e.forceDisclosuresPosition,S=function(e){var n=e.isOnScreenControlsOn,t=e.isVideoAdShowing,i=(0,d.useRef)(0),a=(0,d.useRef)(!0),r=(0,Ja.Z)(t),o=(0,d.useState)(!1),s=o[0],l=o[1],u=(0,d.useState)(!1),c=u[0],p=u[1],m=(0,d.useCallback)((function(){return p(!0)}),[p]);return(0,d.useEffect)((function(){return l(!0),i.current=setTimeout((function(){l(!1)}),5e3),function(){i.current&&clearTimeout(i.current)}}),[]),(0,d.useEffect)((function(){r&&!t&&a.current&&(a.current=!1,l(!0),clearTimeout(i.current),i.current=setTimeout((function(){l(!1)}),5e3))}),[r,t]),{isContentClassificationDisclosureVisible:!c&&(s||n),hideContentClassificationDisclosure:m}}({isOnScreenControlsOn:f,isVideoAdShowing:g}),_=S.isContentClassificationDisclosureVisible,C=S.hideContentClassificationDisclosure,b=Ba(),P=b.isBrandedContentVisible,E=b.brandedContentTrackingBase,x=function(e){var n=e.disableMatureOverlay,t=e.isOffline,i=e.isVideoAdShowing,a=e.overlayType;return!n&&!t&&!i&&[Ua.P8.ContentWarningDisclosure,Ua.P8.FetchErrorDisclosure].includes(a)}({disableMatureOverlay:i,isOffline:v,isVideoAdShowing:g,overlayType:h}),A=function(e){var n=e.disableBrandedContentDisclosureOverlay,t=e.isOffline;return!e.isVideoAdShowing&&!t&&!n}({disableBrandedContentDisclosureOverlay:t,isOffline:v,isVideoAdShowing:g});if(!x&&!A)return null;var N=y||m||u||p||k===er.G.TopRight,w=f&&(y||p)&&!m&&s,I=f&&m&&s,T=N||w||I;return(0,a.jsx)(Ia.u,{section:"global",id:"channel-player-disclosures",icon:wt.A,label:(0,c.hw)("Player Controls","SkipToTargetDisclosureContainer"),enabled:!(0,Pa.cJ)(h)&&(0,Pa.OI)(h),children:(0,a.jsx)(r.P,{attachTop:!0,attachLeft:!N,attachRight:N,className:l()("disclosure-tool",{"dt-attach-top-right":N,"dt-attach-top-right-shift-down":w,"dt-attach-top-right-shift-left":I}),position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:T?o.k2.End:o.k2.Start,children:(0,a.jsxs)(wa.F,{transitionType:Et.ES.SlideOverTop,children:[A&&P&&(0,a.jsx)(Fa,{brandedContentTrackingBase:E,disableArrowOnDisclosure:n},"branded-content-disclosure"),x&&_&&(0,a.jsx)($a,{hideContentClassificationDisclosure:C,disableArrowOnDisclosure:n},"content-classification-disclosure")]})})})})),tr=t(679117),ir=function(e){return(0,a.jsx)(Fn.$n,{icon:tr.H,size:Fn.Mp.Large,variant:Fn.VQ.Alert,onClick:function(){e.updateContext({manualResetRequested:!0})},children:e.isSmall?(0,c.hw)("Reload Player","ManualResetButton"):(0,c.hw)("Click Here to Reload Player","ManualResetButton")})},ar=t(966872),rr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderChildren=function(e){return n.props.error&&(0,ar.G_)(n.props.error)?(0,a.jsx)(ir,{isSmall:e,updateContext:n.props.updateContext}):null},n}return(0,i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.props.removeError()},n.prototype.render=function(){var e=function(e){switch(e){case ar.O4.GeoBlocked:return(0,c.hw)("This premium content is not available in your region. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.UnsupportedDevice:return(0,c.hw)("Your device does not support playback of this premium content. Please try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.AnonymizerBlocked:return(0,c.hw)("A proxy or unblocker has been detected. This premium content will not be available to you while it is in use. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.CellularNetworkProhibited:return(0,c.hw)("Please connect to a Wi-Fi network to watch this premium content. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.LVSCCUCap:case ar.O4.CCUCapReached:return(0,c.hw)("An error occurred. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.Aborted:return(0,c.hw)("The video download was cancelled. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.Network:return(0,c.hw)("There was a network error. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.Decode:return(0,c.hw)("Your browser encountered an error while decoding the video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.FormatNotSupported:return(0,c.hw)("This video is either unavailable or not supported in this browser. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.ContentNotAvailable:return(0,c.hw)("This video is unavailable. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.RendererNotAvailable:return(0,c.hw)("Your browser does not support playback of this video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.SafariUnsupportedDevice:return(0,c.hw)("Safari is not currently supported for this stream. Please try Chrome or Firefox. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.CDMNotAuthorized:return(0,c.hw)("Your browser or device does not support playback of this video. Please try upgrading your browser or try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.DRMLicenseNotAvailable:return(0,c.hw)("DRM License for premium content is not available. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ar.O4.DRMLicenseServerError:return(0,c.hw)("DRM License Server error. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");default:return null}}(this.props.error);return e?(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Empty},text:e,children:this.renderChildren}):null},n}(d.Component);var or=(0,_.Zz)((0,Ge.X)({name:"ErrorOverlay"}),(0,E.dd)((function(e){return{error:e.error,removeError:e.removeError,updateContext:e.updateContext}})))(rr);var sr=t(145875),lr=t(15250),dr=t(734993),ur=t(691177),cr=t(288480),pr=function(e){function n(n){return e.call(this,n)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.arePlayerControlsVisible,t=e.game,a=e.theme,r=e.isVideoAdShowing,o=e.videoStats;cr.ZO.postContext((0,i.__assign)({arePlayerControlsVisible:n,game:t,theme:a,isVideoAdShowing:r},o))},n.prototype.componentDidUpdate=function(e){var n=this.props,t=n.arePlayerControlsVisible,i=n.game,a=n.theme,r=n.isVideoAdShowing,o=e.game!==i,s=e.theme!==a,l=e.arePlayerControlsVisible!==t,d=e.isVideoAdShowing!==r,u={};this.didVideoStatsChange(e.videoStats)&&Object.assign(u,this.props.videoStats),o&&(u.game=i),s&&(u.theme=a),l&&(u.arePlayerControlsVisible=t),d&&(u.isVideoAdShowing=r),Object.values(u).length>0&&cr.ZO.postContext(u)},n.prototype.render=function(){return null},n.prototype.didVideoStatsChange=function(e){var n=this.props.videoStats;return e?!n||Object.keys(n).some((function(t){return n[t]!==e[t]})):!!n},n}(d.Component),mr=function(e){function n(n){var t=e.call(this,n)||this;t.getVideoStatsContext=function(){var e=t.props,n=e.channelLogin,i=e.mediaPlayerInstance;return i?{bitrate:i.getVideoBitRate(),bufferSize:i.getBufferDuration(),displayResolution:"".concat(i.getDisplayWidth(),"x").concat(i.getDisplayHeight()),hlsLatencyBroadcaster:i.getLiveLatency(),isFullScreen:t.props.isFullScreen,isPaused:t.isVideoPaused(),isTheatreMode:t.props.isTheatreMode,isMuted:t.props.muted,playerChannel:n,videoResolution:"".concat(i.getVideoWidth(),"x").concat(i.getVideoHeight()),volume:t.props.volume}:null},t.updateVideoStatsContext=function(){var e=t.getVideoStatsContext();e&&t.setState({videoStats:e})},t.isVideoPaused=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.isVideoAdShowing,a=e.isAdPlaying;return i?!a:!!n&&n.isPaused()};var i=t.getVideoStatsContext();return t.state=i?{videoStats:i}:{},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.videoContextUpdateInterval=setInterval(this.updateVideoStatsContext,1e3)},n.prototype.render=function(){var e=this.props,n=e.game,t=e.theme,i=e.isVideoAdShowing,r=e.arePlayerControlsVisible;return(0,a.jsx)(pr,{game:n,theme:t,arePlayerControlsVisible:r,isVideoAdShowing:i,videoStats:this.state.videoStats})},n.prototype.componentWillUnmount=function(){clearInterval(this.videoContextUpdateInterval)},n}(d.Component);var vr=(0,_.Zz)((0,u.Ng)((function(e){return{isTheatreMode:e.ui.theatreModeEnabled,theme:(0,ur.iR)(e)}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.volume,i=e.muted;return{mediaPlayerInstance:n,volume:t,muted:i}})),(0,pe.c0)((function(e){var n=e.isFullscreen;return{isFullScreen:n}})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,j.hd)(n)||""}})))(mr);var fr=t(79570),gr=t(808681),hr=t(324602),yr=t(86011),kr=t(849924),Sr=t(542685),_r={"0qr7fa6llzn4txgnfgb8ipeksd5v24":{useWEBM:!1,overriddenViewerSummary:"Mouse over the streamer's cards on the video to see the full card in hi-res!"},"2d2vfk9d8utgo0e9abb4j8p8po70ym":{useWEBM:!1,overriddenViewerSummary:"Mouse over the video to the see the decklist being played, and mouse over cards in the decklist to see their art and details."},"7hoqd16sufw9f9h3swlkdt6lqdn3ud":{useWEBM:!1,overriddenViewerSummary:"Click the purple icon on the video to see this streamer's favorite streaming gear and other products from Amazon."},apwln3g3ia45kk690tzabfp525h9e1:{useWEBM:!0,overriddenViewerSummary:"Mouse over minions, heroes and secrets to view the full card art, see the deck the streamer is currently playing and import it into Hearthstone!"},fozlqfmrrdtastjnfxw3pmnqto9zns:{useWEBM:!0,overriddenViewerSummary:"Click the purple icon on the video to see the streamers gear, view details on perks, get class info, and more."},"07kczqwdkjxw6la4j92crc5wyumjxa":{useWEBM:!0,overriddenViewerSummary:"Mouse over the logo on the left side of the stream to inspect the streamer's Vault Hunter profile, gear and skills, earn loot discovered in rare chests, and control the game with badass events!"},fdpp9vcx5bsz8osxvqii4i9cumwswd:{useWEBM:!0,overriddenViewerSummary:"Mouse over the left side of the stream to see the streamer's current gear in real-time."},d0j6f4h633ds71x7mg5pm7uytj2yi8:{useWEBM:!0,overriddenViewerSummary:"Click the deck icon on the left side of the video to see each player's decklist. Mouse over cards in the decklist to see their image and rules text."},d4uvtfdr04uq6raoenvj7m86gdk16v:{useWEBM:!1,overriddenViewerSummary:"Click the blue Prime icon on the video to see what subscriptions & benefits you have available on this channel."},"9coq5ejlddcho3k014joup6mr2lras":{useWEBM:!1,overriddenViewerSummary:"Click the helmet icon on the video to see the live map, drop, skirmish, loot and load-out details."},b761gcvkac6qbwo26ededwf9sluqh0:{useWEBM:!1,overriddenViewerSummary:"Click the red button on the video to view the streamer's current talents, gear and stats."},zfh2irvx2jb4s60f02jq0ajm8vwgka:{useWEBM:!1,overriddenViewerSummary:"Click the streamer's icon on the video to uncover actions they've enabled - like song requests, scratchers and more."},vysfim0ck7k5a65fcr0d0t1x5jllpq:{useWEBM:!0,overriddenViewerSummary:"Click the League of Legends icon on the video to see live game details like the current scoreboard, summoners, build and game history."}},Cr=t(419813),br=t(343026),Pr=function(e){function n(n){var t=e.call(this,n)||this;return t.renderMenuOpenStatus=function(e){return(0,a.jsx)(r.P,{alignItems:o.k2.Center,children:(0,a.jsx)(r.P,{className:l()("extensions-dock-card__menu-status",e&&"extensions-dock-card__menu-status__visible"),margin:{right:.5,left:.5}})})},t.renderCardImage=function(e){var n=t.props.installation,s=t.state.iconUrls,d=n.activationConfig.anchor[0].toUpperCase(),u="".concat(d).concat((0,br.bb)(n)),c=!s.length,p=(0,a.jsx)("div",{onClick:t.handleClick,onMouseEnter:t.handleMouseOver,onMouseLeave:t.handleMouseOut,className:l()("extensions-dock-card__image",e&&"extensions-dock-card__image__visible",c&&"extensions-dock-card__image__fallback"),children:c?(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,children:(0,a.jsx)(fr.M,{size:30,fillColor:"brand"})}):(0,a.jsx)(Zt.L,{src:s[s.length-1],alt:u,onError:t.onImageLoadFail,className:l()("extensions-dock-card__image__img")})}),m={assignments:{fallback:function(){return(0,a.jsx)(Wi.cv,{direction:Wi.n5.Left,align:Wi.HX.Right,label:n.extension.name,offsetX:"19px",children:p})},active:function(){return p}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Sr.N,(0,i.__assign)({},m))},t.renderHoverInfo=function(){var e,n=t.props.installation.extension,s=n.viewerSummary,l=n.name,d=n.id,u=(null===(e=_r[d])||void 0===e?void 0:e.overriddenViewerSummary)||s,c=(0,a.jsx)(gr.E,{background:o.VS.Overlay,size:hr.$V.Medium,show:t.props.isHovered&&!t.props.isPopoverOpen,direction:yr.j.LeftCenter,children:(0,a.jsxs)(r.P,{padding:2,children:[(0,a.jsx)(kr.Y,{children:l}),(0,a.jsx)(kn.N,{children:u})]})}),p={assignments:{fallback:function(){return null},active:function(){return c}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Sr.N,(0,i.__assign)({},p))},t.installationIsVisible=function(){var e=t.props,n=e.installation,i=e.isOverlayVisible,a=e.isPopoverOpen,r=i&&(0,br.l1)(n),o=a&&(0,br.yi)(n);return r||o},t.handleClick=function(){var e,n=t.props,i=n.installation,a=n.togglePopover,r=n.trackEvent,o=n.isPopoverOpen,s="video_overlay"===i.activationConfig.anchor;e=s?o?lr.iN.HideMenu:lr.iN.ViewMenu:o?lr.iN.MinimizeExtension:lr.iN.MaximizeExtension,r(lr.X2.ExtensionDockIconClick,e,lr.si.ExtensionDockIconClick,i),s&&t.isOverlayExperimentActive?t.toggleExtensionInfo():a(i)},t.handleMouseOver=function(){t.props.hoverExtensionCard(t.props.installation)},t.handleMouseOut=function(){t.props.hoverExtensionCard(null)},t.onImageLoadFail=function(){t.setState((function(e){var n=e.iconUrls;return{iconUrls:n.slice(0,n.length-1)}}))},t.getIconUrls=function(e){var n=e.extension.iconUrls.square100,t=[];return n&&t.push(n),t},t.toggleExtensionInfo=function(){var e=t.props,n=e.installation,i=e.isInfoOpen,a=e.setMenuState,r=e.permissionsStates;a((0,br.MA)(n,r)?i?{type:Cr.gu.NONE}:{type:Cr.gu.INFO}:{type:Cr.gu.UNRELEASED},n)},t.state={iconUrls:t.getIconUrls(t.props.installation)},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isOverlayExperimentActive",{get:function(){return"active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){(0,br.wv)(e.installation)!==(0,br.wv)(this.props.installation)&&this.setState({iconUrls:this.getIconUrls(this.props.installation)})},n.prototype.render=function(){var e=this.installationIsVisible();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.P,{margin:{left:0,bottom:1,top:0,right:1},borderRadius:xt.Z.Medium,className:"extensions-dock-card",display:o.nl.Flex,alignItems:o.k2.Center,children:[this.renderMenuOpenStatus(e),this.renderCardImage(e)]}),this.renderHoverInfo()]})},n}(d.Component),Er=(0,sr.A3)((function(e,n){var t=e.isOverlayVisible,i=e.isPopoverOpen,a=e.togglePopover,r=e.hoverExtensionCard,o=e.isDockIconHovered,s=e.permissionsStates,l=e.trackEvent,d=e.setMenuState,u=e.getMenuState;return{isOverlayVisible:t,isInfoOpen:u(n.installation).type===Cr.gu.INFO,isPopoverOpen:i(n.installation),isHovered:o(n.installation),permissionsStates:s,togglePopover:a,hoverExtensionCard:r,trackEvent:l,setMenuState:d}}))(Pr);var xr=t(726817),Ar=t(48935),Nr=t(693525),wr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(r.P,{role:"presentation",padding:{top:1,left:1,right:1,bottom:0},fullHeight:!0,fullWidth:!0,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Center,overflow:o.nE.Auto,fontSize:o.Z4.Size6,className:l()(this.props.className,"extensions-popover-view-layout"),children:(0,a.jsx)(r.P,{className:l()("extensions-popover-view-layout__body"),children:this.props.children})})},n}(d.Component),Ir=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClose=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("You must be logged in to use this extension feature.","ExtensionsPopoverViewLoggedOutContainer")})}),(0,a.jsx)(r.P,{fullWidth:!0,display:o.nl.Flex,flexWrap:o.I4.Wrap,justifyContent:o.A9.End,margin:{y:1},children:(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Secondary,onClick:this.handleClose,children:(0,c.hw)("Close","ExtensionsPopoverViewLoggedOutContainer")})})})]})},n}(d.Component),Tr=(0,sr.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(Ir);var Dr=t(897120),Fr=t(288566),Or=t.n(Fr),Rr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.props.data.loading)return null;if(!this.props.data.currentUser||null===this.props.data.currentUser.bitsBalance||!this.props.data.extension||!this.props.data.extension.challengeCondition)return this.props.cancelCondition(),null;var e,n=this.props.confirmBitsAmount>this.props.data.currentUser.bitsBalance;n&&(e=(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,margin:{bottom:0},children:(0,a.jsx)(kn.N,{color:o.Q1.Error,children:(0,c.hw)("Please purchase more Bits to participate.","ConditionConfirmationInsufficientBitsBalance")})}));var t=(0,c.hw)("Bits","ConditionConfirmationDialogBitsBalance"),i=(0,a.jsxs)(r.P,{children:[(0,a.jsx)(r.P,{children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,children:(0,c.hw)("You are committing Bits to {conditionName}. These Bits will be deducted immediately.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogCommitBits")})}),(0,a.jsxs)(r.P,{margin:{top:1,bottom:1},display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(Dr.S,{"aria-label":t}),(0,a.jsx)(kn.N,{type:ft.M2.Span,fontSize:o.Z4.Size4,bold:!0,children:this.props.confirmBitsAmount})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,margin:{bottom:0},children:[(0,a.jsx)(kn.N,{type:ft.M2.Span,fontSize:o.Z4.Size5,children:(0,c.hw)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")}),(0,a.jsx)(Dr.S,{"aria-label":t}),(0,a.jsx)(kn.N,{type:ft.M2.Span,fontSize:o.Z4.Size4,bold:!0,children:this.props.data.currentUser.bitsBalance||0})]}),e,(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,margin:{top:2},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:3,margin:{right:.5},children:(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Secondary,fullWidth:!0,onClick:this.props.cancelCondition,children:(0,c.hw)("Cancel","ConditionConfirmationDialogCancel")})}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:4,margin:{left:.5},children:(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition,disabled:n,children:(0,c.hw)("Confirm","ConditionConfirmationDialogConfirm")})})]}),(0,a.jsx)(r.P,{borderTop:!0,margin:{top:2,bottom:2}}),(0,a.jsx)(r.P,{margin:{bottom:2},children:(0,a.jsx)(kn.N,{type:ft.M2.P,fontSize:o.Z4.Size5,children:(0,c.hw)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}. You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement")})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(kn.N,{type:ft.M2.P,fontSize:o.Z4.Size5,children:(0,c.hw)("If the {conditionName} is not completed, then the Bits will be returned to your account.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogBitsRefund")})})]});return(0,a.jsx)(r.P,{padding:2,children:i})},n}(d.Component),Vr=(0,_.Zz)((0,z._v)(Or(),{options:function(e){return{variables:{conditionID:e.conditionId,conditionOwnerID:e.conditionOwnerId,extensionID:e.extensionId,extensionVersion:e.extensionVersion}}}}))(Rr),Mr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.cancelCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Cr.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!1,conditionParticipantId:null}),t({type:Cr.gu.NONE},a))},n.confirmCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Cr.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!0,conditionParticipantId:null}),t({type:Cr.gu.NONE},a,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.menuState,t=e.installation;if(!(0,Cr.XL)(n))return null;var i=n.confirmationRequest.options;return(0,a.jsx)(wr,{children:(0,a.jsx)(Vr,{cancelCondition:this.cancelCondition,confirmCondition:this.confirmCondition,conditionId:i.conditionId,conditionOwnerId:i.conditionOwnerId,confirmBitsAmount:i.bitsAmount,extensionId:t.extension.id,extensionName:t.extension.name,extensionVersion:t.extension.version})})},n}(d.Component),Lr=(0,sr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(Mr);var jr=t(14668),Br=t(337051),Ur=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={notifications:!0},n.cancelLabel=(0,c.hw)("Cancel","ExtensionsPopoverViewFollowContainer"),n.handleCancel=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Cr.GS)(i)&&a({type:Cr.gu.NONE},t)},n.handleFollow=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Cr.GS)(i)&&(i.confirmationRequest.resultCallback({didFollow:!0,notifications:n.state.notifications}),a({type:Cr.gu.NONE},t,!0))},n.handleNotificationsToggle=function(){n.setState({notifications:!n.state.notifications})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.menuState;if(!(0,Cr.GS)(e))return null;var n=e.confirmationRequest.options,t=n.channel||"";return(0,a.jsx)(wr,{children:n.isFollowing?this.renderAlreadyFollowed(t):this.renderMain(t)})},n.prototype.renderMain=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("You are about to follow {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Primary,onClick:this.handleFollow,children:(0,c.hw)("Follow","ExtensionsPopoverViewFollowContainer")})})]}),(0,a.jsxs)(r.P,{margin:{y:1},children:[(0,a.jsx)(jr.m,{}),(0,a.jsx)(Br.G,{type:Br.M.Toggle,label:(0,c.hw)("Allow Notifications","ExtensionsPopoverViewFollowContainer"),onChange:this.handleNotificationsToggle,checked:this.state.notifications})]}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("Receive updates on this channel's activity, including when they go live, upload new videos or clips, on mobile, email, and web.","ExtensionsPopoverViewFollowContainer")})})]})},n.prototype.renderAlreadyFollowed=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("You are already following {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsx)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,justifyContent:o.A9.Center,margin:{y:1},children:(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})})})]})},n}(d.Component),qr=(0,sr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(Ur);var Gr=t(368972),zr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.NONE},t)},n.handleToggleAccess=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.setPermissionsState,r=e.trackEvent,o=e.permissionsStates,s=(0,br.YU)(t,o),l=s.identityLinkedStatus,d=s.linkIdentity,u=s.unlinkIdentity,c=l===Cr.Gy.UNLINKED?Cr.Gy.LINK_REQUESTED:Cr.Gy.UNLINK_REQUESTED;a(t,{identityLinkedStatus:c}),c===Cr.Gy.LINK_REQUESTED&&d&&d(),c===Cr.Gy.UNLINK_REQUESTED&&u&&u(),r(lr.X2.MenuOptionClick,c===Cr.Gy.UNLINK_REQUESTED?lr.iN.Revoke:lr.iN.Grant,lr.si.ExtensionDockMenuOptionClick,t),i({type:Cr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates,i=(0,br.YU)(n,t);if(!i||!i.identityLinkedStatus)return null;var s=i.identityLinkedStatus===Cr.Gy.LINKED||i.identityLinkedStatus===Cr.Gy.LINK_REQUESTED,l=i.identityLinkedStatus===Cr.Gy.LINK_REQUESTED||i.identityLinkedStatus===Cr.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gr.i,{label:(0,c.hw)("Manage Permissions","ExtensionsPopoverViewManageAccessContainer"),figure:{icon:Qe.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.End,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Primary,onClick:this.handleToggleAccess,disabled:l,children:s?(0,c.hw)("Revoke","ExtensionsPopoverViewManageAccessContainer"):(0,c.hw)("Grant","ExtensionsPopoverViewManageAccessContainer")})})]})]})},n}(d.Component),Hr=(0,sr.A3)((function(e){var n=e.permissionsStates,t=e.setPermissionsState,i=e.setMenuState,a=e.trackEvent;return{permissionsStates:n,setPermissionsState:t,setMenuState:i,trackEvent:a}}))(zr);var Wr=t(717286),Kr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.NONE},t)},n.handleConfirm=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Cr.UE)(i)&&(i.confirmationRequest.resultCallback({didConfirm:!0,didUseBits:!1}),a({type:Cr.gu.NONE},t,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelCancel,i=e.labelConfirm,s=e.labelProductName,l=e.labelRemainingBalance,d=e.labelDisclaimer;return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:n})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:s})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:l})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size8,color:o.Q1.Alt2,children:d})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:t})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Primary,onClick:this.handleConfirm,children:i})})]})]})},n}(d.Component),Zr=(0,sr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(Kr);var Qr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.NONE},t)},n.handleBuyBits=function(){window.open("https://www.twitch.tv/bits")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelPurchaseAmount,i=e.labelCancel,s=e.labelProductName,l=e.labelBuyBits;return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:n})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:s})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:t})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:i})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,onClick:this.handleBuyBits,children:l})})]})]})},n}(d.Component),Yr=(0,sr.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(Qr);var Xr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=(0,e.getMenuState)(n);if(!(0,Cr.UE)(t))return null;var r=t.confirmationRequest.options.payload;if(!r)return null;var s=r.bitsRequired||0,l=r.bitsBalance-s,d=(0,a.jsxs)(kn.N,{fontSize:o.Z4.Size5,bold:!0,children:[r.extensionItemLabel," ",(0,a.jsx)(Wr.k,{withImage:!0,animated:!1,count:s}),s]}),u={labelPurchaseIntent:(0,c.hw)("You are trying to get","ExtensionsPopoverViewPurchaseContainer"),labelCancel:(0,c.hw)("Cancel","ExtensionsPopoverViewPurchaseContainer"),labelProductName:d,installation:n};if(l<0){var p=(0,a.jsxs)(kn.N,{type:ft.M2.Span,children:[(0,a.jsx)(Wr.k,{withImage:!0,animated:!1,count:-l}),-l]}),m=(0,i.__assign)((0,i.__assign)({},u),{labelPurchaseAmount:(0,c.hw)("You need {bitsRequired} to get this item.",{bitsRequired:p},"ExtensionsPopoverViewPurchaseContainer"),labelBuyBits:(0,c.hw)("Buy Bits","ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(Yr,(0,i.__assign)({},m))}var v=(0,a.jsxs)(kn.N,{type:ft.M2.Span,children:[(0,a.jsx)(Wr.k,{withImage:!0,animated:!1,count:l}),l]}),f=(0,i.__assign)((0,i.__assign)({},u),{labelConfirm:(0,c.hw)("Confirm","ExtensionsPopoverViewPurchaseContainer"),labelRemainingBalance:(0,c.hw)("Your remaining Bits balance will be {bitsRemaining}",{bitsRemaining:v},"ExtensionsPopoverViewPurchaseUpsellPresentation"),labelDisclaimer:(0,c.hw)('By clicking "Confirm" you agree to share your Twitch ID with {extensionName}. You can manage account connections under {settingsLink}',{extensionName:n.extension.name,settingsLink:(0,a.jsx)(fa.Cb,{targetBlank:!0,linkTo:"https://twitch.tv/settings/connections",children:(0,c.hw)("Settings","ExtensionsPopoverViewPurchaseContainer")})},"ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(Zr,(0,i.__assign)({},f))},n}(d.Component),$r=(0,sr.A3)((function(e){var n=e.getMenuState;return{getMenuState:n}}))(Xr);var Jr=t(120605),eo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trackMenuOptionClick=function(e){return function(){var t=n.props,i=t.installation;(0,t.trackEvent)(lr.X2.MenuOptionClick,e,lr.si.ExtensionDockMenuOptionClick,i)}},n.renderManageAccessOption=function(){var e=n.props,t=e.loginID,i=e.installation,o=e.permissionsStates,s=i&&i.extension.requestIdentityLink,l=(0,br.YU)(i,o).identityLinkedStatus===Cr.Gy.LINKED;return!(0,br.p$)(i)&&!!t&&(s||l)?(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gr.i,{label:(0,c.hw)("Manage Access","ExtensionsPopoverViewSettingsContainer"),figure:{icon:Qe.t.PermissionsRemove},onClick:n.handleManageAccess})}):null},n.handleMakeExtensionVisible=function(){var e=n.props,t=e.isOverlayVisible,i=e.setOverlayVisibility,a=e.trackEvent;i(!t),a(lr.X2.MenuOptionClick,t?lr.iN.HideOverlay:lr.iN.ViewOverlay,lr.si.ExtensionDockMenuOptionClick,n.props.installation)},n.handleReportExtension=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.trackEvent)(lr.X2.MenuOptionClick,lr.iN.ReportExtension,lr.si.ExtensionDockMenuOptionClick,t),i({type:Cr.gu.NONE},t)},n.handleManageAccess=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.MANAGE_ACCESS},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.isOverlayVisible,i=e.channelID,o=n&&n.extension&&(n.extension.viewerSummary||n.extension.summary)||"";return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:o})}),(0,br.l1)(n)&&(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Br.G,{type:Br.M.Toggle,label:(0,c.hw)("Visible","ExtensionsPopoverViewSettingsContainer"),onChange:this.handleMakeExtensionVisible,checked:t})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gr.i,{label:(0,c.hw)("Add to My Channel","ExtensionsPopoverViewSettingsContainer"),onClick:this.trackMenuOptionClick(lr.iN.ViewDetails),figure:{icon:Qe.t.AddReaction},linkTo:(0,br.lK)(n),targetBlank:!0})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gr.i,{label:(0,c.hw)("Build an Extension","ExtensionsPopoverViewSettingsContainer"),figure:{icon:Qe.t.Extensions},onClick:this.trackMenuOptionClick(lr.iN.BuildExtension),linkTo:"https://dev.twitch.tv/extensions",targetBlank:!0})}),this.renderManageAccessOption(),(0,a.jsx)(r.P,{margin:{y:1},children:i&&(0,a.jsx)(Jr.Z,{channelID:i,channelLogin:"",reportContext:{contentType:$e.Cah.EXTENSION_REPORT,contentID:(0,br.wv)(this.props.installation),trackingContext:"extension_popover_view_settings"},onClick:this.handleReportExtension})})]})},n}(d.Component),no=(0,sr.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.setMenuState,a=e.isOverlayVisible,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.trackEvent;return{loginID:n,channelID:t,setMenuState:i,isOverlayVisible:a,setOverlayVisibility:r,permissionsStates:o,trackEvent:s}}))(eo);var to=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.closePopover)(t)},n.handleAccept=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.setPermissionsState)(t,{unreleasedAccepted:!0}),i({type:Cr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(wr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime.","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsxs)(r.P,{margin:{y:1},children:[(0,a.jsx)(kn.N,{children:(0,c.hw)("Proceed only if you are familiar with the developer, the Extension, or Channel.","ExtensionsPopoverViewUnreleasedContainer")}),(0,a.jsx)(fa.Cb,{linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",targetBlank:!0,underline:!1,children:(0,c.hw)("Learn More","ExtensionsPopoverViewUnreleasedContainer")})]}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Primary,onClick:this.handleAccept,children:(0,c.hw)("Accept","ExtensionsPopoverViewUnreleasedContainer")})})]})]})},n}(d.Component),io=(0,sr.A3)((function(e){var n=e.closePopover,t=e.setPermissionsState,i=e.setMenuState;return{closePopover:n,setPermissionsState:t,setMenuState:i}}))(to);var ao=t(206592),ro=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.saveExtensionAPI=function(e){n.unsubscribeFrameEvents(),n.extensionFrameAPI=e,n.addAPICallbacks(),n.subscribeFrameEvents(),n.extensionFrameAPI.setHighlighted(n.props.isDockIconHovered)},n.subscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.on(cr.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.on(cr.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.on(cr.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.on(cr.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.on(cr.WN.Minimize,n.onMinimize))},n.unsubscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.off(cr.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.off(cr.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.off(cr.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.off(cr.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.off(cr.WN.Minimize,n.onMinimize))},n.onShowBitsBalance=function(){(0,n.props.setNotification)(Cr._n.BITS_BALANCE)},n.onShowUseBitsSuccess=function(){(0,n.props.setNotification)(Cr._n.BITS_BALANCE,{success:!0})},n.addAPICallbacks=function(){var e=n.extensionFrameAPI,t=e.linkIdentity,i=e.unlinkIdentity,a=n.props,r=a.installation;(0,a.setPermissionsState)(r,{linkIdentity:t,unlinkIdentity:i})},n.removeAPICallbacks=function(){var e=n.props,t=e.installation;(0,e.setPermissionsState)(t,{linkIdentity:void 0,unlinkIdentity:void 0})},n.onIdentityLinked=function(e){var t=n.props,i=t.installation;(0,t.setPermissionsState)(i,{identityLinkedStatus:e?Cr.Gy.LINKED:Cr.Gy.UNLINKED})},n.onMinimize=function(){var e=n.props,t=e.installation,i=e.isOverlayVisible,a=e.closePopover,r=e.isPopoverOpen,o=e.setOverlayVisibility,s=e.overlayExtension;i&&s&&s.id===t.id&&o(!1),r&&a(t)},n.onModalRequested=function(e){var t=n.props,i=t.installation,a=t.setMenuState;switch(e.action){case cr.tv.ConditionConfirmationRequest:a({type:Cr.gu.CONDITION_CONFIRMATION,confirmationRequest:e},i);break;case cr.tv.FollowAction:a({type:Cr.gu.FOLLOW,confirmationRequest:e},i);break;case cr.tv.UseBits:a({type:Cr.gu.PURCHASE,confirmationRequest:e},i);break;case cr.tv.IdShareRequest:a({type:Cr.gu.MANAGE_ACCESS},i);break;case cr.tv.LoginRequest:a({type:Cr.gu.LOGIN_REQUIRED,confirmationRequest:e},i)}},n.handleToggleFullscreen=function(){n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n,t;this.extensionFrameAPI&&e.isDockIconHovered!==this.props.isDockIconHovered&&this.extensionFrameAPI.setHighlighted(this.props.isDockIconHovered),((null===(n=this.extensionFrameAPI)||void 0===n?void 0:n.linkIdentity)&&this.props.linkIdentity!==this.extensionFrameAPI.linkIdentity||(null===(t=this.extensionFrameAPI)||void 0===t?void 0:t.unlinkIdentity)&&this.extensionFrameAPI.unlinkIdentity!==this.props.unlinkIdentity)&&this.addAPICallbacks()},n.prototype.componentWillUnmount=function(){this.removeAPICallbacks(),this.unsubscribeFrameEvents()},n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.channelLogin,i=e.installation,r=e.languageCode,o=e.locale,s=e.login,l=e.loginID,d=e.isHidden;return n&&t&&i?(0,a.jsx)(ao.xF,{channelID:n,channelLogin:t,extensionMode:cr.Fw.Viewer,installation:i,languageCode:r,locale:o,login:s,loginID:l,saveExtensionAPI:this.saveExtensionAPI,className:"extension-view__iframe",isPopout:!1,isHidden:d,onExtensionDoubleClick:this.handleToggleFullscreen},"".concat(i.id,"-").concat(n)):null},n}(d.Component);var oo,so=(0,_.Zz)((0,u.Ng)((function(e){var n=(0,Je.wz)(e);return{languageCode:(0,Je.Ul)(e),locale:(0,Je.JK)(e),login:n&&n.login||null,loginID:n&&n.id||null}})),(0,x.cj)((function(e){return{channelLogin:(0,j.jp)(e.content)}})),(0,sr.A3)((function(e,n){var t=e.isOverlayVisible,i=e.closePopover,a=e.isPopoverOpen,r=e.setOverlayVisibility,o=e.overlayExtension,s=e.channelID,l=e.permissionsStates,d=e.setPermissionsState,u=e.setMenuState,c=e.setNotification,p=e.isDockIconHovered,m=(0,br.YU)(n.installation,l),v=m.linkIdentity,f=m.unlinkIdentity;return{isOverlayVisible:t,closePopover:i,isPopoverOpen:a(n.installation),setOverlayVisibility:r,overlayExtension:o,channelID:s,setPermissionsState:d,linkIdentity:v,unlinkIdentity:f,setMenuState:u,setNotification:c,isDockIconHovered:p(n.installation)}})),(0,pe.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(ro);!function(e){e.BackButton="popover-nav__back-button",e.SettingsButton="popover-nav__settings-button",e.CloseButton="popover-nav__close-button"}(oo||(oo={}));var lo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderInsufficientSpaceTooltip=function(e){return(0,a.jsx)(r.P,{position:o.yX.Absolute,children:(0,a.jsx)(Wi.cv,{direction:Wi.n5.Left,align:Wi.HX.Right,label:(0,c.hw)("Please expand your player size to use this extension.","ExtensionsPopoverContainer"),offsetY:"-12px",show:e})})},n.renderExtension=function(e){var t=n.props,i=t.installation,r=t.permissionsStates;return(0,br.yi)(i)&&(0,br.MA)(i,r)?(0,a.jsx)(so,{isHidden:e,installation:i}):null},n.renderMenu=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,r=e.menuState.type;return!i||n.shouldSkipOverlayPopoverRender()?null:r===Cr.gu.SETTINGS?(0,a.jsx)(no,{installation:t}):r===Cr.gu.MANAGE_ACCESS?(0,a.jsx)(Hr,{installation:t}):r===Cr.gu.PURCHASE?(0,a.jsx)($r,{installation:t}):r===Cr.gu.FOLLOW?(0,a.jsx)(qr,{installation:t}):r===Cr.gu.LOGIN_REQUIRED?(0,a.jsx)(Tr,{installation:t}):r===Cr.gu.CONDITION_CONFIRMATION?(0,a.jsx)(Lr,{installation:t}):r===Cr.gu.UNRELEASED?(0,a.jsx)(io,{installation:t}):null},n.getHeaderTitle=function(){return n.props.installation.extension.name},n.handleSettingsClick=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,a=e.setMenuState,r=e.menuState,o=e.trackEvent,s=i&&r.type===Cr.gu.SETTINGS;a(s?{type:Cr.gu.NONE}:{type:Cr.gu.SETTINGS},t),o(lr.X2.ToolbarGearIconClick,s?lr.iN.HideMenu:lr.iN.ViewMenu,lr.si.ExtensionDockToolbarIconClick,t)},n.handleCloseViewClick=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.trackEvent;i({type:(0,br.l1)(t)?Cr.gu.SETTINGS:Cr.gu.NONE},t),a(lr.X2.ToolbarLeftAngleIconClick,lr.iN.HideMenu,lr.si.ExtensionDockToolbarIconClick,t)},n.handleClosePopoverClick=function(){var e=n.props,t=e.installation,i=e.closePopover,a=e.menuState;(0,e.trackEvent)(lr.X2.ToolbarXIconClick,lr.iN.MinimizeExtension,lr.si.ExtensionDockToolbarIconClick,t),(0,Cr.XL)(a)&&a.confirmationRequest.resultCallback(a.confirmationRequest.defaultResult),i(t)},n.shouldSkipOverlayPopoverRender=function(){var e=n.props,t=e.installation,i=e.menuState.type;return"active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")&&(0,br.l1)(t)&&(i===Cr.gu.SETTINGS||i===Cr.gu.MANAGE_ACCESS||i===Cr.gu.REPORT)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getHeaderTitle(),n=this.props,t=n.visible,i=n.installation,s=n.isMenuOpen,d=n.menuState,u=n.isChannelInfoVisible,p=(0,br.nZ)(s,this.props.videoDimensions,i,u),m=p.offset,v=p.shouldShow,f=p.extensionSize,g=p.popoverContentSize,h=p.zoom,y={height:"".concat(f.height/h,"px"),width:"".concat(f.width/h,"px"),position:"absolute"},k=(0,br.l1)(i),S="active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control"),_=!k&&!S,C=!k&&s||k&&d.type!==Cr.gu.SETTINGS;return this.shouldSkipOverlayPopoverRender()?null:(0,a.jsxs)(a.Fragment,{children:[this.renderInsufficientSpaceTooltip(t&&!v),(0,a.jsx)(r.P,{border:!0,display:t?o.nl.Block:o.nl.Hide,position:o.yX.Relative,className:l()("extensions-popover"),children:(0,a.jsx)(xr.A,{popoverId:"popover-extensions",show:v,size:hr.$V.Auto,direction:yr.j.TopRight,offsetY:"".concat(m,"px"),children:(0,a.jsxs)("div",{style:{width:"".concat(g.width,"px")},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,padding:0,fullWidth:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,elevation:1,background:o.VS.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:C&&(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close extension view","ExtensionsPopover"),overlay:!0,icon:Nr.fj,onClick:this.handleCloseViewClick,"data-test-selector":oo.BackButton})}),_&&(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot")}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,flexGrow:1,flexShrink:1,overflow:o.nE.Hidden,textAlign:o.nO.Center,children:(0,a.jsx)(kn.N,{type:ft.M2.H6,bold:!0,ellipsis:!0,children:e})}),_&&(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Extension settings","ExtensionsPopover"),overlay:!0,icon:Ar.f,onClick:this.handleSettingsClick,"data-test-selector":oo.SettingsButton})}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close extension popup","ExtensionsPopover"),overlay:!0,icon:dn.g,onClick:this.handleClosePopoverClick,"data-test-selector":oo.CloseButton})})]})}),(0,a.jsxs)("div",{style:{height:"".concat(g.height,"px"),position:"relative"},children:[(0,a.jsx)(dr.d,{transformValues:{scale:h},transformOrigin:"0 0",style:y,children:this.renderExtension(!t||!v)}),this.renderMenu()]})]})})})]})},n}(d.Component),uo=(0,sr.A3)((function(e,n){var t=e.isMenuOpen,i=e.getMenuState,a=e.isChannelInfoVisible,r=e.permissionsStates,o=e.trackEvent,s=e.setMenuState,l=e.closePopover;return{isMenuOpen:t(n.installation),menuState:i(n.installation),isChannelInfoVisible:a,permissionsStates:r,trackEvent:o,setMenuState:s,closePopover:l}}))(lo);var co=t(305528),po=t(354955),mo=t.n(po),vo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderDemoAsset=function(){var e=n.props,t=e.installation,i=e.extensionsInfoBalloonData,r=_r[t.extension.id];if(i.loading||i.error||!i.extension||!i.extension.screenshotURLs||!i.extension.screenshotURLs[0])return(0,a.jsx)(co.Or,{});if(r&&r.useWEBM){var o="https://extension-files.twitch.tv/demos/".concat(t.extension.id,"/demo.webm");return(0,a.jsxs)("video",{style:{position:"inherit"},autoPlay:!0,loop:!0,muted:!0,poster:i.extension.screenshotURLs[0],children:[(0,a.jsx)("source",{type:"video/webm",src:o}),(0,c.hw)("Extension Demo Video","ExtensionsInfoBalloon")]})}return(0,a.jsx)(Zt.L,{alt:(0,c.hw)("Extension Screenshot","ExtensionsInfoBalloon"),src:i.extension.screenshotURLs[0]})},n.dismissInfo=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Cr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isInfoOpen,t=e.installation,i=_r[t.extension.id],s=(null==i?void 0:i.overriddenViewerSummary)||t.extension.viewerSummary;return(0,a.jsxs)(gr.E,{show:n,background:o.VS.Overlay,size:hr.$V.ExtraLarge,direction:yr.j.LeftCenter,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{x:2,top:2,bottom:1},children:[(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(tt.hE,{type:ft.M2.H4,size:tt.uM.Small,children:"Introducing the ".concat(t.extension.name," Extension!")})}),(0,a.jsx)(r.P,{className:"extensions-info-balloon__close-button",flexGrow:0,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close extensions information dialog","ExtensionsInfoBalloon"),icon:dn.g,onClick:this.dismissInfo})})]}),(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{x:2,bottom:1},children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size6,children:s})}),(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{x:2,bottom:1},children:this.renderDemoAsset()})]})},n}(d.Component);var fo=(0,_.Zz)((0,sr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{isInfoOpen:t(n.installation).type===Cr.gu.INFO,setMenuState:i}})),(0,z._v)(mo(),{name:"extensionsInfoBalloonData",options:function(e){return{variables:{extensionID:e.installation.extension.id,extensionVersion:e.installation.extension.version}}}}))(vo),go=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderPopovers=function(e,t){var i=n.props.allVideoExtensions.map((function(e){var i=n.props,r=i.playerDimensions,o=i.videoDimensions,s=i.isPopoverOpen,l=i.getMenuState,d=s(e)&&l(e).type!==Cr.gu.INFO;return(0,a.jsx)(uo,{visible:d&&t,playerDimensions:r,videoDimensions:o,installation:e},"extensions-dock-popover__".concat((0,br.wv)(e)))}));return(0,a.jsx)("div",{style:{marginInlineEnd:"".concat(e,"px")},children:i})},n.renderExtensionInfoBalloon=function(){var e=n.props.overlayExtension;return e?(0,a.jsx)(fo,{installation:e}):null},n.renderDockAndIcons=function(e){var t=n.props,i=t.shouldShow,s=t.allVideoExtensions;return(0,a.jsx)(Pt.e,{type:Et.ES.TranslateRight,duration:Et.Cf.Long,show:i,alwaysRenderChild:!0,children:(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,className:l()("extensions-dock__dock",["extensions-dock__dock_".concat(i?"visible":"hidden")]),children:(0,a.jsx)(dr.d,{transformValues:{scale:e},transformOrigin:"100% 50%",children:(0,a.jsx)(r.P,{display:o.nl.Flex,background:o.VS.Base,flexDirection:o.bo.Column,borderRadius:xt.Z.Medium,padding:{top:1},justifyContent:o.A9.Center,alignItems:o.k2.Center,children:s.map(n.renderExtensionCard)})})})})},n.renderExtensionCard=function(e){return(0,a.jsx)(Er,{installation:e},"extensions-dock-card__".concat((0,br.wv)(e)))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isChannelInfoVisible,t=e.hideExtensions,i=(0,br.pi)(this.props.videoDimensions,n),s=i.shouldShow,l=i.zoom,d=i.xOffset,u=s&&!t;return(0,a.jsx)(on.e,{theme:this.props.theme,children:(0,a.jsxs)(r.P,{display:u?o.nl.Flex:o.nl.Hide,position:o.yX.Absolute,attachRight:!0,fullHeight:!0,alignItems:o.k2.Center,className:"extensions-dock__layout",children:[this.renderExtensionInfoBalloon(),this.renderPopovers(d,u),this.renderDockAndIcons(l)]})})},n}(d.Component),ho=(0,sr.A3)((function(e){var n=e.isPopoverOpen,t=e.isChannelInfoVisible,i=e.hideExtensions,a=e.allVideoExtensions,r=e.getMenuState,o=e.overlayExtension;return{isPopoverOpen:n,isChannelInfoVisible:t,hideExtensions:i,allVideoExtensions:a,getMenuState:r,overlayExtension:o}}))(go);var yo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.active,i=e.hideExtensions,a=e.isAnyPopoverOpen;return!i&&(!!t||a)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions,shouldShow:this.shouldShow(),theme:"dark"};return(0,a.jsx)(ho,(0,i.__assign)({},e))},n}(d.Component),ko=(0,_.Zz)((0,yt.In)((function(e){var n=e.active;return{active:n}})),(0,sr.A3)((function(e){var n=e.hideExtensions,t=e.isAnyPopoverOpen;return{hideExtensions:n,isAnyPopoverOpen:!!t()}})))(yo);var So=t(309759),_o=t(222115),Co=t(613072),bo=t.n(Co),Po=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isExpiring,t=e.showBitsNotification,i=e.showSuccessMessage,s=e.loginID;return n?(0,a.jsx)(Pt.e,{type:Et.ES.TranslateRight,duration:Et.Cf.Long,show:t&&void 0!==s,alwaysRenderChild:!0,transitionInitialMount:!0,children:(0,a.jsxs)(r.P,{borderTop:!0,background:o.VS.Overlay,display:o.nl.Block,position:o.yX.Relative,padding:{y:1,x:2},margin:{y:5,x:3},className:"bits-balance-notification",children:[i&&(0,a.jsx)(r.P,{margin:{right:.5},display:o.nl.Inline,className:"extension-notification__success-text",children:this.props.bitsSuccessMessage}),this.props.bitsBalanceMessage]})}):null},n}(d.Component),Eo=(0,sr.A3)((function(e){var n=e.loginID,t=e.getNotification,i=t(),a=i.type===Cr._n.BITS_BALANCE,r=i.type===Cr._n.BITS_BALANCE&&!0===i.success;return{loginID:n,isExpiring:(0,Cr.dD)(i),showBitsNotification:a,showSuccessMessage:r}}))(Po);var xo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.bitsBalanceQuery;if(!e||e.loading||e.error)return null;var n=e.currentUser,t=n&&n.bitsBalance||0,r={bitsBalanceMessage:(0,c.hw)("Bits Balance {bitsCount}",{bitsCount:(0,a.jsx)(Wr.k,{count:t,withImage:!0,withText:!0,animated:!1})},"ExtensionsNotificationBitsBalanceContainer"),bitsSuccessMessage:(0,c.hw)("Success!","ExtensionsNotificationBitsBalanceContainer")};return(0,a.jsx)(Eo,(0,i.__assign)({},r))},n}(d.Component),Ao=(0,_.Zz)((0,sr.A3)((function(e){var n=e.channelID,t=e.loginID;return{channelID:n,loginID:t}})),(0,So.n)((function(e){return(0,_o.Y)(bo(),e.channelID||null,e.loginID||null)})),(0,z._v)(bo(),{name:"bitsBalanceQuery"}))(xo);var No=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachBottom:!0,alignItems:o.k2.Center,className:"extensions-notifications",children:(0,a.jsx)(Ao,{})})},n}(d.Component),wo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"videoDimensions",{get:function(){var e=this.props.playerDimensions,n=e.playerHeight,t=e.playerWidth;if(!n||!t)return{videoWidth:0,videoHeight:0};var i=this.aspectRatio,a=t/n>i;return{videoWidth:a?Math.ceil(n*i):t,videoHeight:a?n:Math.ceil(t/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"aspectRatio",{get:function(){var e=this.props.videoDimensions,n=e.videoHeight,t=e.videoWidth;return n&&t?t/n:1.7777777777777777},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.props,n=e.game,t=e.isVideoAdShowing,i=e.hideExtensions,s=e.arePlayerControlsVisible;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Tn.h,{children:(0,a.jsxs)(r.P,{className:"video-size passthrough-events",position:o.yX.Absolute,display:i?o.nl.Hide:o.nl.Block,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,children:[this.renderVideoOverlay(this.videoDimensions),(0,a.jsx)(ko,{playerDimensions:this.props.playerDimensions,videoDimensions:this.videoDimensions}),(0,a.jsx)(No,{})]})}),(0,a.jsx)(vr,{game:n,isVideoAdShowing:t,arePlayerControlsVisible:s})]})},n.prototype.renderVideoOverlay=function(e){var n=this.props,t=n.overlayExtension,i=n.shouldShowOverlayExtension,r=n.permissionsStates;if(!t||!(0,br.MA)(t,r))return null;var o=e.videoWidth,s=e.videoHeight,l={width:"".concat(o,"px"),height:"".concat(s,"px"),display:i?"block":"none"};return(0,a.jsx)(dr.d,{transformValues:{translateX:Math.floor(-.5*o),translateY:Math.floor(-.5*s)},className:"extensions-video-overlay-size-container",style:l,children:(0,a.jsx)(so,{isHidden:!i,installation:t})})},n}(d.Component),Io=(0,sr.A3)((function(e){var n=e.channelID,t=e.allVideoExtensions,i=e.overlayExtension,a=e.isOverlayVisible,r=e.hideExtensions,o=e.permissionsStates;return{channelID:n,allVideoExtensions:t,overlayExtension:i,hideExtensions:r,shouldShowOverlayExtension:!r&&a,permissionsStates:o}}))(wo);var To=function(e){var n=e.track,t=e.activeExtensions,i=d.useCallback((function(e){if("minute-watched"===e.name&&0!==t.length){var i={active_extensions:JSON.stringify(t.map((function(e){return{extension_id:e.id,extension_anchor:e.activationConfig.anchor,extension_slot:e.activationConfig.slot}})))};n("extensions_active_per_minute_watched",i)}}),[n,t]);return(0,M.p)(L.a.ANALYTICS_EVENT,i),null},Do=t(947028),Fo=t.n(Do),Oo=function(e){function n(n){var t=e.call(this,n)||this;return t.state={},t.trackEvent=function(e,n){var a;switch(e){case lr.si.ExtensionDockIconClick:a="extension_dock_icon_click";break;case lr.si.ExtensionDockMenuOptionClick:a="extension_dock_menu_option_click";break;case lr.si.ExtensionDockToolbarIconClick:a="extension_dock_toolbar_icon_click";break;default:return}t.props.track(a,(0,i.__assign)({},n))},t.handleResize=function(){t.setState(t.getPlayerDimensions())},t.getPlayerDimensions=function(){var e=(0,nt.P)(t.props.videoRef);return{playerWidth:e.width,playerHeight:e.height}},t.state=(0,i.__assign)({},t.getPlayerDimensions()),t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n,t,i,r,o,s,l,d,u,c=this.props.data,p=(0,fe.NZ)(this.props.mediaPlayerInstance),m=(null===(t=null===(n=null===(e=null==c?void 0:c.user)||void 0===e?void 0:e.stream)||void 0===n?void 0:n.game)||void 0===t?void 0:t.name)||"";if((null===(o=null===(r=null===(i=null==c?void 0:c.user)||void 0===i?void 0:i.self)||void 0===r?void 0:r.banStatus)||void 0===o?void 0:o.isPermanent)||(null!==(u=null===(d=null===(l=null===(s=null==c?void 0:c.user)||void 0===s?void 0:s.self)||void 0===l?void 0:l.banStatus)||void 0===d?void 0:d.expiresInMs)&&void 0!==u?u:0)>0)return null;if(!this.props.shouldMountExtensionComponents||!this.props.installations.length)return null;var v=this.state,f=v.playerWidth,g=v.playerHeight;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($n.$,{onResize:this.handleResize}),(0,a.jsx)(To,{track:this.props.track,activeExtensions:this.props.installations}),(0,a.jsx)(Io,{isVideoAdShowing:this.props.isVideoAdShowing,playerDimensions:{playerWidth:f,playerHeight:g},videoDimensions:p,arePlayerControlsVisible:this.props.playerControlsActive,game:m})]})},n}(d.Component);var Ro=(0,_.Zz)((0,Ge.X)({name:"ExtensionsOverlayContainer"}),(0,u.Ng)((function(e){var n=(0,Je.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{channelLogin:(0,j.jp)(e.content),parentChannelID:(0,j.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:n.showChannelInfoOnHover}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,kt.o1)(),(0,pe.c0)((function(e){var n=e.isFullscreen,t=e.videoRef;return{isFullscreen:n,videoRef:t}})),(0,yt.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})),(0,A.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,ce.VX)((function(e){return{isVideoAdShowing:(0,et.cz)(e.videoAdMetadata)}})),(0,gt.vM)((function(e){return{isCasting:(0,gt.mh)(e)}})),(0,z._v)(Fo(),{skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,sr.A3)((function(e){var n=e.shouldMountExtensionComponents,t=e.allVideoExtensions;return{shouldMountExtensionComponents:n,installations:t}})))(Oo);var Vo,Mo=t(672052),Lo=t(681685),jo=t(369624),Bo=t(690982),Uo=t(432584),qo=t.n(Uo),Go=function(e){return!!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)},zo=function(e){return!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)||e.user.self.follower.disableNotifications};!function(e){e.FollowPanelOverlay="follow-panel-overlay"}(Vo||(Vo={}));var Ho=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={userOriginallyFollowedWithNotifications:!1},n.handleFollow=function(){var e=n.props.offlineChannelNotificationPromptLoginAction;return e===me.vS.Modal?n.showAuthModalIfNotLoggedIn():e===me.vS.Navigate?n.openAuthPageIfNotLoggedIn():void 0},n.openAuthPageIfNotLoggedIn=function(){if(!n.props.isLoggedIn){if(!(n.props.data&&n.props.data.user&&n.props.data.user.login))return;var e=n.props.data.user.login,t=(0,Mo.SQ)("/".concat(e));window.open("https://www.twitch.tv".concat(t),"_blank")}},n.showAuthModalIfNotLoggedIn=function(){n.props.isLoggedIn||n.props.showAuthModal()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.data&&!this.props.data.loading&&this.setUserOriginallyFollowed(this.props.data)},n.prototype.componentDidUpdate=function(e){e.data&&!e.data.loading||!this.props.data||this.props.data.loading||this.setUserOriginallyFollowed(this.props.data)},n.prototype.render=function(){var e=this.props.liveChannelLogin,n=l()("follow-panel-overlay",{"follow-panel-overlay--with-top-offset":this.props.streamInfoShowing});return this.shouldRender()?(0,a.jsx)(Pt.e,{show:!0,type:Et.ES.SlideOverTop,transitionInitialMount:!0,injectChild:!0,children:(0,a.jsxs)(r.P,{className:n,"data-test-selector":Vo.FollowPanelOverlay,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Start,position:o.yX.Absolute,elevation:1,background:o.VS.Overlay,borderRadius:xt.Z.Small,padding:1,children:[(0,a.jsx)(kn.N,{color:o.Q1.Overlay,fontSize:o.Z4.Size5,children:(0,c.hw)("Follow and get notified when {channelLogin} is live",{channelLogin:e},"FollowPanelOverlay")}),(0,a.jsx)(r.P,{margin:{top:1},children:(0,a.jsx)(Bo.F6,{userID:this.props.data.user.id,isFollowingUser:Go(this.props.data),notificationsDisabled:zo(this.props.data),onFollow:this.handleFollow})})]})}):null},n.prototype.shouldRender=function(){return!this.props.channelIsSelf&&(!!this.props.liveChannelLogin&&(!(!this.props.data||!this.props.data.user)&&(!this.props.data.loading&&!this.props.data.error&&(!this.state.userOriginallyFollowedWithNotifications&&(!this.props.streamInfoShowing||!this.props.socialPanelShowing)))))},n.prototype.setUserOriginallyFollowed=function(e){var n=Go(e)&&!zo(e);this.setState({userOriginallyFollowedWithNotifications:n})},n}(d.Component);var Wo=(0,_.Zz)((0,Ge.X)({name:"FollowPanelOverlay"}),(0,x.cj)((function(e){var n;return{socialPanelShowing:void 0!==(null===(n=e.behaviors)||void 0===n?void 0:n.socialPanelType),liveChannelLogin:(0,j.jp)(e.content),offlineChannelNotificationPromptLoginAction:(0,T.wk)({playerPublicPropsContext:e}).offlineChannelNotificationPromptLoginAction}})),(0,pe.c0)((function(e){return{streamInfoShowing:e.streamInfoShowing}})),(0,z._v)(qo(),{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""},skip:!e.liveChannelLogin}}}),(0,u.Ng)((function(e,n){var t=(0,Je.wz)(e);return{channelIsSelf:!(!t||t.login!==n.liveChannelLogin),isLoggedIn:(0,Je.M3)(e)}}),(function(e,n){return{showAuthModal:function(){if(n.data&&n.data.user){var t=(0,jo.$5)(Lo.W.NotificationBell,{showContext:!0,targetChannel:n.liveChannelLogin});e(t)}}}})))(Ho),Ko=t(699737),Zo=t(112736);function Qo(e,n){var t=e.value,i=e.valueAlt;return(0,a.jsxs)(d.Fragment,{children:[(0,a.jsxs)(kn.N,{type:ft.M2.Span,children:[t,i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(kn.N,{color:o.Q1.Alt,type:ft.M2.Span,children:"/"}),i]})]}),n&&(0,a.jsx)(kn.N,{color:o.Q1.Alt,type:ft.M2.Span,children:","})]},t)}var Yo,Xo=(0,Ge.X)({name:"KeyboardShortcutsOverlay"})((function(){var e=(0,d.useContext)(pe._t).hideKeyboardShortcuts,n=(0,d.useContext)(x.kl).content,t=(0,d.useRef)(null),i=(0,d.useMemo)((function(){var e=[{message:(0,c.hw)("Pause/Play","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("Space/k","KeyboardShortcutsOverlayComponent")}},(0,j.DG)(n)?void 0:{message:(0,c.hw)("Back/Forward {count} seconds",{count:(0,j.Jn)(n)?2:10},"KeyboardShortcutsOverlayComponent"),values:[{value:"",valueAlt:""},{value:"j",valueAlt:"l"}]},(0,j.DG)(n)?void 0:{message:(0,c.hw)("Slow down/Speed up","KeyboardShortcutsOverlayComponent"),values:{value:",",valueAlt:"."}},{message:(0,c.hw)("Change Volume","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("shift+","KeyboardShortcutsOverlayComponent"),valueAlt:(0,c.hw)("shift+","KeyboardShortcutsOverlayComponent")}},(0,j.Jn)(n)?void 0:{message:(0,c.hw)("Mute","KeyboardShortcutsOverlayComponent"),values:{value:"m"}},{message:(0,c.hw)("Toggle Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:"f"}},{message:(0,c.hw)("Exit Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("Esc","KeyboardShortcutsOverlayComponent")}},{message:(0,c.hw)("Show this menu","KeyboardShortcutsOverlayComponent"),values:{value:"?"}}];return(0,Zo.jP)(e)}),[n]);(0,d.useEffect)((function(){t.current&&t.current.focus()}),[]);var s=(0,c.hw)("Keyboard Shortcuts","KeyboardShortcutsOverlayComponent");return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)("div",{style:{width:300,position:"absolute"},children:(0,a.jsx)(r.P,{background:o.VS.Base,elevation:1,color:o.Q1.Base,children:(0,a.jsx)(Ia.u,{section:"global",id:"keyboard-shortcuts-overlay",icon:Ko.f,label:s,children:(0,a.jsx)(un.X,{ref:t,tabIndex:-1,children:(0,a.jsxs)(vn.B,{children:[(0,a.jsxs)(pn.H,{children:[(0,a.jsx)(fn.n,{padding:.5,children:s}),(0,a.jsx)(fn.n,{textAlign:o.nO.Right,padding:.5,children:(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Text,icon:dn.g,"aria-label":(0,c.hw)("Close Keyboard Shortcuts","KeyboardShortcutsOverlayComponent"),onClick:e})})]}),i.map((function(e,n){var t=e.message,i=function(e){return Array.isArray(e)?e.map((function(n,t){return Qo(n,t<e.length-1)})):Qo(e)}(e.values);return(0,a.jsxs)(pn.H,{children:[(0,a.jsx)(fn.n,{padding:.5,children:(0,a.jsx)(kn.N,{children:t})}),(0,a.jsx)(fn.n,{textAlign:o.nO.Right,padding:.5,children:i})]},n)}))]})})})})})})})),$o=t(731667);!function(e){e.PlayButton="player-overlay-play-button"}(Yo||(Yo={}));var Jo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePlay=function(){n.props.play()},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,c.hw)("Play","PlayButtonOverlay");return(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency5,children:(0,a.jsxs)(r.P,{position:o.yX.Relative,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(sn.S,{position:o.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(At.M,{onClick:this.handlePlay,onDoubleClick:this.handleToggleFullscreen,"aria-label":e})}),(0,a.jsx)(r.P,{position:o.yX.Absolute,children:(0,a.jsx)(ga.tD,{borderRadius:xt.Z.Medium,onClick:this.handlePlay,"data-a-target":Yo.PlayButton,variant:ga.hJ.Overlay,"aria-label":e,children:(0,a.jsx)(wt.A,{size:120})})})]})})},n}(d.Component),es=(0,_.Zz)((0,Ge.X)({name:"PlayButtonOverlay"}),(0,A.AP)((function(e){return{play:e.play}})),(0,kt.o1)(),(0,x.cj)((function(e){return{disableDoubleClickFullscreen:(0,T.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen}})),(0,pe.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(Jo);var ns,ts=function(){var e=(0,d.useContext)(A.wL),n=e.play,t=e.isPlaying,i=e.userTriggeredPause,s=e.userTriggeredPlay,l=(0,d.useContext)(E.$g),u=l.autoplay,p=l.hasPlayed,m=l.mediaPlayerInstance,v=(0,d.useContext)(pe._t),f=v.isFullscreen,g=v.enterFullscreen,h=v.exitFullscreen,y=(0,d.useContext)(x.kl),k=(0,T.wk)({playerPublicPropsContext:y}).disableDoubleClickFullscreen,S=(0,d.useState)(!1),_=S[0],C=S[1],b=(0,d.useState)(null),P=b[0],N=b[1],w=(0,d.useRef)(),I=(0,d.useRef)(!1),D=(0,d.useCallback)((function(e){I.current&&(C(!0),N(e))}),[]),F=function(){return m?m.getDisplayHeight()<=240?40:m.getDisplayHeight()>=480?80:Math.round(m.getDisplayHeight()*(1/6)):60};if((0,d.useEffect)((function(){if(s&&t)return D(Qe.t.Play)}),[t,D,s]),(0,d.useEffect)((function(){if(i&&!t)return D(Qe.t.MiniPlayerPause)}),[t,D,i]),(0,we.S)((function(){I.current=!0})),!u&&!p)return(0,a.jsx)(es,{});if(!P&&t)return null;var O=(0,c.hw)("Play","LastActionOverlay");return(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency10,children:(0,a.jsxs)(r.P,{position:o.yX.Relative,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(sn.S,{position:o.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(At.M,{onClick:function(){!1===t&&n({userTriggered:!0})},onDoubleClick:function(){k||(f?h():g())},"aria-label":O})}),(0,a.jsx)(Pt.e,{show:_,type:[Et.ES.ScaleOver,Et.ES.Fade],duration:[Et.Cf.Long,Et.Cf.Short],onEnterComplete:function(){clearTimeout(w.current),w.current=setTimeout((function(){C(!1)}),500)},onExitComplete:function(){N(null),clearTimeout(w.current),w.current=void 0},transitionInitialMount:!0,children:P&&(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,background:o.Q1.Overlay,borderRadius:xt.Z.Rounded,color:o.Q1.Overlay,padding:1,children:(0,a.jsx)($o.t,{asset:P,type:$o.H.Inherit,width:F(),height:F()})})})]})})},is=t(26589),as=t(628458);!function(e){e.PlayPauseButton="mini-overlay-play-pause-button"}(ns||(ns={}));var rs,os=(0,_.Zz)((0,Ge.X)({name:"MiniOverlay"}),(0,E.dd)((function(e){return{playbackRestricted:(0,fe.k1)(e)}})),(0,x.cj)((function(e){return{mini:(0,T.wk)({playerPublicPropsContext:e}).mini}})),(0,A.AP)((function(e){return{isPlaying:e.isPlaying,pause:e.pause,play:e.play}})),(0,yt.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})))((function(e){var n=e.isPlaying,t=e.mini,i=e.pause,s=e.play,l=e.playbackRestricted,d=e.playerControlsActive;if(!t)return null;var u=n?(0,c.hw)("Pause","VideoPlayerMiniOverlay"):(0,c.hw)("Play","VideoPlayerMiniOverlay"),p=n?Qe.t.MiniPlayerPause:Qe.t.MiniPlayerPlay;return(0,a.jsx)(Pt.e,{type:Et.ES.Fade,show:d,alwaysRenderChild:!0,children:(0,a.jsxs)(_n.FT,{transparency:_n.xL.Transparency6,type:_n.NL.Fullscreen,children:[(0,a.jsxs)(r.P,{className:"mini-overlay__title",background:o.VS.Overlay,alignItems:o.k2.Center,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Between,padding:{y:.5,right:.5},fullWidth:!0,children:[(0,a.jsx)(r.P,{ellipsis:!0,margin:{x:1},children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,type:ft.M2.Span,children:t.title})}),(0,a.jsx)(r.P,{flexShrink:0,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Dismiss Mini Player","VideoPlayerMiniOverlay"),icon:dn.g,onClick:t.onClickDismiss,overlay:!0})})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,flexDirection:o.bo.Row,justifyContent:o.A9.Center,fullHeight:!0,fullWidth:!0,children:[(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Expand Player","VideoPlayerdMiniOverlay"),icon:as.i,onClick:t.onClickExpand,overlay:!0,size:ci.f.Large}),(0,a.jsx)(r.P,{margin:{left:2},children:(0,a.jsx)(ln.a2,{"aria-label":l?(0,c.hw)("Playback restricted","VideoPlayerMiniOverlay"):u,disabled:l,icon:p,onClick:function(){n?i({userTriggered:!0}):s({userTriggered:!0})},overlay:!0,size:ci.f.Large,"data-a-target":ns.PlayPauseButton})})]})]})})}));!function(e){e.DismissButton="muted-segments-alert-overlay-presentation__dismiss-button",e.PositionWrapper="muted-segments-alert-overlay-presentation__wrapper",e.ScrollWrapper="muted-segments-alert-overlay-presentation__scroll-wrapper"}(rs||(rs={}));var ss=function(e){var n=d.useRef(e.bottomControlsShowing),t=function(e){var n=e.bottomControlsShowing,t=e.bottomControlsShown;return{positionWrapperClasses:l()({"muted-segments-alert__position-wrapper":!0,"muted-segments-alert__position-wrapper--bottom-controls-offset":n}),scrollWrapperClasses:l()({"muted-segments-alert__scroll-wrapper":!0,"muted-segments-alert__scroll-wrapper--bottom-controls-in":n,"muted-segments-alert__scroll-wrapper--bottom-controls-out":!n&&t})}}({bottomControlsShowing:e.bottomControlsShowing,bottomControlsShown:n.current}),i=t.positionWrapperClasses,s=t.scrollWrapperClasses;return e.bottomControlsShowing&&(n.current=!0),(0,a.jsx)(r.P,{className:i,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.ColumnReverse,alignItems:o.k2.Center,"data-test-selector":rs.PositionWrapper,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(gn.Vq,{"data-test-selector":rs.ScrollWrapper,className:s,children:(0,a.jsxs)(r.P,{background:o.VS.Overlay,padding:{x:.5},className:"muted-segments-alert__content",display:o.nl.Flex,border:!0,children:[(0,a.jsx)(sn.S,{padding:{y:1,left:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","MutedSegmentsAlert")})}),(0,a.jsx)(r.P,{flexShrink:0,padding:{y:.5},children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Dismiss muted audio notice","MutedSegmentsAlert"),icon:dn.g,onClick:e.onDismissClick,overlay:!0,"data-test-selector":rs.DismissButton})})]})})})},ls=t(218615),ds=t.n(ls),us="twilight.mutedSegmentsAlertDismissed",cs=function(e){function n(n){var t=e.call(this,n)||this;return t.handleDismissClick=function(){t.setState({isDismissed:!0}),c.VS.set(us,!0)},t.state={isDismissed:c.VS.get(us,!1)},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.data;return!e||e.loading||e.error||!function(e){var n=e.video;return n&&n.muteInfo&&n.muteInfo.mutedSegmentConnection&&n.muteInfo.mutedSegmentConnection.nodes&&n.muteInfo.mutedSegmentConnection.nodes.length>0}(e)||this.state.isDismissed?null:(0,a.jsx)(ss,{bottomControlsShowing:this.props.bottomControlsShowing,onDismissClick:this.handleDismissClick})},n}(d.Component);var ps=(0,_.Zz)((0,Ge.X)({name:"MutedSegmentsAlertOverlay"}),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=(0,T.Rh)({playerPublicPropsContext:e});return{vodID:(0,j.hq)(t),includePrivateVODs:n.includePrivateVODs}})),(0,z._v)(ds(),{options:function(e){return{variables:{vodID:e.vodID,includePrivate:e.includePrivateVODs||!1}}},skip:function(e){return!e.vodID}}))(cs),ms=t(419354),vs=t.n(ms),fs=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.offlineImageURL?n.props.data.user.offlineImageURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e?(0,a.jsx)("div",{style:{backgroundColor:"#19171c",backgroundImage:"url(".concat(e,")"),width:"100%",height:"100%",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}):null},n}(d.Component);var gs=(0,_.Zz)((0,Ge.X)({name:"OfflineBannerOverlay"}),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{liveChannelLogin:(0,j.jp)(n)}})),(0,z._v)(vs(),{skip:function(e){return!e.liveChannelLogin},options:function(e){var n;return{variables:{login:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""}}}}))(fs),hs=t(416290),ys=t(391186),ks=t(478889),Ss=t(47149),_s=t(144269),Cs=t(22046),bs=t(998300),Ps=t(666179),Es=t.n(Ps),xs=v.x.wrap((function(){return t.e(8217).then(t.bind(t,550715))}),"OfflineEmbedChannelInfo"),As=v.x.wrap((function(){return Promise.all([t.e(76673),t.e(54673),t.e(38826)]).then(t.bind(t,976305))}),"OfflineEmbedScheduleSegment");function Ns(){var e,n,t,i,s,l,u,p,m,v,f,g,h,y,k=(0,d.useContext)(x.kl).content,S=(0,d.useState)(window.innerWidth<=600),_=S[0],C=S[1],b=null!==(e=(0,j.hd)(k))&&void 0!==e?e:"",P=(0,d.useRef)((0,W.aq)()),E=(0,R.IT)(Es(),{variables:{login:null!=b?b:""},skip:!b}),A=E.data,N=E.loading,w=(null===(n=null==A?void 0:A.user)||void 0===n?void 0:n.id)||"",I=null===(l=null===(s=null===(i=null===(t=null==A?void 0:A.user)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.schedule)||void 0===s?void 0:s.segmentList)||void 0===l?void 0:l.edges,T=null===(v=null===(m=null===(p=null===(u=null==A?void 0:A.user)||void 0===u?void 0:u.videos)||void 0===p?void 0:p.edges)||void 0===m?void 0:m[0])||void 0===v?void 0:v.node,D=null==I?void 0:I.filter((function(e){var n;return!(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.isCancelled)})).slice(0,2),F=D&&D.length>0,O=T&&!F&&!_,V=F&&!_,M=(0,Cs.g)(null==T?void 0:T.previewThumbnailURL),L=(0,d.useState)(!1),B=L[0],U=L[1];return(0,d.useEffect)((function(){U(!A||!w||!b)}),[A,w,b]),B&&!N?(0,a.jsx)(_s.PageNotFound,{openInNewTab:!0}):(0,a.jsxs)("div",{className:"offline-embeds",style:{backgroundImage:"url(".concat(null!==(g=null===(f=null==A?void 0:A.user)||void 0===f?void 0:f.bannerImageURL)&&void 0!==g?g:null===(h=null==A?void 0:A.user)||void 0===h?void 0:h.offlineImageURL,")")},children:[(0,a.jsx)($n.$,{onResize:function(e,n){e&&n&&C(e<=775||n<=300)}}),(0,a.jsxs)(r.P,{alignItems:o.k2.Center,display:o.nl.Flex,fullHeight:!0,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,className:V?"offline-embeds--stream-schedule-exists":void 0,children:(0,a.jsx)(xs,{channelLogin:b,offlineSessionID:P.current,showSmallOverlay:_,customBackground:F&&!_?o.VS.Overlay:void 0})}),V&&(0,a.jsx)("div",{style:{marginTop:ws(null==D?void 0:D.length),zIndex:0},children:(0,a.jsxs)(r.P,{className:"offline-embeds--schedule",display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,padding:{left:2,right:3,bottom:2},children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Between,children:[(0,a.jsx)(r.P,{className:"offline-embeds--upcoming-streams",padding:{left:1,top:2,bottom:1},display:o.nl.InlineBlock,children:(0,a.jsx)(kn.N,{type:ft.M2.H4,children:(0,c.hw)("Upcoming Streams:","OfflineEmbedsOverlay")})}),(0,a.jsx)(r.P,{className:"offline-embeds--stylized-link",display:o.nl.Flex,alignItems:o.k2.Center,padding:{top:2,bottom:1},children:(0,a.jsx)(fa.Cb,{linkTo:(0,bs.V)({content:"offline_embed_full_schedule",medium:"embed"},(0,za.VV)("/".concat(b,"/schedule"))),targetBlank:!0,variant:fa.KD.Inherit,hoverColorInherit:!0,underline:!1,children:(0,a.jsx)(kn.N,{type:ft.M2.H5,bold:!0,children:(0,c.hw)("Full Schedule","OfflineEmbedsOverlay")})})})]}),D&&D.map((function(e){var n,t,i,s,l,d,u,c;return(0,a.jsx)(r.P,{className:"offline-embeds--schedule-segment",display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,margin:{x:.5,bottom:1},style:(null===(n=null==A?void 0:A.user)||void 0===n?void 0:n.primaryColorHex)?{"border-left":"0.5rem solid ".concat((0,Ss.ZA)(null===(t=null==A?void 0:A.user)||void 0===t?void 0:t.primaryColorHex))}:void 0,fullWidth:!0,children:(0,a.jsx)(As,{channelID:w,channelLogin:b,displayName:null!==(s=null===(i=null==A?void 0:A.user)||void 0===i?void 0:i.displayName)&&void 0!==s?s:b,endAt:e.node.endAt||void 0,gameName:null===(d=null===(l=e.node.categories)||void 0===l?void 0:l[0])||void 0===d?void 0:d.name,hasReminder:e.node.hasReminder,id:e.node.id,previewImageURL:(null===(c=null===(u=e.node.categories)||void 0===u?void 0:u[0])||void 0===c?void 0:c.boxArtURL)||void 0,startAt:new Date(e.node.startAt),title:e.node.title},e.node.id)},e.node.id)}))]})}),O&&(0,a.jsx)(r.P,{display:o.nl.Flex,fullWidth:!0,margin:{bottom:3,x:1},children:(0,a.jsx)("div",{style:{width:"37rem",marginInlineStart:"-3rem",marginTop:"6rem"},children:(0,a.jsx)(hs.Z,{image:(0,a.jsx)(fa.Cb,{linkTo:(0,bs.V)({content:"embed_vod",medium:"embed"},(0,za.VV)("/videos/".concat(null==T?void 0:T.id))),targetBlank:!0,underline:!1,children:(0,a.jsx)(ys.G,{bottomLeft:null!==(y=null==T?void 0:T.title)&&void 0!==y?y:"",cover:(0,a.jsx)(r.P,{background:o.VS.Overlay,fullWidth:!0,fullHeight:!0,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:o.k2.Center,children:(0,a.jsx)(ks.Z,{size:44})}),image:M?(0,a.jsx)(Zt.L,{src:(null==T?void 0:T.previewThumbnailURL)||"",alt:(null==T?void 0:T.title)||""}):(0,a.jsx)(co.Or,{height:56,width:100})})})})})})]})]})}function ws(e){switch(e){case 2:return"6%";case 1:return"-9%";default:return"0%"}}var Is=(0,kt.o1)()((function(e){var n=function(e){var n;n=e.width<=580?2:e.width<=760?3:6,e.videos.length<n&&(n=e.videos.length);var t=e.width<=580?6:4;n<12/t&&(t=12/n);var i=e.width<=500||e.width>500&&e.width<970&&1===n;return{visibleVideos:e.videos.slice(0,n),isHorizontalLayout:i,numberOfCards:n,numberOfColumns:t}}(e),t=n.visibleVideos,i=n.numberOfCards,s=n.numberOfColumns,l=n.isHorizontalLayout,d=function(e,n){return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(kn.N,{fontSize:o.Z4.Size6,ellipsis:!0,bold:!0,color:o.Q1.OverlayAlt,children:e}),n&&(0,a.jsx)(kn.N,{fontSize:o.Z4.Size6,ellipsis:!0,color:o.Q1.OverlayAlt,children:n})]})};return(0,a.jsx)(_n.FT,{transparency:_n.xL.Transparency1,type:_n.NL.Fullscreen,children:(0,a.jsxs)(r.P,{className:"other-vods__container",margin:{top:2,left:2,right:2},position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:[(0,a.jsx)(kn.N,{type:e.width>500?ft.M2.H4:ft.M2.H5,color:o.Q1.Overlay,children:e.title}),(0,a.jsx)(r.P,{attachRight:!0,position:o.yX.Absolute,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close videos list","OtherVods"),icon:dn.g,overlay:!0,onClick:e.onClose})})]}),(0,a.jsx)(r.P,{className:"other-vods__grid-container",margin:{left:"auto",right:"auto",top:l?0:e.width<=970?1:3},flexGrow:1,children:(0,a.jsx)(Lt.x,{fullHeight:!0,alignItems:12/s<i?o.k2.Start:o.k2.Center,children:t.map((function(n){var t,i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(jt.VP,{cols:l?4:s,children:(0,a.jsx)(Xt,{video:n,content:{type:Z.FC.VOD,vodID:n.id},onSelect:function(){return e.onSelect(n)},info:!l&&d(n.title,null===(t=n.game)||void 0===t?void 0:t.name),marginBottom:0})},n.id),l&&(0,a.jsx)(jt.VP,{cols:8,children:d(n.title,null===(i=n.game)||void 0===i?void 0:i.name)})]})}))})})]})})})),Ts=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onClose;return(0,a.jsx)(sn.S,{fullWidth:!0,fullHeight:!0,position:o.yX.Absolute,attachTop:!0,children:(0,a.jsx)(Pt.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Et.ES.SlideOverRight,duration:Et.Cf.Long,children:(0,a.jsxs)(_n.FT,{type:_n.NL.Sidebar,transparency:_n.xL.Transparency3,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,margin:{bottom:1},children:[(0,a.jsx)(sn.S,{flexGrow:1,children:(0,a.jsx)(kn.N,{bold:!0,type:ft.M2.H4,color:o.Q1.Overlay,children:(0,c.hw)("Most Recent Video","OfflineRecommendations")})}),(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)('Close "most recent video" recommendation',"OfflineRecommendations"),icon:dn.g,overlay:!0,onClick:t})]}),(0,a.jsx)(Xt,{video:n,content:{type:Z.FC.VOD,vodID:n.id},onSelect:function(){},info:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,ellipsis:!0,children:n.title})})]})})})},n}(d.Component),Ds=(0,kt.o1)()(Ts),Fs=t(998180),Os=t.n(Fs),Rs=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={pinnedVod:!0,otherVods:!0,width:0,height:0},n.onResize=function(e,t){n.setState((function(i){return{width:e,height:t,pinnedVod:!n.isValidSize()||i.pinnedVod,otherVods:!n.isValidSize()||i.otherVods}}))},n.handleClosePinnedVod=function(){n.setState({pinnedVod:!1})},n.handleCloseOtherVods=function(){n.setState({otherVods:!1})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[(this.state.pinnedVod||this.state.otherVods)&&(0,a.jsx)($n.$,{onResize:this.onResize}),this.showPinnedVod()&&(0,a.jsx)(Ds,{video:this.videos()[0],onClose:this.handleClosePinnedVod}),this.showOtherVods()&&(0,a.jsx)(Is,{videos:this.videos(),onClose:this.handleCloseOtherVods,title:(0,c.hw)("Watch Now","OfflineRecommendations"),width:this.state.width})]})},n.prototype.componentDidUpdate=function(){this.props.setRecommendationsShowing(this.showOtherVods()||this.showPinnedVod())},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1)},n.prototype.showPinnedVod=function(){return this.isValidSize()&&this.hasVods()&&this.state.pinnedVod},n.prototype.showOtherVods=function(){return this.isValidSize()&&this.hasVods()&&!this.showPinnedVod()&&this.state.otherVods},n.prototype.hasVods=function(){return this.videos().length>1},n.prototype.notNull=function(e){return null!==e},n.prototype.videos=function(){var e=this.props.data&&this.props.data.user&&this.props.data.user.videos&&this.props.data.user.videos.edges&&this.props.data.user.videos.edges.map((function(e){return e&&e.node})).filter(this.notNull);return e||[]},n.prototype.isValidSize=function(){return this.state.height>300&&this.state.width>560},n}(d.Component),Vs=(0,z._v)(Os(),{skip:function(e){return e.contentType!==Z.FC.Live||!e.login},options:function(e){var n;return{variables:{login:null!==(n=e.login)&&void 0!==n?n:""}}}})(Rs);var Ms=function(e){function n(n){var t=e.call(this,n)||this;return t.props.hasPlayed?t.state={deferRender:!0}:t.state={deferRender:!1},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;if(this.props.hasPlayed){var n=Math.floor(5e3*Math.random())+1;setTimeout((function(){e.setState({deferRender:!1})}),n)}},n.prototype.render=function(){return this.state.deferRender?null:(0,a.jsx)(Vs,(0,i.__assign)({},this.props))},n}(d.Component),Ls=(0,_.Zz)((0,Ge.X)({name:"OfflineRecommendationsOverlay"}),(0,x.cj)((function(e){var n=e.content;return{contentType:n.type,login:(0,j.jp)(n)}})),(0,pe.c0)((function(e){return{setRecommendationsShowing:e.setRecommendationsShowing}})),(0,E.dd)((function(e){return{hasPlayed:e.hasPlayed}})),(0,kt.o1)())(Ms),js=t(973373),Bs=t(656910),Us=t(51285),qs=t(372442),Gs=t(983943),zs=t.n(Gs),Hs="https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg";function Ws(e){var n=e.node;return n&&n.moments&&n.moments.edges&&n.moments.edges}function Ks(e){return e.description||""}function Zs(e){var n=Ws(e);return n&&n.length||0}function Qs(e,n,t){if(e.type===$e.cD1.GAME_CHANGE){var i=e.durationMilliseconds/1e3,a=e.positionMilliseconds/1e3;if(0===i)return"";if(n){var r=Math.round(a+i-t),o=(0,ha.a3)(r);return(0,c.hw)("{time} left",{time:o},"ChapterSelectButton")}return(0,ha.a3)(i)}return e.subDescription||""}function Ys(e){return e.thumbnailURL?e.thumbnailURL:e.details.game&&e.details.game&&e.details.game.boxArtURL?e.details.game.boxArtURL:Hs}var Xs="chapter-select-popover",$s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currentTime:0,open:!1,submenu:null,submenuTitle:null,playerHeight:(0,nt.P)(n.props.videoContainer).height},n.toggleMenu=function(){n.setState((function(e){return{open:!e.open}}))},n.closeMenu=function(){n.setState({open:!1,submenu:null,submenuTitle:null})},n.closeSubmenu=function(){n.setState({submenu:null,submenuTitle:null})},n.selectChapter=function(e){var t=n.edges();if(t){var i=t[e],a=Ws(i);a&&a.length?n.setState({submenu:a,submenuTitle:Ks(i.node)}):(n.props.seek(i.node.positionMilliseconds/1e3),n.closeMenu())}},n.setCurrentTime=function(e){n.setState({currentTime:e})},n.recalculatePlayerHeight=function(){n.setState({playerHeight:(0,nt.P)(n.props.videoContainer).height})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.edges();return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($n.$,{onResize:this.recalculatePlayerHeight}),(0,a.jsxs)(Ni.V,{onClickOut:this.closeMenu,children:[this.renderBalloon(e),(0,a.jsx)(qs.g,{buttonIcon:Qe.t.ViewerList,label:(0,c.hw)("Chapter Select","VideoPlayerChapterSelectButton>"),onClick:this.toggleMenu,tooltipPlacement:"top-end",disabled:this.props.error})]})]}):null},n.prototype.edges=function(){var e,n=this.state.submenu||(e=this.props.data)&&e.video&&e.video.moments&&e.video.moments.edges;return n&&n.length?n:null},n.prototype.renderBalloon=function(e){var n=this,t=l()("chapter-select-button__chapters"),s=e.map((function(t,a){return(0,d.createElement)(Us.$,(0,i.__assign)({},function(e,n,t){var i=function(e,n,t){return e.node&&n&&n.node?t>=e.node.positionMilliseconds/1e3&&t<n.node.positionMilliseconds/1e3:!!e.node&&t>=e.node.positionMilliseconds/1e3}(e,n,t);return{active:i,count:Zs(e),description:Qs(e.node,i,t),imageURL:Ys(e.node),text:Ks(e.node)}}(t,e[a+1],n.state.currentTime),{index:a,key:(r=t.node,r.positionMilliseconds/1e3),onClick:n.selectChapter}));var r}));return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)(r.P,{className:t,position:o.yX.Absolute,children:(0,a.jsxs)(xr.A,{direction:yr.j.TopLeft,maxHeight:"calc(".concat(this.state.playerHeight,"px - 10rem)"),offsetY:"5rem",popoverId:Xs,size:hr.$V.Medium,show:this.state.open,children:[this.renderBalloonHeader(),(0,a.jsx)(gn.Vq,{children:(0,a.jsxs)(js.e,{popoverId:Xs,children:[(0,a.jsx)(ie.j,{onTimeChanged:this.setCurrentTime}),s]})})]})})})},n.prototype.renderBalloonHeader=function(){if(!this.state.submenu||!this.state.submenuTitle)return null;var e=(0,c.hw)("Back","ChapterSelectButton");return(0,a.jsx)(Bs.D,{popoverId:Xs,title:this.state.submenuTitle,buttonLeftPrimary:{"aria-label":e,icon:Qe.t.GlyphArrLeft,onClick:this.closeSubmenu,title:e},buttonRightPrimary:{onClick:this.closeMenu,"aria-label":(0,c.hw)("Close","ChapterSelectButton")}})},n}(d.Component);var Js=(0,_.Zz)((0,pe.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,E.dd)((function(e){var n=e.error;return{error:!!n}})),(0,x.cj)((function(e){return{vodID:(0,j.hq)(e.content),content:e.content,includePrivateVODs:(0,T.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,kt.o1)(),(0,z._v)(zs(),{skip:function(e){return!e.vodID},options:function(e){return{variables:{videoID:e.vodID,includePrivate:e.includePrivateVODs||!1}}}}),(0,A.AP)((function(e){var n=e.seek;return{seek:n}})))($s);var el=t(106462),nl=t(552400),tl=function(e){switch(e){case"connected":return el.W.Connected;case"connecting":return el.W.Connecting;default:return el.W.Available}},il=Object.freeze(["unavailable","available","connecting","connected"]);var al=(0,_.Zz)((0,gt.vM)((function(e){return{castingState:e.castingState,startCast:e.startCast,stopCast:e.stopCast}})),(0,x.cj)((function(e){return{disableCasting:!!(0,T.wk)({playerPublicPropsContext:e}).disableCasting}})))((function(e){var n,t=e.castingState,i=e.disableCasting,r=e.startCast,o=e.stopCast;if(i||"unavailable"===t||!il.includes(t))return null;var s="";return"available"===t?(n=r,s=(0,c.hw)("Start Casting","ChromeCastButton")):"connected"===t||"connecting"===t?(n=o,s=(0,c.hw)("Stop Casting","ChromeCastButton")):n=function(){},(0,a.jsx)(nl.m,{label:s,options:{placement:"top-end"},children:(0,a.jsx)(el.G,{"aria-label":s,onClick:n,status:tl(t),overlay:!0})})})),rl=t(724422),ol=t(992216),sl=t(912141),ll=t(261868),dl=function(e){var n=e.playerEvents,t=(0,d.useContext)(A.wL).isPlaying,i=(0,d.useContext)(E.$g).mediaPlayerInstance,a=(0,d.useState)(0),r=a[0],o=a[1];(0,d.useEffect)((function(){var e;t&&r<=0&&o(null!==(e=null==i?void 0:i.getDuration())&&void 0!==e?e:0)}),[t,r,i]);var s=(0,d.useCallback)((function(e){e>0&&o(e)}),[]);return(0,d.useEffect)((function(){return n.addEventListener(L.a.DURATION_CHANGED,s),function(){n.removeEventListener(L.a.DURATION_CHANGED,s)}}),[s,n]),r},ul=t(608135),cl=t(411869),pl=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,P.X)())((function(e){var n=function(e){var n=dl(e),t=(0,d.useState)(0),i=t[0],a=t[1],r=(0,d.useState)(!1),o=r[0],s=r[1],l=(0,d.useCallback)((function(e){a(e)}),[]),u=(0,d.useCallback)((function(e){a(e)}),[]),c=(0,d.useCallback)((function(e){s(e)}),[]),p=(0,d.useCallback)((function(n){var t;null===(t=e.mediaPlayerInstance)||void 0===t||t.seekTo(n)}),[e.mediaPlayerInstance]);return{clipLength:n,thumbLocation:Math.min(Math.max(i,e.startOffset),e.endOffset),handleThumbLocationChanged:p,isHovering:o,handleMouseOverChange:c,handleSeekComplete:l,handleTimeChanged:u}}(e),t=n.clipLength,i=n.thumbLocation,o=n.handleThumbLocationChanged,s=n.isHovering,l=n.handleMouseOverChange,u=n.handleSeekComplete,c=n.handleTimeChanged,p=[{type:cl.b.Fixed,id:"selected-segment",start:e.startOffset,end:e.endOffset,color:rl.K["color-yellow"]}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ie.j,{onTimeChanged:c}),(0,a.jsx)(ol.Nb,{onSeekComplete:u}),(0,a.jsxs)(r.P,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,a.jsx)(ll.l,{currentTimeInSeconds:i,durationInSeconds:t,show:s}),(0,a.jsx)(sl.e,{currentTimeInSeconds:i,durationInSeconds:t}),(0,a.jsx)(ul.y,{seekbarMin:0,seekbarMax:t,thumbLocation:i,segments:p,onThumbLocationChange:o,minAllowedThumbLocation:e.startOffset,maxAllowedThumbLocation:e.endOffset,alwaysShowThumb:!0,onMouseOverChange:l})]})]})}));var ml=t(776905),vl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleSeekComplete=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e+n.props.startOffset)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.startOffset,t=e.endOffset,i=Math.min(Math.max(this.state.thumbLocation,n),t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ie.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(ol.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(ml.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:i-n,clipLength:t-n})]})},n}(d.Component),fl=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,P.X)())(vl);var gl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e),n.setState({thumbLocation:e})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipLength,n=this.state.thumbLocation;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ie.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(ml.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:n,clipLength:e})]})},n}(d.Component),hl=(0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}}))(gl);var yl=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{clipContent:(0,j.Jn)(n)?n:null}})),(0,P.X)())((function(e){var n=function(e){var n=dl(e),t=e.clipContent&&(0,j.N1)(e.clipContent);return{editingSegment:null==t?void 0:t[0],isPostEdit:!(!e.clipContent||!(0,j.J8)(e.clipContent)),clipLength:n}}(e),t=n.editingSegment,r=n.isPostEdit,o=n.clipLength;return e.clipContent?t?r?(0,a.jsx)(fl,(0,i.__assign)({},t)):(0,a.jsx)(pl,(0,i.__assign)({},t)):o?(0,a.jsx)(hl,{clipLength:o}):null:null}));var kl=t(763932),Sl=t(55195),_l=(0,_.Zz)((0,pe.c0)((function(e){var n=e.toggleClipSharing;return{toggleClipSharing:n}})),(0,x.cj)((function(e){return{isClipEmbed:(0,Sl.O)(e)===kl.C.ClipsEmbed}})))((function(e){var n=e.isClipEmbed,t=e.toggleClipSharing;return n?(0,a.jsx)(qs.g,{onClick:t,buttonIcon:Qe.t.Share,tooltipPlacement:"top-end",label:(0,c.hw)("Share","ClipShareButton")}):null}));var Cl=t(312524),bl=t(337930),Pl=t(893375),El=t(235366),xl=t(158508),Al=t(551283),Nl=t(726174),wl=t.n(Nl),Il=t(609099),Tl=t.n(Il),Dl=t(480455);function Fl(e){var n=e.content;return(0,j.DG)(n)||(0,j.rX)(n)?n.channelLogin:null}function Ol(e){return!e||!c.Zn.get("highwind_no_clips_channels",[]).includes(e)}function Rl(e){var n=e.isOffline,t=e.content,i=Fl(e),a=(0,j.hq)(t)||(0,j.dB)(e.content),r=!!i;return!(r&&n||!!!a&&!r)}function Vl(e){return e.isLoggedIn&&!e.disableClipping&&(function(e){var n=e.channel_data;if(void 0===n||n.loading||!n.userByAttribute||!n.userByAttribute.stream)return!1;var t=n.userByAttribute.stream,i=t.id,a=t.isEncrypted,r=Boolean(i),o=Fl(e);return r&&Ol(o)&&!a}(e)||function(e){return!(!(0,j.hq)(e.content)&&!(0,j.dB)(e.content))&&Ol(Fl(e))}(e))&&function(e){var n=e.content,t=e.isPlaying,i=e.hasPlayed,a=(0,j.DG)(n)&&!t;return i&&!a}(e)&&Rl(e)&&function(e){return!e.isVideoAdShowing}(e)&&Rl(e)}var Ml="alt+x";var Ll=(0,z._v)(Tl(),{options:function(e){return{variables:{input:{login:Fl(e),ownsVideoID:(0,j.hq)(e.content)}}}},skip:function(e){return!e.isLoggedIn||!Fl(e)&&!(0,j.hq)(e.content)},name:"channel_data"}),jl=(0,z._v)(wl(),{options:function(e){var n,t;return{variables:{broadcasterID:(0,j.hq)(e.content)?null:null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id,vodID:(0,j.hq)(e.content)}}},skip:function(e){var n,t;return!e.isLoggedIn||!(null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id)&&!(0,j.hq)(e.content)||!(0,bl.fX)("can_create_clip_darklaunch")||!Vl(e)},name:"clip_creation_perms"}),Bl=(0,_.Zz)((0,u.Ng)((function(e){return{isLoggedIn:(0,Je.M3)(e)}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed,i=e.isOffline;return{mediaPlayerInstance:n,hasPlayed:t,isOffline:i}})),(0,x.cj)((function(e){return{content:e.content,disableClipping:(0,T.wk)({playerPublicPropsContext:e}).disableClipping}})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.muted,i=e.volume,a=e.setMuted;return{isPlaying:n,muted:t,volume:i,setMuted:a}})),(0,ce.VX)((function(e){return{isVideoAdShowing:(0,et.cz)(e.videoAdMetadata)}})),Ll,jl,(0,kt.o1)())((function(e){var n,t,i,o,s,l,p,m,v,f,g,h,k,S,_=null===(n=e.clip_creation_perms)||void 0===n?void 0:n.canCreateClip,C=d.useState(0),b=C[0],P=C[1],E=(0,xl.Q)().track,x=(0,u.d4)(Je.wz),A=d.useContext(y),N=A.openPopup,w=A.isOpened,I=d.useRef(e.muted),T=(null==x?void 0:x.id)===(null===(i=null===(t=e.channel_data)||void 0===t?void 0:t.userByAttribute)||void 0===i?void 0:i.id),D=function(e){var n=e.streamOffset;P(n)},F=function(){if(!_||_.isAllowed)return!0;return T?(0,El.L$)(_.errorCode):(0,El.p6)(_.errorCode)}(),O=(0,Cl.d)(null)===Cl.E.XS,R=!(null==_?void 0:_.isAllowed)||w,V=(0,El.Cv)(null==_?void 0:_.errorCode,null==_?void 0:_.requiredFollowingLengthMinutes);(0,Dl.W)(null==x?void 0:x.id,null===(s=null===(o=e.channel_data)||void 0===o?void 0:o.userByAttribute)||void 0===s?void 0:s.id,(function(){var n;null===(n=e.clip_creation_perms)||void 0===n||n.refetch()}));var M=(null===(m=null===(p=null===(l=e.channel_data)||void 0===l?void 0:l.userByAttribute)||void 0===p?void 0:p.stream)||void 0===m?void 0:m.id)||null,B=(null===(f=null===(v=e.channel_data)||void 0===v?void 0:v.userByAttribute)||void 0===f?void 0:f.id)||null,U=null!==(k=null===(h=null===(g=e.channel_data)||void 0===g?void 0:g.userByAttribute)||void 0===h?void 0:h.login)&&void 0!==k?k:"",q=e.content.type===Z.FC.DVRVOD?(0,j.dB)(e.content)||void 0:(0,j.hq)(e.content)||void 0,G=e.mediaPlayerInstance,z=e.content.type===Z.FC.Live||e.content.type===Z.FC.DVRLive?b:null!==(S=null==G?void 0:G.getPosition())&&void 0!==S?S:0,H=function(){if((0,Pl.n)(window.location.href,U)&&N)return N({broadcastID:M,broadcasterLogin:U,offsetSeconds:Math.floor(z),vodID:null!=q?q:null,initialVolume:I.current?0:e.volume,onClose:function(){var n;N(null),e.setMuted(null!==(n=I.current)&&void 0!==n&&n)}}),I.current=e.muted,void e.setMuted(!0);void 0!==G&&B&&((0,El.NC)({broadcastID:null!=M?M:void 0,broadcasterLogin:U,offsetSeconds:Math.floor(z),vodID:q}),E({action:Al.U.CreateClip,broadcastID:M,channelID:B,vodID:q,rawMediaID:""}),e.track("player_click_clip"))};return d.useEffect((function(){var n;if(!_||_.isAllowed)return de().bind(Ml,H),null===(n=e.mediaPlayerInstance)||void 0===n||n.addEventListener(L.a.SEGMENT_METADATA,D),function(){var n;de().unbind(Ml),null===(n=e.mediaPlayerInstance)||void 0===n||n.removeEventListener(L.a.SEGMENT_METADATA,D)}})),(0,a.jsx)(a.Fragment,{children:Vl(e)&&F&&(0,a.jsx)(r.P,{margin:{x:.5},style:{opacity:R?.5:1},children:(0,a.jsx)(qs.g,{tooltipPlacement:"top",label:V,buttonIcon:Wt.y,onClick:H,disabledInteraction:R,children:!O&&(0,c.hw)("Clip","ClipsButtonComponent")})})})}));var Ul=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){var e=n.props,t=e.captionsEnabled;(0,e.setClosedCaptionsEnabled)(!t)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){de().bind("c",this.onClick)},n.prototype.componentWillUnmount=function(){de().unbind("c")},n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(qs.g,{tooltipPlacement:"top-end",label:(0,c.hw)("Captions (c)","ClosedCaptionsButtonComponent"),buttonIcon:this.props.captionsEnabled?Qe.t.CC:Qe.t.CCOff,onClick:this.onClick}):null},n}(d.Component),ql=(0,_.Zz)((0,pe.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsEnabled;return{captionsAvailable:n.available,captionsEnabled:n.enabled,setClosedCaptionsEnabled:t}})),(0,kt.o1)())(Ul);var Gl=t(183175),zl=t(125206),Hl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onBufferUpdate=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getBufferDuration();n.props.onBufferUpdate(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.BUFFER_UPDATE,this.onBufferUpdate)},n.prototype.render=function(){return null},n}(d.Component),Wl=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,P.X)())(Hl);var Kl=t(409815),Zl=t.n(Kl),Ql=t(599534),Yl=t(705980);var Xl=t(245072);function $l(){return(0,c.hw)("LIVE","DVRSeekbarTimeLabels")}var Jl=function(e){var n=e.currentTimeInSeconds,t=e.durationInSeconds,s=(0,zl.sL)(),l=s.playbackID,d=s.content,u=s.setPlayerContent,p=(0,Xl.X)(n);if(!d||!(0,j.lp)(d))return null;var m=function(){var e;e={playbackID:l,currOffset:n,uptime:t},c.E5.track("dvr_skip_to_live",{dvr_current_seconds_offset:e.currOffset,playback_id:e.playbackID,stream_runtime_in_seconds:e.uptime}),u((0,i.__assign)((0,i.__assign)({},d),{type:Z.FC.DVRLive}))},v=(0,a.jsx)(zt.qd,{label:$l()});return d.type===Z.FC.DVRVOD&&(v=(0,a.jsx)(nl.m,{label:(0,c.hw)("Skip to Live","DVRSeekbarTimeLabels"),options:{placement:"top"},children:(0,a.jsxs)(r.P,{padding:{x:.5},display:"flex",background:"float",alignItems:"center",borderRadius:xt.Z.Medium,tabIndex:0,cursor:"pointer",onKeyUp:function(e){"Enter"===e.key&&m()},onClick:m,children:[(0,a.jsx)(kn.N,{bold:!0,children:$l()}),"",(0,a.jsx)(Yl.E,{size:18})]})})),(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Between,style:{userSelect:"none"},children:[(0,a.jsx)(kn.N,{color:o.Q1.Overlay,children:p}),v]})},ed=t(300100),nd=function(e){var n=(0,d.useState)(0),t=n[0],o=n[1],s=(0,d.useState)(!1),l=s[0],u=s[1],c=(0,d.useRef)();(0,d.useEffect)((function(){return clearTimeout(c.current)}));var p,m=(0,i.__spreadArray)([(p=e.bufferDuration,{type:cl.b.AfterThumb,id:"buffer-segment",color:"hsla(0, 0%, 100%, 0.85)",length:p}),{type:cl.b.FillToThumb,id:"watched-segment",color:rl.K["color-twitch-purple-10"]}],e.mutedSegments.map((function(e,n){var t=e.duration,i=e.offset;return{type:cl.b.Fixed,id:"muted-segment-".concat(n),start:i,end:i+t,color:"rgba(212, 73, 73, 0.5)"}})),!0),v=e.vodLength;return(0,a.jsxs)(r.P,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,a.jsx)(Pt.e,{type:Et.ES.Fade,duration:Et.Cf.Short,show:l,children:(0,a.jsx)(ed.$c,{currentTimeInSeconds:t,durationInSeconds:v})}),(0,a.jsx)(Jl,{currentTimeInSeconds:e.thumbLocation,durationInSeconds:v}),(0,a.jsx)(ul.y,{seekbarMin:0,seekbarMax:v,thumbLocation:e.thumbLocation,onThumbLocationChange:e.onThumbLocationChanged,onThumbDragStart:e.onThumbDragStart,onMouseOverLocationChange:function(e){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){t!==e&&o(e)}),5)},onMouseOverChange:function(e){l!==e&&u(e)},segments:m})]})};var td=function(){var e,n=(0,d.useContext)(E.$g).mediaPlayerInstance,t=(0,d.useContext)(x.kl).content,i=(0,d.useContext)(A.wL).dvrSeek,r=(0,d.useContext)(ce.jK).videoAdMetadata,o=(0,zl.sL)().playbackID,s=(0,Gl.M)(null!==(e=(0,j.hd)(t))&&void 0!==e?e:null).liveSince,l=(0,et.cz)(r),u=(0,j.dB)(t),p=(0,d.useRef)(!1),m=(0,j.lp)(t),v=(0,d.useRef)();if((0,Be.Z)((0,j.hd)(t))!==(0,j.hd)(t)&&(v.current=void 0),!v.current){var f=n&&n.getSessionData();f&&f["BROADCAST-ID"]&&(v.current=f["BROADCAST-ID"])}var g=(0,R.IT)(Zl(),{variables:{vodID:u},skip:!u||!m}),h=g.data,y=g.loading,k=(0,d.useState)(0),S=k[0],_=k[1],C=(0,Ql.h)(null!=s?s:new Date,1e3),b=(0,d.useState)(C),P=b[0],N=b[1],w=(0,d.useRef)(null),I=(0,d.useRef)(!1);return m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ol.Nb,{onSeekComplete:function(e){(null==n?void 0:n.isPaused())&&N(e),I.current=!1}}),(0,a.jsx)(ie.j,{onTimeChanged:function(e){var a=Math.floor(e);a!==w.current&&(w.current=a,n&&t.type===Z.FC.DVRVOD&&n.getDuration()-e<1&&i(C,C),n&&!p.current&&_(n.getBufferDuration()),t.type===Z.FC.DVRLive&&(a=C),I.current||N(a))}}),(0,a.jsx)(Wl,{onBufferUpdate:function(e){p.current||_(e)}}),m&&h&&!y&&h.video&&!l&&(0,a.jsx)(nd,{thumbLocation:t.type===Z.FC.DVRLive?C:P,bufferDuration:S,vodLength:C,mutedSegments:id(h),onThumbDragStart:function(){p.current=!0,_(0)},onThumbLocationChanged:function(e){var n,a;t.type===Z.FC.DVRLive&&C-e<A.UM||Math.abs(e-P)<1||(i(e,C),I.current=!0,a={broadcastID:null!==(n=v.current)&&void 0!==n?n:null,currOffset:P,playbackID:o,uptime:C,targetOffset:e,vodID:u},c.E5.track("dvr_seek",{broadcast_id:a.broadcastID,dvr_current_seconds_offset:a.currOffset,playback_id:a.playbackID,stream_runtime_in_seconds:a.uptime,target_offset:a.targetOffset,vod_id:a.vodID}),N(e))}})]}):null};function id(e){var n,t,i;return(null===(i=null===(t=null===(n=e.video)||void 0===n?void 0:n.muteInfo)||void 0===t?void 0:t.mutedSegmentConnection)||void 0===i?void 0:i.nodes)||[]}var ad=t(735665),rd=t(961183),od=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderExtensionMenuSections=function(){var e=n.props,t=e.installations,i=e.isOverlayVisible,s=e.toggleOverlayVisibility;return t.map((function(e,l){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:1,children:(0,a.jsx)(kn.N,{color:o.Q1.Overlay,fontSize:o.Z4.Size6,transform:ft.Ms.Uppercase,bold:!0,children:e.extension.name})}),(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,margin:{left:2},flexShrink:0,attachRight:!0,children:(0,a.jsx)(Zt.L,{className:"extensions-settings-menu__icon",src:e.extension.iconUrls.square24||e.extension.iconUrls.square100,alt:e.extension.name})})]}),(0,a.jsx)(Gr.i,{label:(0,c.hw)("Learn More","ExtensionSettingsMenuMainComponent"),linkTo:(0,br.lK)(e),targetBlank:!0}),e.activationConfig.anchor===cr.Z1.Overlay&&(0,a.jsx)(Br.G,{type:Br.M.Toggle,label:(0,c.hw)("Visible","ExtensionSettingsMenuMainComponent"),checked:i,onChange:s}),n.renderManageAccessOption(e),n.props.channelID&&(0,a.jsx)(Jr.Z,{hideIcon:!0,channelID:n.props.channelID,channelLogin:"",reportContext:{contentType:$e.Cah.EXTENSION_REPORT,contentID:(0,br.wv)(e),trackingContext:"extension_settings"},onClick:function(){return n.props.setMenuState({type:Cr.gu.NONE},e)},onModalClose:function(){n.props.setMenuState({type:Cr.gu.NONE},e)}}),l!==t.length-1&&(0,a.jsx)(jr.m,{})]},e.extension.id)}))},n.renderManageAccessOption=function(e){var t=n.props,i=t.loginID,r=t.permissionsStates,o=e&&e.extension.requestIdentityLink,s=(0,br.YU)(e,r).identityLinkedStatus===Cr.Gy.LINKED;return!(0,br.p$)(e)&&!!i&&(o||s)?(0,a.jsx)(Gr.i,{label:(0,c.hw)("Manage Access","ExtensionSettingsMenuMainComponent"),onClick:n.openInstallationManageAccessMenu(e)}):null},n.openInstallationManageAccessMenu=function(e){return function(){n.props.setMenuState({type:Cr.gu.MANAGE_ACCESS},e)}},n.closeMenu=function(){(0,n.props.setMenuState)({type:Cr.gu.NONE})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(r.P,{children:[(0,a.jsx)(Gr.i,{label:(0,c.hw)("Close","ExtensionSettingsMenuMainComponent"),figure:{icon:Qe.t.Close},onClick:this.closeMenu}),(0,a.jsx)(jr.m,{}),this.renderExtensionMenuSections()]})},n}(d.Component),sd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleToggleAccess=function(){var e=n.props,t=e.toggleAccess,i=e.installation;i&&t(i)},n.handleCancel=function(){var e=n.props,t=e.installation,i=e.setMenuState;t&&i({type:Cr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates;if(!n)return null;var i=(0,br.YU)(n,t),s=i.identityLinkedStatus===Cr.Gy.LINKED||i.identityLinkedStatus===Cr.Gy.LINK_REQUESTED,l=i.identityLinkedStatus===Cr.Gy.LINK_REQUESTED||i.identityLinkedStatus===Cr.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(r.P,{padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(kn.N,{children:(0,c.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gr.i,{label:(0,c.hw)("Manage Permissions","ExtensionsMenuManageAccess"),figure:{icon:Qe.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.End,margin:{top:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(Fn.$n,{fullWidth:!0,size:Fn.Mp.Small,variant:Fn.VQ.Primary,onClick:this.handleToggleAccess,disabled:l,children:s?(0,c.hw)("Revoke","ExtensionsMenuManageAccess"):(0,c.hw)("Grant","ExtensionsMenuManageAccess")})})]})]})},n}(d.Component),ld=function(e){function n(n){var t=e.call(this,n)||this;return t.renderActiveMenu=function(){var e=t.props,n=e.channelID,i=e.loginID,r=e.allVideoExtensions,o=e.isOverlayVisible,s=e.permissionsStates,l=t.selectedInstallation;switch(t.props.playerMenuState.type){case Cr.gu.SETTINGS:return(0,a.jsx)(od,{channelID:n,loginID:i,installations:r,isOverlayVisible:o,toggleOverlayVisibility:t.toggleOverlayVisibility,permissionsStates:s,setMenuState:t.setMenuState});case Cr.gu.MANAGE_ACCESS:return l?(0,a.jsx)(sd,{permissionsStates:s,installation:l,maxMenuHeight:t.state.maxMenuHeight,toggleAccess:t.toggleAccess,setMenuState:t.setMenuState}):null;case Cr.gu.NONE:default:return null}},t.handleClick=function(){t.isMenuOpen?t.closeSettingsMenu():t.openSettingsMenu()},t.openSettingsMenu=function(){t.props.setPlayerMenuState(Cr.gu.SETTINGS)},t.closeSettingsMenu=function(){t.props.setPlayerMenuState(Cr.gu.NONE)},t.getMaxMenuHeight=function(){var e=(0,nt.P)(t.props.videoContainer).height;return e?.8*e:void 0},t.handleResize=function(){var e=t.getMaxMenuHeight();e&&t.setState({maxMenuHeight:e})},t.toggleOverlayVisibility=function(){t.props.setOverlayVisibility(!t.props.isOverlayVisible)},t.setMenuState=function(e,n){t.props.setPlayerMenuState(e.type,n)},t.toggleAccess=function(e){var n=t.props,i=n.setPermissionsState,a=n.trackExtensionEvent,r=n.permissionsStates,o=(0,br.YU)(e,r),s=o.identityLinkedStatus,l=o.linkIdentity,d=o.unlinkIdentity,u=s===Cr.Gy.UNLINKED?Cr.Gy.LINK_REQUESTED:Cr.Gy.UNLINK_REQUESTED;i(e,{identityLinkedStatus:u}),u===Cr.Gy.LINK_REQUESTED&&l&&l(),u===Cr.Gy.UNLINK_REQUESTED&&d&&d(),a(lr.X2.MenuOptionClick,u===Cr.Gy.UNLINK_REQUESTED?lr.iN.Revoke:lr.iN.Grant,lr.si.ExtensionDockMenuOptionClick,e),t.setMenuState({type:Cr.gu.NONE},e)},t.state={maxMenuHeight:t.getMaxMenuHeight()},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isMenuOpen",{get:function(){return this.props.playerMenuState.type!==Cr.gu.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectedInstallation",{get:function(){var e=this;return this.props.allVideoExtensions.find((function(n){return(0,br.wv)(n)===e.props.playerMenuState.selectedInstallationID}))},enumerable:!1,configurable:!0}),n.prototype.render=function(){if(!this.props.enableExtensions||!this.props.allVideoExtensions.length)return null;var e=(0,ad.Ty)(),n=l()("settings-menu-button-component",{"settings-menu-button-component--forced-dark-theme":e}),t=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Ni.V,{onClickOut:this.closeSettingsMenu,children:[(0,a.jsx)(r.P,{className:n,children:(0,a.jsx)(rd.x,{direction:yr.j.TopRight,show:this.isMenuOpen,offsetX:"50px",size:hr.$V.Medium,maxHeight:this.state.maxMenuHeight?"".concat(this.state.maxMenuHeight,"px"):void 0,children:this.renderActiveMenu()})}),(0,a.jsx)(qs.g,{"data-a-target":"extensions-settings-button",tooltipPlacement:"top-end",buttonIcon:Qe.t.Extensions,label:(0,c.hw)("Extension Settings","ExtensionsSettingsMenuButtonComponent"),onClick:this.handleClick})]}),this.isMenuOpen&&(0,a.jsx)($n.$,{onResize:this.handleResize})]});return e?(0,a.jsx)(on.e,{theme:"dark",children:t}):t},n}(d.Component),dd=(0,_.Zz)((0,sr.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.overlayExtension,a=e.allVideoExtensions,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.isOverlayVisible,l=e.setPermissionsState,d=e.trackEvent,u=e.setPlayerMenuState,c=e.getPlayerMenuState;return{loginID:n,channelID:t,overlayExtension:i,allVideoExtensions:a,setOverlayVisibility:r,permissionsStates:o,isOverlayVisible:s,setPermissionsState:l,playerMenuState:c(),setPlayerMenuState:u,trackExtensionEvent:d}})),(0,pe.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,kt.o1)(),(0,x.cj)((function(e){return{enableExtensions:(0,T.wk)({playerPublicPropsContext:e}).enableExtensions}})))(ld);var ud=t(171833),cd=t(658593),pd=function(e){var n=e.isFullscreen?ud.R:cd.L,t=e.isFullscreen?e.onExitFullscreen:e.onEnterFullscreen,i=e.isFullscreen?(0,c.hw)("Exit Fullscreen (f)","FullscreenButtonPresentation"):(0,c.hw)("Fullscreen (f)","FullscreenButtonPresentation");return(0,a.jsx)(qs.g,{"data-a-target":"player-fullscreen-button",buttonIcon:n,label:i,onClick:t,disabled:!e.canFullscreen,tooltipPlacement:"top-end"})},md=function(e){function n(n){var t=e.call(this,n)||this;return t.canFullscreen=function(){var e;if(t.props.fullscreen.supported())return!0;var n=null===(e=t.props.videoContainer)||void 0===e?void 0:e.getElementsByTagName("video"),i=n&&n[0]?n[0]:null;return t.props.fullscreen.videoSupported(i)},t.onEnterFullscreen=function(){t.props.enterFullscreen()},t.onExitFullscreen=function(){t.props.exitFullscreen()},t.onInitialized=function(){t.state.canFullscreen||t.setState({canFullscreen:t.canFullscreen()})},t.state={canFullscreen:t.canFullscreen()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.INITIALIZED,this.onInitialized)},n.prototype.render=function(){return this.props.fullscreenDisabled?null:(0,a.jsx)(pd,{canFullscreen:this.state.canFullscreen,isFullscreen:this.props.isFullscreen,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen})},n}(d.Component);var vd=(0,_.Zz)((0,pe.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,isFullscreen:e.isFullscreen,videoContainer:e.videoContainer}})),(0,x.cj)((function(e){return{fullscreenDisabled:(0,T.wk)({playerPublicPropsContext:e}).disableFullscreen}})),(0,P.X)(),(0,ue.W)(),(0,kt.o1)())(md),fd=t(445373),gd=t(683692),hd=t.n(gd);var yd=(0,_.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),shouldEnableLiveTime:(0,T.wk)({playerPublicPropsContext:e}).enableLiveTime}})))((function(e){var n,t,i,o,s,l=e.content,d=e.shouldEnableLiveTime,u=(0,j.DG)(l)?null==l?void 0:l.channelLogin:"",p=(0,R.IT)(hd(),{variables:{login:u||""},skip:!u||!d}).data,m=(0,Ql.h)(new Date(null!==(i=null===(t=null===(n=null==p?void 0:p.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.createdAt)&&void 0!==i?i:0));return d&&(null===(s=null===(o=null==p?void 0:p.user)||void 0===o?void 0:o.stream)||void 0===s?void 0:s.createdAt)?(0,a.jsxs)(r.P,{display:"flex",alignItems:"center",gap:"0.5rem",color:"overlay",children:[(0,a.jsx)(fd.T,{}),(0,a.jsx)("span",{"aria-label":(0,c.hw)("Time Spent Live Streaming","VideoPlayerOverlayLiveTime"),children:(0,ha.a3)(m,ha.wg.ClockHMS)})]}):null})),kd="lowLatencyMaxSeenCount",Sd="lowLatencySeenThisWeekTimestamp";function _d(){return c.IG.get(kd,0)}var Cd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.bufferEvents=[],n.lastBufferDate=null,n.state={shouldShow:!1},n.handleClose=function(){n.setState({shouldShow:!1})},n.handleBuffering=function(){n.recordBufferEvent(),n.shouldShowNotification()&&n.setState({shouldShow:!0},(function(){return c.IG.set(Sd,(new Date).getTime()),void c.IG.set(kd,_d()+1)}))},n.recordBufferEvent=function(){var e=new Date;n.bufferEvents.push(e),n.bufferEvents=n.bufferEvents.filter((function(n){return n>(0,On.subMinutes)(e,10)})),n.bufferEvents=n.bufferEvents.slice(-3)},n.shouldShowNotification=function(){return n.props.isLive&&n.props.isLowLatencyCapable&&n.props.isLowLatencyEnabled&&!n.props.disableSettingsMenuButton&&n.bufferEvents.length>=3&&_d()<=3&&(!(e=c.IG.getOptional(Sd))||(0,On.subDays)(new Date,7)>=new Date(e));var e},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.isPlaying&&this.props.isBuffering&&this.handleBuffering()},n.prototype.render=function(){return this.state.shouldShow?(0,a.jsxs)(r.P,{padding:1,display:o.nl.Flex,alignItems:o.k2.Start,background:o.VS.Overlay,className:"low-latency-notification",children:[(0,a.jsx)(kn.N,{children:(0,c.hw)("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","LowLatencyNotification")}),(0,a.jsx)(r.P,{flexShrink:0,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close low latency reminder","LowLatencyNotification"),overlay:!0,icon:dn.g,onClick:this.handleClose,size:ci.f.Small})})]}):null},n}(d.Component);var bd,Pd=(0,_.Zz)((0,x.cj)((function(e){return{isLive:(0,j.DG)(e.content),disableSettingsMenuButton:(0,T.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,E.dd)((function(e){return{isBuffering:(0,fe.TN)(e),isLowLatencyCapable:(0,fe.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,isPlaying:(0,fe.F4)(e)}})))(Cd),Ed=t(191132);!function(e){e[e.AwaitingReplay=0]="AwaitingReplay",e[e.Paused=1]="Paused",e[e.Playing=2]="Playing"}(bd||(bd={}));var xd=(0,Ed.U)({name:"VideoPlayer_PlayPauseButton",category:"broadcast"}).Available,Ad=function(e){if(e.showPlaceholder)return(0,a.jsx)(co.Or,{width:30,height:30});var n=function(e){switch(e){case bd.AwaitingReplay:return Qe.t.VideoRerun;case bd.Playing:return Qe.t.MiniPlayerPause;case bd.Paused:default:return Qe.t.MiniPlayerPlay}}(e.buttonState),t=function(e){switch(e){case bd.Playing:return(0,c.hw)("Pause (space/k)","PlayPauseButtonPresentation");case bd.Paused:return(0,c.hw)("Play (space/k)","PlayPauseButtonPresentation");case bd.AwaitingReplay:return(0,c.hw)("Replay (space/k)","PlayPauseButtonPresentation");default:return}}(e.buttonState)||"",i=e.buttonState===bd.Playing,r=i?e.onPause:e.onPlay;return(0,a.jsx)(xd,{children:(0,a.jsx)(qs.g,{"data-a-target":"player-play-pause-button","data-a-player-state":i?"playing":"paused",buttonIcon:n,label:t,onClick:r,tooltipPlacement:"top-start",disabled:e.disabled})})};var Nd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getButtonState=function(e){return e.isPlaying?bd.Playing:n.shouldShowReplayButton(e)?bd.AwaitingReplay:bd.Paused},n.shouldShowReplayButton=function(e){return e.isClip&&!e.isPlaying&&e.isEnded&&!e.isVideoAdShowing},n.play=function(){n.props.play({userTriggered:!0})},n.pause=function(){n.props.pause({userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(Ad,{showPlaceholder:this.props.isPlayerCoreLoading,buttonState:this.getButtonState(this.props),onPlay:this.play,onPause:this.pause,disabled:this.props.error})},n}(d.Component),wd=(0,_.Zz)((0,ce.VX)((function(e){return{isVideoAdShowing:(0,et.cz)(e.videoAdMetadata)}})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.pause;return{isPlaying:n,play:t,pause:i}})),(0,E.dd)((function(e){return{isEnded:(0,fe.pl)(e),isPlayerCoreLoading:e.isPlayerCoreLoading,error:!!e.error}})),(0,x.cj)((function(e){var n=e.content;return{isClip:(0,j.Jn)(n)}})),(0,kt.o1)())(Nd);var Id=t(26538),Td=t(207817);function Dd(e){return e.split("(source)")[0].trim()}var Fd=function(){return(0,c.hw)("Auto","SettingsMenuSubmenuQuality")},Od=t(179405),Rd=function(e){var n=e.quality,t=(0,Od.ei)(n),i=(0,Od.IW)(n.codecs,t)&&Od.dD.includes(t)?t:null,r=function(e){return e.group===Td.s?Fd():e.name.toLowerCase().includes("source")?(0,c.hw)("{resolution} (Source)",{resolution:Dd(e.name)},"SettingsMenuSubmenuQuality"):e.name}(n);return i&&(r="".concat(r," ").concat(i)),(0,a.jsx)(Id.a,{type:Id.y.Subtle,label:r})},Vd=function(e){function n(n){var t=e.call(this,n)||this;return t.handleQualityChanged=function(){var e=t.props.mediaPlayerInstance,n="treatment"===c.x2.experiments.__hardcodedStaleExperiment("settings_overlay_indicator","control");if(e&&!n){var i=e.getQuality();clearTimeout(t.timeout),t.setState({shouldRenderQuality:!0,quality:i}),t.timeout=setTimeout((function(){t.setState({shouldRenderQuality:!1})}),5e3)}},t.state={shouldRenderQuality:!1,quality:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.QUALITY_CHANGED,this.handleQualityChanged)},n.prototype.render=function(){var e=this.state,n=e.shouldRenderQuality,t=e.quality,i=this.props,r=i.speed,o=i.isLiveContent,s=n&&!!t||1!==r&&!o,l=null;return i.disableSettingsBanner?null:(n&&t?l=(0,a.jsx)(Rd,{quality:t}):1===r||o||(l=(0,a.jsx)(Id.a,{type:Id.y.Subtle,label:"".concat(r,"x")})),(0,a.jsx)(Pt.e,{type:Et.ES.SlideOverRight,show:s,children:l}))},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n}(d.Component),Md=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,x.cj)((function(e){var n=e.content,t=e.behaviors;return{isLiveContent:(0,j.DG)(n),disableSettingsBanner:null==t?void 0:t.disableSettingsBanner}})),(0,P.X)())(Vd);var Ld,jd=t(472571),Bd=t(424131),Ud=t(843004),qd=t(561551),Gd=t(557175);!function(e){e.MiniPlayerToggle="mini-player-toggle",e.VideoStatsToggle="video-stats-toggle",e.AdStatsToggle="ad-stats-toggle"}(Ld||(Ld={}));var zd=function(e){function n(n){var t,i=e.call(this,n)||this;i.toggleLowLatencyMode=function(){var e=i.props,n=e.disableUserPreferencePersistence,t=e.isLiveLowLatencyEnabled,a=e.mediaPlayerInstance,r=e.updatePlayerContext,o=!t;n||c.IG.set(Gd.U.LOW_LATENCY_MODE,o),(0,fe.GY)({isLiveLowLatencyEnabled:t,mediaPlayerInstance:a,updateContext:r},o)},i.toggleMiniPlayer=function(){var e=!i.state.isMiniPlayerEnabled;i.props.disableUserPreferencePersistence||c.IG.set(Gd.U.PERSISTENCE_ENABLED,e),i.props.togglePersistentPlayer(),i.setState({isMiniPlayerEnabled:e})},i.isVideoStatsEnabled=function(){return i.props.statsOverlay===pe.Uz.Video},i.toggleVideoStats=function(){var e=i.isVideoStatsEnabled()?pe.Uz.None:pe.Uz.Video;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()},i.isAdStatsEnabled=function(){return i.props.statsOverlay===pe.Uz.Ad},i.toggleAdStats=function(){var e=i.isAdStatsEnabled()?pe.Uz.None:pe.Uz.Ad;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()};var a=null!==(t=c.IG.getOptional(Gd.U.PERSISTENCE_ENABLED))&&void 0!==t?t:void 0;return i.state={isMiniPlayerEnabled:void 0===a||!!a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLowLatencyToggle(),n=(0,c.hw)("Mini Player","SettingsMenuSubmenuAdvanced"),t=(0,c.hw)("Video Stats","SettingsMenuSubmenuAdvanced"),i=(0,c.hw)("Ad Stats","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(a.Fragment,{children:[e,this.props.showMiniToggleSettings&&(0,a.jsx)(Br.G,{addRole:!0,autoFocus:!0,label:n,type:Br.M.Toggle,onChange:this.toggleMiniPlayer,checked:this.state.isMiniPlayerEnabled,"data-test-selector":Ld.MiniPlayerToggle,"data-a-target":"player-settings-submenu-advanced-toggle-mini"}),(0,a.jsx)(Br.G,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-submenu-advanced-video-stats",label:t,type:Br.M.Toggle,onChange:this.toggleVideoStats,checked:this.isVideoStatsEnabled(),"data-test-selector":Ld.VideoStatsToggle}),(0,a.jsx)(Br.G,{addRole:!0,"data-a-target":"player-settings-submenu-advanced-ad-stats",label:i,type:Br.M.Toggle,onChange:this.toggleAdStats,checked:this.isAdStatsEnabled(),"data-test-selector":Ld.AdStatsToggle})]})},n.prototype.renderLowLatencyToggle=function(){var e=this.props,n=e.isLowLatencyCapable,t=e.isLiveLowLatencyEnabled;if(!n)return null;var i=(0,c.hw)("Low Latency","SettingsMenuSubmenuAdvanced");return(0,a.jsx)(Br.G,{addRole:!0,label:i,type:Br.M.Toggle,onChange:this.toggleLowLatencyMode,checked:t})},n}(d.Component);var Hd=(0,_.Zz)((0,kt.o1)(),(0,E.dd)((function(e){return{isLowLatencyCapable:(0,fe.RO)(e),isLiveLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,updatePlayerContext:e.updateContext}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableUserPreferencePersistence,i=n.showMiniToggleSettings;return{disableUserPreferencePersistence:t,showMiniToggleSettings:i}})),(0,pe.c0)((function(e){var n=e.hideKeyboardShortcuts,t=e.setStatsOverlay,i=e.statsOverlay;return{hideKeyboardShortcuts:n,setStatsOverlay:t,statsOverlay:i}})),(0,u.Ng)(null,(function(e){return(0,_.zH)({togglePersistentPlayer:qd.he},e)})))(zd);var Wd=t(178196);function Kd(e){return Yd(e)||e.isStaff||Zd(e)}function Zd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===Xd(e)}function Qd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===function(e){return e.data&&e.data.clip&&e.data.clip.curator&&e.data.clip.curator.id}(e)}function Yd(e){return!!(e.data&&e.data.currentUser&&e.data.currentUser.roles&&e.data.currentUser.roles.isSiteAdmin)}function Xd(e){return e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.id}var $d,Jd=t(633097),eu=t(762164),nu=t.n(eu),tu=(0,z._v)(nu(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:"",isCommunityMomentsFeatureEnabled:(0,bl.fX)(Jd.g)}}},skip:function(e){return!e.clipSlug}});function iu(e){return{sessionUser:(0,Je.wz)(e),isLoggedIn:(0,Je.M3)(e),isStaff:(0,Je.Xl)(e)}}function au(){return function(e){return(0,_.Zz)((0,x.cj)(ru),(0,u.Ng)(iu),tu)(e)}}function ru(e){var n=e.content;return{clipSlug:(0,j.Qc)(n),isEditing:(0,j.JN)(n)}}!function(e){e.DeleteButton="delete-button",e.DeleteAllButton="delete-all-button"}($d||($d={}));var ou=v.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDelete"),su=v.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDeleteAll"),lu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.delete=function(){n.openModerationModal(ou)},n.deleteAll=function(){n.openModerationModal(su)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=(0,c.hw)("Delete","SettingsMenuSubmenuClipsModeration"),t=(0,c.hw)("Delete all clips from video","SettingsMenuSubmenuClipsModeration");return Kd(this.props)&&(e=(0,a.jsx)(Gr.i,{addRole:!0,"data-test-selector":$d.DeleteAllButton,label:t,onClick:this.deleteAll})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Gr.i,{addRole:!0,autoFocus:!0,"data-test-selector":$d.DeleteButton,label:n,onClick:this.delete}),e]})},n.prototype.openModerationModal=function(e){this.props.showModal(e,{slug:this.props.clipSlug,onClose:this.props.closeModal})},n}(d.Component);var du=(0,_.Zz)(au(),(0,u.Ng)(null,(function(e){return(0,_.zH)({showModal:Wd.to,closeModal:Wd.Oo},e)})))(lu),uu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){n.props.setActiveMenu("settings-menu__advanced")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,c.hw)("Advanced","SettingsMenuItemAdvanced");return(0,a.jsx)(Gr.i,{addRole:!0,"data-a-target":"player-settings-menu-item-advanced",label:e,actionIcon:Nr.W1,onClick:this.showSubMenu})},n}(d.Component),cu=(0,kt.o1)()(uu),pu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){n.props.setClosedCaptionsSettingsShowing(!0),n.props.setActiveMenu("settings-menu__none")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(Gr.i,{addRole:!0,label:(0,c.hw)("Closed Captions Options","SettingsMenuItemCCOptions"),onClick:this.handleClick}):null},n}(d.Component);var mu,vu=(0,_.Zz)((0,pe.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing;return{captionsAvailable:n.available,setClosedCaptionsSettingsShowing:t}})))(pu),fu=t(392395),gu=t(407590),hu=t(646822),yu=t(762436),ku=t(804352),Su=t(837576),_u=t(455987),Cu=t(15292);!function(e){e.On="on",e.Off="off"}(mu||(mu={}));var bu=(0,Cu.yg)()((function(e){var n,t=e.closeSettingsMenu,i=e.data,s=null===(n=null==i?void 0:i.user)||void 0===n?void 0:n.id,l=(0,ku.$)().setHappeningNowSettings,p=(0,Su.L)(),m=(0,u.wA)(),v=(0,u.d4)(Je.M3),f=(0,u.d4)(ur.GQ),g=d.useContext(pe._t).isFullscreen,h=(0,hu.H)(),y=(0,yu.r)(_u.FI,!1),k=y[0],S=y[1],_=(0,c.hw)("Events will still appear when chat is hidden, including polls, predictions, pinned chats, and Hype Trains.","SettingsMenuChatHappeningNow"),C=(0,c.hw)("Always Show Events","SettingsMenuChatHappeningNow");d.useEffect((function(){return function(){k||c.IG.set(_u.FI,!0)}}),[k,S]);var b=!v||p,P=d.useCallback((function(){if(!v)return g&&h.disable(),t(),void m((0,jo.iD)(Lo.W.HappeningNowSettings));var e=!p;l(e);var n=e?mu.On:mu.Off,i=g?"full_screen":f?"theater_mode":"default";c.E5.track("client_happening_now_status_toggle",{channel_id:s||null,player_size_mode:i,status:n})}),[s,t,m,h,p,g,f,v,l]);return(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,padding:.5,cursor:o.bs.Pointer,children:[(0,a.jsxs)(r.P,{onClick:P,display:o.nl.Flex,alignItems:o.k2.Center,margin:{right:.5},width:"100%",role:"menuitemcheckbox",tabIndex:0,children:[(0,a.jsx)(r.P,{margin:{right:.5},children:(0,a.jsx)(kn.N,{children:C})}),(0,a.jsx)(r.P,{height:"2rem",margin:{right:.5},role:"tooltip","aria-label":_,tabIndex:0,children:(0,a.jsx)(nl.m,{label:_,maxWidth:"190px",options:{placement:"top"},children:(0,a.jsx)(fu.h,{fillColor:"alt-2"})})}),!k&&(0,a.jsx)(Id.a,{label:(0,c.hw)("NEW","SettingsMenuChatHappeningNow"),type:"new"})]}),(0,a.jsx)(gu.l,{label:C,checked:b,onChange:P})]})})),Pu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__clips-moderation")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Moderation","SettingsMenuItemClipsModeration");return(0,a.jsx)(Gr.i,{addRole:!0,label:e,actionIcon:Nr.W1,onClick:this.showSubMenu})},n.prototype.shouldShow=function(){return!this.props.isEditing&&!!this.props.clipSlug&&(Kd(e=this.props)||Qd(e));var e},n}(d.Component),Eu=au()(Pu),xu=t(576828),Au=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openModal=function(){var e,t,i,a=n.props.clipSlug,r=Xd(n.props);a&&r&&n.props.showModal(xu.Z,{onClose:n.props.closeModal,reportContext:{contentType:$e.Cah.CLIP_REPORT,contentID:a,targetUserID:r,contentMetadata:{momentID:null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.clip)||void 0===t?void 0:t.communityMoment)||void 0===i?void 0:i.id},trackingContext:"settings_menu_clips_report"}})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Report Clip","SettingsMenuItemClipsReport");return(0,a.jsx)(Gr.i,{label:e,onClick:this.openModal})},n.prototype.shouldShow=function(){return!!(!this.props.isEditing&&this.props.clipSlug&&Xd(this.props)&&(e=this.props,e.isStaff||Yd(e)||e.isLoggedIn&&!Qd(e)&&!Zd(e)));var e},n}(d.Component);var Nu=(0,_.Zz)(au(),(0,u.Ng)(null,(function(e){return(0,_.zH)({showModal:Wd.to,closeModal:Wd.Oo},e)})))(Au),wu=function(e){var n=e.closeSettingsMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Gr.i,{addRole:!0,autoFocus:!0,label:(0,c.hw)("Close","SettingsMenuCloseButton"),figure:{icon:Qe.t.Close},onClick:n}),(0,a.jsx)(jr.m,{})]})},Iu=t(360869),Tu=function(e){function n(n){var t=e.call(this,n)||this;return t.shouldShow=function(){var e=t.props.content,n=t.props.getFullyFormedUrl(e);return((0,j.wy)(e)||(0,j.P3)(e))&&n!==Q.Kk},t.getCurrentTime=function(){var e=t.props.mediaPlayerInstance;return e?Math.floor(e.getPosition()):0},t.updateCurrentTime=function(){var e=t.getCurrentTime();t.state.currentTime!==e&&t.setState({currentTime:e})},t.copyURLDisabled=function(){return t.setState({copyURLDisabled:!1})},t.handleClick=function(){var e=t.props.mediaPlayerInstance,n=t.props.content;e&&((0,j.wy)(n)||(0,j.P3)(n))&&(n=(0,i.__assign)((0,i.__assign)({},n),{videoOffset:Math.floor(e.getPosition())}));var a=t.props.getFullyFormedUrl(n);(0,Iu.e)(a),t.setState({copyURLDisabled:!0}),t.timeout=setTimeout(t.copyURLDisabled,2e3)},t.state={copyURLDisabled:!1,currentTime:t.getCurrentTime()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.TIME_UPDATE,this.updateCurrentTime)},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Copy Video URL at {timestamp}",{timestamp:(0,ha.a3)(this.state.currentTime,ha.wg.ClockHMS)},"SettingsMenuItemCopyVideoURLComponent"),n=(0,c.hw)("Copied!","SettingsMenuItemCopyVideoURLComponent");return(0,a.jsx)(Gr.i,{addRole:!0,disabled:this.state.copyURLDisabled,label:this.state.copyURLDisabled?n:e,onClick:this.handleClick})},n}(d.Component);var Du=(0,_.Zz)((0,x.cj)((function(e){return{content:e.content}})),(0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,P.X)(),(0,K.e)())(Tu),Fu=function(){var e=(0,d.useContext)(pe._t),n=e.setStatsOverlay,t=e.showKeyboardShortcuts,i=(0,d.useCallback)((function(){n(pe.Uz.None),t()}),[n,t]);return(0,d.useMemo)((function(){return(0,a.jsx)(Gr.i,{addRole:!0,label:(0,c.hw)("View Keyboard Shortcuts","SettingsMenuItemKeyboardShortcuts"),onClick:i})}),[i])},Ou=t(612567),Ru=480,Vu=853,Mu=[kl.C.Imdb],Lu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.playerType,i=e.isClipContent;return!(t===kl.C.AmazonVse||i)},n.handleClick=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.pause,a=e.playerType,r=e.volume,o=e.muted,s=e.content,l=e.quality;i(),n.props.setActiveMenu("settings-menu__none");var d={player:Mu.includes(a)?a:kl.C.Popout,volume:r,muted:o,enableExtensions:!0,parent:"twitch.tv",quality:l};((0,j.wy)(s)||(0,j.P3)(s))&&(d.t=(0,Ou.W)(Math.floor(t&&t.getPosition()||0)));var u=(0,Q.kG)(s,d);window.open(u,"_blank","width=".concat(Vu,",height=").concat(Ru,",toolbar=no,menubar=no,scrollbars=no,location=no,status=no"))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.shouldShow()?(0,a.jsx)(Gr.i,{addRole:!0,label:(0,c.hw)("Popout Player","SettingsMenuItemPopoutPlayer"),onClick:this.handleClick}):null},n}(d.Component);var ju=(0,_.Zz)((0,x.cj)((function(e){return{content:e.content,playerType:(0,Sl.O)(e),isClipContent:(0,j.Jn)(e.content)}})),(0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,quality:e.quality}})),(0,A.AP)((function(e){return{muted:e.muted,pause:e.pause,volume:e.volume}})))(Lu),Bu="badgeText--XxPBc",Uu="disabled--zdAPI",qu=function(e){var n,t=e.quality,i=e.disabled,r=(0,Od.ei)(t);return(0,Od.IW)(t.codecs,r)&&Od.dD.includes(r)&&(0,bl.fX)("uq_ui")?(0,a.jsx)("sup",{className:l()(Bu,(n={},n[Uu]=i,n)),children:r}):null},Gu=function(e){var n=e.quality;return n.group===Td.s?Fd():(0,a.jsxs)(r.P,{display:"flex",gap:.5,children:[Dd(n.name),(0,a.jsx)(qu,{quality:n,disabled:(0,Od.MC)(n)}),(0,a.jsx)("span",{children:(0,Od.L)(n)&&(0,c.hw)("(Source)","SettingsMenuSubmenuQuality")})]})},zu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.availableQualitiesLength>0&&!n.props.forceQuality},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__quality")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Quality","SettingsMenuItemQuality");return(0,a.jsx)(Gr.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-quality",actionIcon:Nr.W1,onClick:this.showSubMenu,children:(0,a.jsxs)(r.P,{display:"flex",children:[e,(0,a.jsx)(r.P,{margin:{left:"auto"},children:(0,a.jsx)(Gu,{quality:this.props.selectedQuality})})]})})},n}(d.Component),Hu=(0,_.Zz)((0,E.dd)((function(e){return{availableQualitiesLength:e.availableQualities.length,selectedQuality:(0,Od.uU)(e)}})),(0,x.cj)((function(e){return{forceQuality:(0,T.wk)({playerPublicPropsContext:e}).forceQuality}})))(zu);var Wu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return!n.props.isClipContent},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__report")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Report Playback Issue","SettingsMenuItemReportPlaybackIssue");return(0,a.jsx)(Gr.i,{addRole:!0,"data-a-target":"player-settings-menu-item-report",label:e,actionIcon:Nr.W1,onClick:this.showSubMenu})},n}(d.Component),Ku=(0,x.cj)((function(e){var n=e.content;return{isClipContent:(0,j.Jn)(n)}}))(Wu);var Zu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__speed")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.shouldShow)return null;var e=(0,c.hw)("Speed","SettingsMenuItemSpeed");return(0,a.jsx)(Gr.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-speed",label:e,actionIcon:Nr.W1,value:"".concat(this.props.speed,"x"),onClick:this.showSubMenu})},n}(d.Component),Qu=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{shouldShow:(0,j.pk)(n)}})),(0,E.dd)((function(e){var n=e.speed;return{speed:n}})))(Zu);var Yu=t(337455),Xu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.isStaff||c.x2.config.buildType===Yu.n.Dev},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__staff")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Staff","SettingsMenuItemStaff");return(0,a.jsx)(Gr.i,{addRole:!0,label:e,actionIcon:Nr.W1,onClick:this.showSubMenu})},n}(d.Component);var $u=(0,u.Ng)((function(e){return{isStaff:(0,Je.Xl)(e)}}))(Xu),Ju=function(e){var n=e.closeSettingsMenu,t=e.isOffline,i=e.setActiveMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(wu,{closeSettingsMenu:n}),(0,a.jsx)(Hu,{setActiveMenu:i}),(0,a.jsx)(Qu,{setActiveMenu:i}),(0,a.jsx)(Nu,{}),(0,a.jsx)(Eu,{setActiveMenu:i}),(0,a.jsx)(vu,{setActiveMenu:i}),(0,a.jsx)(cu,{setActiveMenu:i}),(0,a.jsx)(Ku,{setActiveMenu:i}),(0,a.jsx)($u,{setActiveMenu:i}),(0,a.jsx)(ju,{setActiveMenu:i}),(0,a.jsx)(bu,{closeSettingsMenu:n}),(0,a.jsx)(Du,{}),!t&&(0,a.jsx)(Fu,{})]})},ec=t(579038),nc=t(906719);function tc(){return{id:"NOT_SUPPORTED",title:(0,c.hw)("Device or browser not supported","SettingsMenuSubmenuQuality"),message:(0,c.hw)("The device or browser you are using is not compatible with some stream qualities.","SettingsMenuSubmenuQuality")}}function ic(){return{id:"LOCATION_RESTRICTION",title:(0,c.hw)("Location restriction","SettingsMenuSubmenuQuality"),message:(0,c.hw)("The disabled quality settings are not currently supported in your location.","SettingsMenuSubmenuQuality")}}function ac(){return{id:"LOGGED_OUT",title:(0,c.hw)("You're logged out!","SettingsMenuSubmenuQuality"),message:(0,c.hw)("Sign up or log in to view higher resolutions.","SettingsMenuSubmenuQuality")}}function rc(){return{id:"GENERIC",title:(0,c.hw)("Heads up!","SettingsMenuSubmenuQuality"),message:(0,c.hw)("Some stream qualities may not be available to you.","SettingsMenuSubmenuQuality")}}var oc={FR_RESOLUTION_DISALLOWED:rc,FR_BITRATE_DISALLOWED:rc,FR_FRAMERATE_DISALLOWED:rc,FR_SOURCE_DISALLOWED:rc,FR_OTHER_DISALLOWED:rc,FR_CODEC_NOT_REQUESTED:tc,FR_CODEC_DEVICE_INCOMPATIBLE:tc,FR_CODEC_DEVICE_BLOCKLISTED:tc,FR_EXPERIMENT_FILTERING:rc,AUTHZ_GEO:ic,AUTHZ_NOT_LOGGED_IN:ac,AUTHZ_NOT_SUBSCRIBED:rc,AUTHZ_NOT_TURBO:rc,AUTHZ_DISALLOWED_BITRATE:rc},sc=[ic,tc,ac,rc];var lc=function(e){var n=d.useState(!1),t=n[0],i=n[1],r=function(n){e.disabled||("Enter"===n.key?e.onClose():"mouseup"===n.type?i(!0):"click"===n.type&&(e.selected||e.onChange(),t&&(i(!1),e.onClose())))};return(0,a.jsx)("div",{onKeyDown:r,onMouseUp:r,onClick:r,children:e.children})},dc=(0,Ed.U)({name:"VideoPlayer_SettingsMenuSubmenuQuality",category:"broadcast"}).Available,uc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.closeMenu=function(){n.props.setActiveMenu("settings-menu__none")},n.setQuality=function(e){var t=n.props,i=t.disableUserPreferencePersistence,a=t.isClipContent,r=t.mediaPlayerInstance,o=t.type;r&&((0,Od.fx)(e,n.props),a&&(0,Od.Gi)(e)?n.selectClipQuality(e,r):n.selectQuality(e,r),i||(0,Od.XF)(e,o)),e.group===Td.w&&(0,Od.di)()},n.selectQuality=function(e,t){e.group===Td.s?t.setAutoQualityMode(!0):(t.getQuality().group!==e.group&&n.props.setRequestedQuality(!0),t.setQuality(e))},n.selectClipQuality=function(e,n){n.load(e.source),n.play()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=this,t=this.props,o=t.unavailableQualities,s=t.availableQualities,l=t.quality,d=(null===(e=s[0])||void 0===e?void 0:e.group)===Td.s,u=(0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)([d?s[0]:null],o,!0),[d?null:s[0]],!1),s.slice(1),!0).filter((function(e){return null!==e})),p=function(e){if(0===e.length)return null;var n=e.sort((function(e,n){var t=sc.indexOf(oc[e]),i=sc.indexOf(oc[n]);return(-1===t?999:t)-(-1===i?999:i)}))[0];return(oc[n]||rc)()}(o.flatMap((function(e){return(0,i.__spreadArray)((0,i.__spreadArray)([],e.filterReasons,!0),e.authReasons,!0)})));return(0,a.jsx)(dc,{children:(0,a.jsxs)(a.Fragment,{children:[!!p&&(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(ec.D,{type:nc._.Info,message:{title:p.title,description:p.message,link:{children:(0,c.hw)("Learn more","SettingsMenuSubmenuQuality"),linkTo:"#fixme",targetBlank:!0}}})}),u.map((function(e,t){return(0,a.jsx)(lc,{onClose:n.closeMenu,onChange:function(){return!(0,Od.MC)(e)&&n.setQuality(e)},selected:e.group===l,disabled:(0,Od.MC)(e),children:(0,a.jsx)("div",{style:{display:"flex"},children:(0,a.jsx)(Br.G,{disabled:(0,Od.MC)(e),addRole:!0,autoFocus:0===t,"data-a-target":"player-settings-submenu-quality-option",type:Br.M.Radio,label:(0,a.jsx)(Gu,{quality:e}),checked:e.group===l,readOnly:!0,name:"player-settings-submenu-quality-option"})})},e.group)}))]})})},n}(d.Component),cc=(0,_.Zz)((0,E.dd)((function(e){var n=e.availableQualities,t=e.unavailableQualities,i=e.mediaPlayerInstance,a=e.quality,r=e.updateContext;return{availableQualities:n,unavailableQualities:t,mediaPlayerInstance:i,quality:a,updateContext:r}})),(0,x.cj)((function(e){var n=e.content,t=e.type;return{disableUserPreferencePersistence:(0,T.wk)({playerPublicPropsContext:e}).disableUserPreferencePersistence,isClipContent:(0,j.Jn)(n),type:t}})),(0,kt.o1)(),(0,pe.c0)((function(e){var n=e.setRequestedQuality;return{setRequestedQuality:n}})))(uc);var pc={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps_exact:0,current_fps:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_cluster:"",manifest_node_type:"",manifest_node:"",node:"",paused:!1,playing:!1,segment_protocol:"",serving_id:0,stream_time_offset:0,stream_time:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,vod_cdn_origin:"",vod_cdn_region:"",volume:0},mc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={issue_type:"",recentlySubmitted:!1},n.selectRef=d.createRef(),n.handleChange=function(e){n.setState({issue_type:e.currentTarget.value})},n.handleSubmit=function(){0===n.state.issue_type.indexOf("ad-")?n.reportAdIssue():n.reportVideoIssue(),n.setState({recentlySubmitted:!0}),n.timeout=setTimeout((function(){return n.props.setActiveMenu("settings-menu__none")}),2e3)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e;null===(e=this.selectRef.current)||void 0===e||e.focus()},n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[!this.state.recentlySubmitted&&this.renderForm(),this.state.recentlySubmitted&&(0,c.hw)("Thanks for your report","SettingsMenuSubmenuReportPlaybackIssue")]})},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.renderForm=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:1,children:(0,c.hw)("Noticed a video playback issue? Let us know!","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)(r.P,{margin:1,children:(0,a.jsxs)(Dn.l,{onChange:this.handleChange,defaultValue:"",ref:this.selectRef,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:(0,c.hw)("Select","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"stutter-both",children:(0,c.hw)("Audio and video stutter","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"stutter-video",children:(0,c.hw)("Video stutters, but audio is fine","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"black-screen",children:(0,c.hw)("Video is completely black or doesn't load","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"av-desync",children:(0,c.hw)("Audio and video aren't synced","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"fullscreen-broken",children:(0,c.hw)("Fullscreen playback doesn't work","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-broken",children:(0,c.hw)("Advertisement playback doesn't work.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-repeat",children:(0,c.hw)("Advertisement has played too many times.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-offensive-inappropriate",children:(0,c.hw)("Advertisement is offensive or inappropriate.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-too-loud",children:(0,c.hw)("Advertisement is too loud.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-not-relevant",children:(0,c.hw)("Advertisement is not relevant to my interests.","SettingsMenuSubmenuReportPlaybackIssue")})]})}),(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,margin:1,children:(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Primary,onClick:this.handleSubmit,disabled:""===this.state.issue_type,children:(0,c.hw)("Submit","SettingsMenuSubmenuReportPlaybackIssue")})})]})},n.prototype.reportVideoIssue=function(){this.props.mediaPlayerInstance&&this.props.track("vid_issue_report",(0,i.__assign)({issue:this.state.issue_type},function(e){var n=e.getSessionData(),t={broadcast_id:n["BROADCAST-ID"],cluster:n.CLUSTER,manifest_cluster:n["MANIFEST-CLUSTER"],manifest_node_type:n["MANIFEST-NODE_TYPE"],manifest_node:n["MANIFEST-NODE"],node:n.NODE,segment_protocol:"https:"===window.location.protocol?"https":"http",serving_id:n["SERVING-ID"],stream_time_offset:parseFloat(n["STREAM-TIME"]||"0"),user_ip:n.USER_IP,vod_cdn_origin:n.ORIGIN,vod_cdn_region:n.REGION},a={};if(e){var r=e.getState(),o=e.getVideoBitRate()/1e3,s=e.getVideoFrameRate();a={bandwidth:o,current_bitrate:o,current_fps_exact:s,current_fps:Math.round(s),decoded_frames:e.getDecodedFrames(),dropped_frames:e.getDroppedFrames(),hls_latency_broadcaster:Math.round(1e3*e.getLiveLatency()),hls_target_duration:5,paused:r===w.p.IDLE,playing:r===w.p.PLAYING,stream_time:e.getPosition(),totalMemoryNumber:64,vid_display_height:e.getDisplayHeight(),vid_display_width:e.getDisplayWidth(),vid_height:e.getVideoHeight(),vid_width:e.getVideoWidth(),video_buffer_size:e.getBufferDuration(),volume:e.getVolume()}}return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},pc),t),a)}(this.props.mediaPlayerInstance)))},n.prototype.reportAdIssue=function(){var e=this,n=(0,W.yr)(16);this.props.adPodStats.forEach((function(t){var a=(0,i.__assign)({adPodId:n},function(e){var n=e.adPosition,t=e.adWrapperIds,i=e.contentType,a=e.creativeId,r=e.duration,o=e.impressionTime,s=e.mediaUrl,l=e.system,d=e.title,u=e.totalAds,c=e.vastMediaBitrate,p=e.vastMediaHeight,m=e.vastMediaWidth;return{adPosition:n,adWrapperId:t?t[0]:void 0,contentType:i,creativeId:a,duration:r,impressionTime:o,mediaUrl:s,system:l,title:d,totalAds:u,vastMediaBitrate:c,vastMediaHeight:p,vastMediaWidth:m}}(t));e.props.track("ad_issue_report",(0,i.__assign)({issuetype:e.state.issue_type},a))}))},n}(d.Component),vc=(0,_.Zz)((0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,kt.o1)(),(0,ce.VX)((function(e){return{adPodStats:e.adPodStats}})))(mc),fc=[.25,.5,.75,1,1.25,1.5,2],gc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=c.x2.logger.withCategory("SettingsMenuSubmenuSpeedComponent"),n.closeMenu=function(){return n.props.setActiveMenu("settings-menu__none")},n.setSpeed=function(e){n.props.mediaPlayerInstance?(0,ve.qr)(e,n.props):n.logger.warn("no media player loaded")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props.speed,t=(0,c.hw)("1x (Normal)","SettingsMenuSubmenuSpeed");return(0,a.jsx)(a.Fragment,{children:fc.map((function(i,r){var o=n===i,s=1===i?t:"".concat(i,"x");return(0,a.jsx)(lc,{onClose:e.closeMenu,onChange:function(){return e.setSpeed(i)},selected:o,children:(0,a.jsx)(Br.G,{addRole:!0,autoFocus:0===r,"data-a-target":"player-settings-submenu-speed-option",type:Br.M.Radio,name:"playback-speed",label:s,checked:o})},i)}))})},n}(d.Component),hc=(0,_.Zz)((0,x.cj)((function(e){return{disableUserPreferencePersistence:(0,T.wk)({playerPublicPropsContext:e}).disableUserPreferencePersistence}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,kt.o1)())(gc);var yc=v.x.wrap((function(){return Promise.resolve().then(t.bind(t,787755))}),"SettingsMenuSubmenuStaffContainer",{failSilently:!0,placeholder:null});var kc,Sc=(0,_.Zz)((0,Ge.X)({name:"SettingsMenuSubmenuStaff"}),(0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(yc,(0,i.__assign)({},e)):null})),_c=function(e){var n=e.activeMenu,t=e.closeSettingsMenu,i=e.isOffline,r=e.setActiveMenu,o=null;switch(n){case"settings-menu__main":o=(0,a.jsx)(Ju,{closeSettingsMenu:t,isOffline:i,setActiveMenu:r});break;case"settings-menu__advanced":o=(0,a.jsx)(Hd,{setActiveMenu:r});break;case"settings-menu__clips-moderation":o=(0,a.jsx)(du,{setActiveMenu:r});break;case"settings-menu__quality":o=(0,a.jsx)(cc,{setActiveMenu:r});break;case"settings-menu__report":o=(0,a.jsx)(vc,{setActiveMenu:r});break;case"settings-menu__speed":o=(0,a.jsx)(hc,{setActiveMenu:r});break;case"settings-menu__staff":o=(0,a.jsx)(Sc,{setActiveMenu:r});break;default:o=null}return o?(0,a.jsx)("div",{"data-a-target":"player-settings-menu",children:o}):null},Cc=t(903689);function bc(e){switch(e){case"settings-menu__advanced":return(0,c.hw)("Advanced","SettingsMenuSubmenuAdvanced");case"settings-menu__clips-moderation":return(0,c.hw)("Moderation","SettingsMenuSubmenuClipsModeration");case"settings-menu__quality":return(0,c.hw)("Video Quality","SettingsMenuSubmenuQuality");case"settings-menu__report":return(0,c.hw)("Report Playback Issue","SettingsMenuSubmenuReportPlaybackIssue");case"settings-menu__speed":return(0,c.hw)("Speed","SettingsMenuSubmenuSpeed");case"settings-menu__staff":return(0,c.hw)("Staff","SettingsMenuSubmenuStaff");default:return(0,c.hw)("Video Player Settings","SettingsMenuButtonComponent")}}!function(e){e.MainMenuButton="main-menu"}(kc||(kc={}));var Pc=function(e){var n=e.activeMenu,t=(0,c.hw)("Back to Video Player Settings","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(r.P,{display:"settings-menu__main"===n||"settings-menu__none"===n?o.nl.Hide:void 0,children:[(0,a.jsx)(Gr.i,{addRole:!0,children:t,figure:{icon:Nr.fj},onClick:function(){return e.setActiveMenu("settings-menu__main")},"data-test-selector":kc.MainMenuButton,role:"button"}),(0,a.jsx)(r.P,{id:"active-settings-menu-header",role:"heading",children:(0,a.jsx)(Cc.x,{children:bc(n)})}),(0,a.jsx)(jr.m,{})]})},Ec=(0,Ed.U)({name:"VideoPlayer_SettingsMenuButton",category:"broadcast"}).Available,xc=(0,_.Zz)((0,x.cj)((function(e){return{forceQuality:(0,T.wk)({playerPublicPropsContext:e}).forceQuality,content:e.content,disableSettingsMenuButton:(0,T.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,A.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,pe.c0)((function(e){var n=e.videoContainer,t=e.requestedQuality,i=e.setIsMenuShowing;return{videoContainer:n,qualityIsChanging:t,setIsMenuShowing:i}})),(0,kt.o1)())((function(e){var n=e.content,t=e.disableSettingsMenuButton,s=e.forceQuality,u=e.isOffline,p=e.isPlaying,m=e.qualityIsChanging,v=e.setIsMenuShowing,f=e.videoContainer,g=(0,d.useRef)(!0),h=(0,d.useState)({activeMenu:"settings-menu__none"}),y=h[0],k=y.activeMenu,S=y.maxMenuHeight,_=h[1],C=(0,jd.p)(),b=C.dialogProps,P=C.setAnchorRef,E=C.close,x=C.toggle,A=(0,d.useCallback)((function(e){_((function(n){return(0,i.__assign)((0,i.__assign)({},n),{activeMenu:e})}))}),[]),N=(0,d.useCallback)((function(){E(),_((function(e){return(0,i.__assign)((0,i.__assign)({},e),{activeMenu:"settings-menu__none"})}))}),[E]),w=(0,d.useCallback)((function(){var e=Ac(f);e&&_((function(n){return(0,i.__assign)((0,i.__assign)({},n),{maxMenuHeight:e})}))}),[f]),I=(0,d.useCallback)((function(){x(),_((function(e){var n="settings-menu__none"===e.activeMenu?"settings-menu__main":"settings-menu__none";return"settings-menu__none"===n?(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n}):(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n,maxMenuHeight:Ac(f)})}))}),[x,f]),T=(0,d.useCallback)((function(){if("settings-menu__none"===k)return null;var e=bc(k);return"settings-menu__main"===k?e:(0,c.hw)("{submenuLabel} submenu",{submenuLabel:e},"SettingsMenuButtonComponent")}),[k]);if((0,d.useEffect)((function(){g.current?g.current=!1:v("settings-menu__none"!==k)}),[k,v]),t)return null;var D=m&&p&&!s&&!(0,j.Jn)(n);return(0,a.jsxs)(Ec,{children:[(0,a.jsxs)(r.P,{children:[(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsxs)(Bd.n,(0,i.__assign)({},b,{"aria-labelledby":"active-settings-menu-header",role:"menu",onRequestClose:N,show:"settings-menu__none"!==k,size:hr.$V.Medium,maxHeight:S?"".concat(S,"px"):void 0,options:{placement:"top-end",modifiers:[{name:"offset",options:{offset:[40,5]}},{name:"flip",enabled:!1}]},children:[(0,a.jsx)(r.P,{display:o.nl.HideAccessible,"aria-live":"polite",children:(0,a.jsx)(Ud.L,{type:ft.M2.Span,children:T()})}),(0,a.jsx)(Pc,{activeMenu:k,setActiveMenu:A}),(0,a.jsx)(_c,{activeMenu:k,closeSettingsMenu:N,isOffline:u,setActiveMenu:A})]}))}),(0,a.jsx)(r.P,{className:l()(D&&"settings-menu-button-component__animate"),children:(0,a.jsx)(qs.g,{"data-a-target":"player-settings-button",tooltipPlacement:"top-end",label:(0,c.hw)("Settings","SettingsMenuButtonComponent"),buttonIcon:Qe.t.Gear,anchorRef:P,onClick:I})})]}),"settings-menu__none"!==k&&(0,a.jsx)($n.$,{onResize:w})]})}));function Ac(e){var n=(0,nt.P)(e).height;return n?.8*n:void 0}var Nc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.toggleTheatreMode=function(){n.props.theatreModeEnabled?n.props.disableTheatreMode():n.props.enableTheatreMode()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isFullscreen,t=e.shouldDisableTheatreMode,i=e.theatreModeEnabled;if(t||n)return null;var r=(0,c.hw)("Exit Theatre Mode (alt+t)","TheatreModeButtonComponent"),o=(0,c.hw)("Theatre Mode (alt+t)","TheatreModeButtonComponent");return(0,a.jsx)(qs.g,{tooltipPlacement:"top-end",label:i?r:o,buttonIcon:i?Qe.t.Theater:Qe.t.TheaterExit,onClick:this.toggleTheatreMode})},n}(d.Component);var wc=(0,_.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,i.__assign)({enableTheatreMode:function(){e((0,qd._H)())}},(0,_.zH)({disableTheatreMode:qd.lq},e))})),(0,x.cj)((function(e){return{shouldDisableTheatreMode:(0,T.wk)({playerPublicPropsContext:e}).disableTheatreMode}})),(0,pe.c0)((function(e){return{isFullscreen:e.isFullscreen}})),(0,kt.o1)())(Nc),Ic=t(631139),Tc=t(945005),Dc=t(206412),Fc=t.n(Dc);var Oc=(0,_.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),shouldEnableViewCount:(0,T.wk)({playerPublicPropsContext:e}).enableViewCount}})))((function(e){var n,t,i,o,s,l,d,u,p=e.content,m=e.shouldEnableViewCount,v=(0,j.DG)(p)?null==p?void 0:p.channelLogin:"",f=(0,R.IT)(Fc(),{variables:{login:v||""},skip:!v||!m}).data,g=null!==(t=null===(n=null==f?void 0:f.user)||void 0===n?void 0:n.id)&&void 0!==t?t:null;return(0,Va.C)({query:Fc(),variables:{login:v||""},topic:g?(0,Xe.RW)(g):"",skip:!g||!m,type:Ma.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?Ra()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}),m&&null!==(null===(o=null===(i=null==f?void 0:f.user)||void 0===i?void 0:i.stream)||void 0===o?void 0:o.viewersCount)&&void 0!==(null===(l=null===(s=null==f?void 0:f.user)||void 0===s?void 0:s.stream)||void 0===l?void 0:l.viewersCount)?(0,a.jsx)(r.P,{color:"overlay",background:"overlay",display:"flex",borderRadius:xt.Z.Large,padding:.5,margin:{x:.5},children:(0,a.jsx)(Ic.r,{label:(0,c.hw)("Viewers","VideoPlayerOverlayViewCount"),value:(0,c.ZV)(null===(u=null===(d=null==f?void 0:f.user)||void 0===d?void 0:d.stream)||void 0===u?void 0:u.viewersCount),icon:Tc.H,tooltipProps:{options:{placement:"top"}}})}):null})),Rc=t(711574),Vc=t(650752),Mc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChange=function(){var e=n.props.mediaPlayerInstance;e&&n.props.onDurationChange(e.getDuration())},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.DURATION_CHANGED,this.onDurationChange)},n.prototype.render=function(){return null},n}(d.Component),Lc=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,P.X)())(Mc);var jc=function(e){function n(n){var t=e.call(this,n)||this;return t.isDragging=!1,t.handleThumbDragStart=function(){t.isDragging=!0,t.setState({bufferDuration:0})},t.handleThumbLocationChange=function(e){var n=t.props.mediaPlayerInstance;t.isDragging=!1,n&&(n.seekTo(e),t.setState({thumbLocation:e}))},t.handleSeekComplete=function(e){var n=t.props.mediaPlayerInstance;(null==n?void 0:n.isPaused())&&t.setState({thumbLocation:e})},t.handleTimeChanged=function(e){var n=t.props.mediaPlayerInstance;if(!n||t.isDragging)t.setState({thumbLocation:e});else{var i=n.getBufferDuration();t.setState({bufferDuration:i,thumbLocation:e})}},t.handleBufferUpdate=function(e){t.isDragging||t.setState({bufferDuration:e})},t.handleDurationChange=function(e){t.setState({vodLength:e})},t.state={bufferDuration:0,thumbLocation:0,vodLength:n.mediaPlayerInstance&&n.mediaPlayerInstance.getDuration()||0},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.data,t=e.editingSegments,i=e.isAdShowing,r=this.state,o=r.thumbLocation,s=r.bufferDuration,l=r.vodLength;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ol.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(ie.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(Wl,{onBufferUpdate:this.handleBufferUpdate}),(0,a.jsx)(Lc,{onDurationChange:this.handleDurationChange}),n&&!n.loading&&!n.error&&n.video&&!i&&(0,a.jsx)(Vc.H,{thumbLocation:o,bufferDuration:s,vodLength:l,mutedSegments:Bc(n),onThumbDragStart:this.handleThumbDragStart,onThumbLocationChanged:this.handleThumbLocationChange,editingSegments:t})]})},n}(d.Component);function Bc(e){return e.video&&e.video.muteInfo&&e.video.muteInfo.mutedSegmentConnection&&e.video.muteInfo.mutedSegmentConnection.nodes||[]}var Uc=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,A.AP)((function(e){var n=e.pause,t=e.isPlaying;return{pause:n,isPlaying:t}})),(0,x.cj)((function(e){return{vodID:(0,j.hq)(e.content)||null,editingSegments:(0,j.N1)(e.content),includePrivateVODs:(0,T.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,ce.VX)((function(e){return{isAdShowing:(0,et.cz)(e.videoAdMetadata)}})),(0,Rc.h)(),(0,z._v)(Zl(),{options:function(e){var n=e.vodID,t=e.collectionVodID;return{variables:{vodID:null!=n?n:t,includePrivate:e.includePrivateVODs}}},skip:function(e){var n=e.vodID,t=e.collectionVodID;return!(n||t)}}))(jc);var qc=t(155738),Gc=t(186396),zc=t(732574),Hc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){var e=(0,j.L$)(n.props.content,{tt_content:"twitch_logo",tt_medium:"embed"},n.props.mediaPlayerInstance);window.open(e),n.props.pause()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.showExternalBranding?(0,a.jsx)(Wi.cv,{label:this.getTooltipLabel(this.props.content),align:Wi.HX.Right,direction:Wi.n5.Top,children:(0,a.jsx)(Gc.M2,{"aria-label":this.getTooltipLabel(this.props.content),onClick:this.handleClick,variant:Gc.sK.Text,overlay:!0,children:(0,a.jsx)(r.P,{display:o.nl.Flex,margin:{x:.5},children:(0,a.jsx)(zc.g,{width:60,height:18})})})}):null},n.prototype.getTooltipLabel=function(e){return e.type===Z.FC.Clip?(0,c.hw)("View clip page","WatchOnTwitchButton"):(0,c.hw)("Watch on Twitch","WatchOnTwitchButton")},n}(d.Component);var Wc,Kc=(0,_.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),showExternalBranding:(0,T.wk)({playerPublicPropsContext:e}).showExternalBranding}})),(0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,A.AP)((function(e){return{pause:e.pause}})))(Hc),Zc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.tooltipPlacementRef=d.createRef(),n.chromecastButtonRef=d.createRef(),n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.shouldShow,t=e.isOffline,s=e.isAccessibilityLandmark,l=void 0===s||s,d=e.shouldDisplayPlayPauseAsOverlay,u=void 0!==d&&d,p=e.shouldPushVolumeToRight,m=void 0!==p&&p,v={assignments:{fallback:function(){return null},active:function(){return(0,a.jsx)(dd,{})}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Pt.e,{type:Et.ES.Fade,show:n,alwaysRenderChild:!0,preventChildAriaHidden:!0,children:(0,a.jsxs)(r.P,{"data-a-target":"player-controls",className:"player-controls","data-a-visible":n,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Stretch,overflow:n?o.nE.Visible:o.nE.Hidden,attachBottom:!0,fullWidth:!0,children:[(0,a.jsx)(r.P,{padding:{x:2},children:(0,a.jsxs)(ma.t,{name:"PlayerControlsOverlay-SeekBar",children:[(0,a.jsx)(yl,{}),(0,a.jsx)(Uc,{}),(0,a.jsx)(td,{})]})}),(0,a.jsx)(Ia.u,{section:"global",id:"channel-player",icon:wt.A,label:(0,c.hw)("Player Controls","SkipToTargetVideoPlayer"),enabled:!!l,children:(0,a.jsx)(r.P,{display:o.nl.Flex,dir:"ltr",margin:{left:1,bottom:1,right:1},children:(0,a.jsxs)(ma.t,{name:"PlayerControlsOverlay-Controls",children:[!t&&(0,a.jsxs)(r.P,{flexGrow:1,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Start,className:"player-controls__left-control-group",children:[(0,a.jsx)(Oc,{}),(0,a.jsx)(yd,{}),(0,a.jsx)(Js,{}),!u&&(0,a.jsx)(wd,{}),!m&&(0,a.jsx)(qc.Sb,{playerControlsShowing:n})]}),(0,a.jsxs)(r.P,{flexGrow:1,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.End,className:"player-controls__right-control-group",children:[(0,a.jsx)(Md,{}),(0,a.jsx)(Bl,{}),m&&(0,a.jsx)(qc.Sb,{playerControlsShowing:n,ref:this.tooltipPlacementRef,chromecastButtonRef:this.chromecastButtonRef}),(0,a.jsx)(xc,{isOffline:t}),(0,a.jsx)(Sr.N,(0,i.__assign)({},v)),(0,a.jsx)(ql,{}),(0,a.jsx)(_l,{}),(0,a.jsx)("div",{ref:this.chromecastButtonRef,children:(0,a.jsx)(al,{})}),(0,a.jsx)(r.P,{position:o.yX.Absolute,attachBottom:!0,attachRight:!0,margin:{bottom:5,right:5},children:(0,a.jsx)(Pd,{})}),(0,a.jsx)(wc,{}),(0,a.jsx)(vd,{}),(0,a.jsx)(Kc,{})]})]})})})]})})},n}(d.Component),Qc=(0,_.Zz)((0,Ge.X)({name:"PlayerControlsOverlay"}))(Zc),Yc=t(28602),Xc=t(194257),$c=t.n(Xc),Jc=t(734594),ep=t(195135),np=t(434848),tp=t(146065),ip=t(315320),ap=t(505851);!function(e){e.Details="preview_content-details",e.ContentTimer="preview-content-content-timer",e.PrimeUpsellButton="preview-content-prime-upsell-button",e.PrimeSubscribeErrorPanel="preview-content-prime-error-panel"}(Wc||(Wc={}));var rp=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),op=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={imageLoaded:!1},n.handleImageLoad=function(){return n.setState((function(e){return e.imageLoaded?null:{imageLoaded:!0}}))},n.adFreeViewingText=function(){return(0,c.hw)("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.","PreviewContentOverlay")},n.showSubscriptionModal=function(){if(n.props.channelLogin){var e=n.props.exemptionProductName;e&&n.props.minTier>1?n.props.showSubscriptionCheckout({productName:e,trackingContext:{source:ap.U.SubscriberStreamUpsellClick}}):n.props.showSubscriptionModal({channelLogin:n.props.channelLogin,subLocation:Yc.U2.PremiumContentOverlay})}},n.handlePrimeSubscribe=function(){n.props.handlePrimeSubscribe()},n.resetPrimeSubscribe=function(){n.props.resetPrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLoggedOutContent();this.props.isLoggedIn&&(e=this.props.secondsRemaining<=0?this.renderExpiredContent():this.renderPreviewContent());var n=this.props.previewUrl;return(0,a.jsx)(Pt.e,{show:this.props.expanded,type:Et.ES.Fade,duration:Et.Cf.Long,"data-test-selector":Wc.Details,className:"preview-overlay__transition-container",children:(0,a.jsxs)(r.P,{padding:{bottom:2,x:2},display:o.nl.Flex,alignItems:o.k2.Start,className:"preview-overlay__info",children:[(0,a.jsx)(sn.S,{margin:{right:2},borderRadius:xt.Z.Medium,children:(0,a.jsx)("div",{className:"preview-overlay__preview-image",children:(0,a.jsx)(Kt.j$,{ratio:16/9,children:(0,a.jsx)(Pt.e,{show:this.state.imageLoaded,type:Et.ES.Fade,duration:Et.Cf.Long,alwaysRenderChild:!0,children:n&&(0,a.jsx)(Zt.L,{src:n,alt:this.props.channelLogin||"",onLoad:this.handleImageLoad})})})})}),(0,a.jsx)("div",{className:"preview-overlay__content",children:e})]})})},n.prototype.renderExpiredContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(kn.N,{type:ft.M2.H4,children:(0,c.hw)("Your free preview has expired","PreviewContentOverlay")})}),(0,a.jsx)(kn.N,{type:ft.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(kn.N,{type:ft.M2.P,fontSize:o.Z4.Size6,children:this.adFreeViewingText()}),this.renderButtonBar()]})},n.prototype.renderPreviewContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(kn.N,{type:ft.M2.P,fontSize:o.Z4.Size4,"data-test-selector":Wc.ContentTimer,children:(0,c.hw)("Your free preview ends in {timeRemaining}",{timeRemaining:(0,a.jsx)(kn.N,{type:ft.M2.Strong,children:this.renderTimer()})},"PreviewContentOverlay")}),this.renderButtonBar(),(0,a.jsx)(kn.N,{type:ft.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(kn.N,{type:ft.M2.P,fontSize:o.Z4.Size6,children:this.adFreeViewingText()})]})},n.prototype.renderLoggedOutContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(kn.N,{type:ft.M2.H4,children:this.props.title}),(0,a.jsx)(r.P,{margin:{top:1,bottom:.5},children:(0,a.jsx)(kn.N,{type:ft.M2.H6,bold:!0,children:(0,c.hw)("Sign up now to join in:","PreviewContentOverlay")})}),(0,a.jsx)(sn.S,{display:o.nl.Flex,alignItems:o.k2.Center,children:(0,a.jsxs)(kn.N,{type:ft.M2.Span,fontSize:o.Z4.Size6,children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(Jc.i,{size:20})}),(0,c.hw)("Watch free previews of Subscriber Streams","PreviewContentOverlay")]})}),(0,a.jsx)(sn.S,{display:o.nl.Flex,alignItems:o.k2.Center,children:(0,a.jsxs)(kn.N,{type:ft.M2.Span,fontSize:o.Z4.Size6,children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(Jc.i,{size:20})}),(0,c.hw)("Follow {channelLogin} and never miss a stream",{channelLogin:this.props.channelLogin},"PreviewContentOverlay")]})}),this.renderButtonBar()]})},n.prototype.renderButtonBar=function(){var e=this;return this.props.shouldShowPrimeUpsell?(0,a.jsxs)(r.P,{margin:{y:2,x:0},display:o.nl.Flex,className:"preview-overlay__allow-pointers",children:[this.renderPrimeUpsellButton(),(0,a.jsx)(Fn.$n,{onClick:this.showSubscriptionModal,variant:Fn.VQ.Text,overlay:!0,children:(0,c.hw)("More options","PreviewContentOverlay")})]}):(0,a.jsx)(r.P,{margin:{y:2,x:0},className:"preview-overlay__allow-pointers",children:this.props.isLoggedIn?(0,a.jsx)(Fn.$n,{icon:ep.n,onClick:this.showSubscriptionModal,children:this.props.cta}):(0,a.jsx)(Fn.$n,{onClick:function(){e.props.showLoginModal()},children:(0,c.hw)("Sign up to watch a free preview","PreviewContentOverlay")})})},n.prototype.renderTimer=function(){return(0,ha.a3)(this.props.secondsRemaining,ha.wg.ClockAuto)},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?(0,a.jsxs)(r.P,{"data-test-selector":Wc.PrimeSubscribeErrorPanel,background:o.VS.Overlay,border:!0,borderRadius:xt.Z.Medium,padding:{x:.5},display:o.nl.Flex,children:[(0,a.jsx)(np.m,{height:18,width:18}),(0,a.jsx)(sn.S,{display:o.nl.InlineFlex,alignItems:o.k2.Center,margin:{left:1},children:(0,a.jsx)(kn.N,{type:ft.M2.Span,children:(0,c.hw)("Something went wrong.","PreviewContentOverlay")})}),(0,a.jsx)(Fn.$n,{variant:Fn.VQ.Text,onClick:this.resetPrimeSubscribe,overlay:!0,children:(0,c.hw)("Try again","PreviewContentOverlay")})]}):(0,a.jsx)(Fn.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":Wc.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:tp.N,state:this.props.primeSubscribePending?Fn.w.Loading:Fn.w.Default,children:(0,c.hw)("Subscribe free with Prime","PreviewContentOverlay")})},n}(d.Component);var sp=(0,_.Zz)((0,kt.o1)(),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,j.NM)(n)||(0,j.hd)(n)||""}})),(0,u.Ng)((function(e){return{isLoggedIn:(0,Je.M3)(e)}}),(function(e){return(0,_.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Wd.to)(rp,n)},showSubscriptionCheckout:ip.Z,showLoginModal:function(){return(0,jo.iD)(Lo.W.ChannelUpsellLogin)}},e)})))(op);var lp,dp,up=t(552153),cp=t(440549),pp=t(148014),mp=t.n(pp);!function(e){e[e.Live=0]="Live",e[e.Rerun=1]="Rerun",e[e.Offline=2]="Offline",e[e.Premiere=3]="Premiere",e[e.DVR=4]="DVR"}(dp||(dp={}));var vp=function(e){switch(e){case dp.Live:return(0,a.jsx)(zt.qd,{label:(0,c.hw)("LIVE","StatusOverlay")});case dp.Rerun:return(0,a.jsx)(Ht.L,{children:(0,c.hw)("RERUN","StatusOverlay")});case dp.Offline:return(0,a.jsx)(Ht.L,{children:(0,c.hw)("OFFLINE","StatusOverlay")});case dp.Premiere:return(0,a.jsx)(Ht.L,{children:(0,c.hw)("PREMIERE","StatusOverlay")});default:return null}},fp=function(e){var n,t,i;return null===(i=null===(t=null===(n=e.data)||void 0===n?void 0:n.user)||void 0===t?void 0:t.stream)||void 0===i?void 0:i.type},gp=(lp=(0,Ed.U)({name:"VideoPlayer_StatusOverlay",category:"broadcast"})).Available,hp=lp.Unavailable;var yp,kp=function(e){return e.type===Z.FC.Live?e.channelLogin:null},Sp=(0,_.Zz)((0,x.cj)((function(e){var n=e.content;return{content:n}})),(0,E.dd)((function(e){return{isOffline:e.isOffline,isPremiumContentRestricted:(0,fe.k1)(e,xn.S.PremiumContent)}})),(0,z._v)(mp(),{skip:function(e){return!kp(e.content)},options:function(e){var n;return{variables:{channel:null!==(n=kp(e.content))&&void 0!==n?n:""}}}}))((function(e){if(!e.data||function(e){return!e.data||e.data.loading}(e)||void 0===e.isOffline)return null;if(!1===e.isOffline&&!fp(e))return(0,a.jsx)(hp,{reason:"Cannot determine stream type",children:vp(dp.Live)});var n=e.isOffline?dp.Offline:dp.Live;return n===dp.Live&&(fp(e)===cp.P.Rerun?n=dp.Rerun:fp(e)===cp.P.Premiere&&(n=dp.Premiere)),(0,a.jsx)(gp,{children:vp(n)})}));!function(e){e.BroadcasterStreamingStatus="preview-content-broadcaster-streaming-status",e.FocusHandler="preview-content-top-bar-focus-handler",e.TopRightTimerTextTransition="preview-content-top-right-bar-timer-transition",e.TopRightTimerText="preview-content-top-right-bar-timer-copy",e.TopRightTimerTime="preview-content-top-right-bar-timer-time",e.ToggleStatus="preview-content-top-bar-icon",e.PrimeUpsellButton="preview-content-top-bar-prime-upsell-button"}(yp||(yp={}));var _p=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePrimeSubscribe=function(e){e.stopPropagation(),n.props.handlePrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isLoggedIn,t=e.expanded,s=e.secondsRemaining,l=e.toggleCollapse,d=s<=0,u=n&&!d,c=n,p=n&&!d&&!t,m={display:o.nl.Flex,alignItems:o.k2.Center,fullHeight:!0},v=(0,a.jsx)(sn.S,(0,i.__assign)({},m,{children:(0,a.jsx)(Pt.e,{show:u,type:Et.ES.TranslateTop,duration:Et.Cf.Medium,"data-test-selector":yp.ToggleStatus,children:t?(0,a.jsx)(up.N,{}):(0,a.jsx)(Nr.W1,{})})})),f=(0,a.jsx)(kn.N,{fontSize:o.Z4.Size4,ellipsis:!0,"data-test-selector":yp.BroadcasterStreamingStatus,children:this.props.title}),g=this.props.shouldShowPrimeUpsell?this.renderPrimeUpsellButton():this.renderPreviewTimeRemainingText(),h=(0,a.jsx)(sn.S,(0,i.__assign)({},m,{margin:{x:1},children:(0,a.jsx)(Pt.e,{show:p,type:Et.ES.Fade,duration:Et.Cf.Medium,"data-test-selector":yp.TopRightTimerTime,children:(0,a.jsxs)(kn.N,{type:ft.M2.Strong,fontSize:o.Z4.Size4,children:["",(0,ha.a3)(s,ha.wg.ClockAuto)]})})})),y=(0,a.jsx)(r.P,{children:(0,a.jsxs)(r.P,(0,i.__assign)({},m,{justifyContent:o.A9.Between,padding:2,fullWidth:!0,children:[v,(0,a.jsx)(r.P,(0,i.__assign)({},m,{flexGrow:1,flexShrink:1,overflow:o.nE.Hidden,margin:{x:1},children:c&&f})),(0,a.jsx)(r.P,(0,i.__assign)({},m,{children:(0,a.jsx)(sn.S,(0,i.__assign)({},m,{justifyContent:o.A9.End,children:(0,a.jsx)(Pt.e,{show:p,type:Et.ES.Fade,duration:Et.Cf.Short,"data-test-selector":yp.TopRightTimerTextTransition,children:g})}))})),h,(0,a.jsx)(Sp,{})]}))});return d||(y=(0,a.jsx)(r.P,{className:"preview-top-bar__allow-pointers","data-test-selector":yp.FocusHandler,children:(0,a.jsx)(ga.tD,{variant:ga.hJ.Alpha,onClick:l,children:y})})),y},n.prototype.renderPreviewTimeRemainingText=function(){return(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,ellipsis:!0,"data-test-selector":yp.TopRightTimerText,children:(0,c.hw)("Your free preview ends in","PreviewContentOverlay")})},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?null:(0,a.jsx)(Fn.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":yp.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:tp.N,state:this.props.primeSubscribePending?Fn.w.Loading:Fn.w.Default,children:(0,c.hw)("Subscribe free","PreviewContentOverlay")})},n}(d.Component);var Cp,bp=(0,_.Zz)((0,u.Ng)((function(e){return{isLoggedIn:(0,Je.M3)(e)}})))(_p),Pp=t(246506),Ep=t.n(Pp);!function(e){e.Root="preview_content-root",e.FocusHandler="preview_content-focus_handler"}(Cp||(Cp={}));var xp,Ap="logged_out",Np="preview",wp="expired_preview",Ip="collapsed_prime",Tp={Collapsed:"collapsed",Expanded:"expanded",Full:"full"},Dp={Collapsed:Ip,Expanded:"expanded_prime",Full:"full_prime"},Fp={Collapsed:Ip,Expanded:"expanded_prime_error",Full:"full_prime_error"};!function(e){e.Subscribe="subscribe",e.SubscribePrime="subscribe_prime",e.SubscribePrimeTryAgain="subscribe_prime_try_again",e.Login="signup",e.Expand="expand",e.Collapse="collapse"}(xp||(xp={}));var Op=function(e){function n(n){var t=e.call(this,n)||this;t.DEFAULT_PREVIEW_URL="https://static-cdn.jtvnw.net/ttv-static/404_preview-285x160.jpg",t.renderFocusHandler=function(){return t.props.onFocusPlayer&&(0,a.jsx)(sn.S,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,children:(0,a.jsx)("div",{onClick:t.props.onFocusPlayer,"data-test-selector":Cp.FocusHandler})})},t.tick=function(){var e=t.calculateSecondsRemaining();e<=0?t.endCountdown():(t.setState({secondsRemaining:e}),t.tickRef=setTimeout(t.tick,1e3))},t.endCountdown=function(){t.setState({secondsRemaining:0,expanded:!0}),t.shutdownVideo()},t.shutdownVideo=function(){if(20===t.shutdownStep&&(t.props.pause(),t.props.updateContext({forbidden:!0}),t.props.setShowControls(!1),t.shutdownStartVolume=t.props.volume||1),t.shutdownStep<=0||isNaN(t.shutdownStep))return t.props.setRestrictPlayback(!0),void t.props.setVolume(t.shutdownStartVolume);var e=t.shutdownStartVolume*t.shutdownStep/20;t.props.setVolume(e),--t.shutdownStep,setTimeout(t.shutdownVideo,t.shutdownInterval)},t.toggleCollapse=function(){t.setState((function(e){return{expanded:!e.expanded}}))},t.handlePrimeSubscribe=function(){var e=t.user();e&&e.id&&t.props.currentUser&&t.props.currentUser.id&&(t.setState({primeSubPending:!0}),t.props.spendPrimeCredit((0,V.AR)({broadcasterID:e.id,userID:t.props.currentUser.id})).then((function(e){e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error&&t.failPrimeSubscribe()})).catch((function(){return t.failPrimeSubscribe()})))},t.resetPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!1})},t.failPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!0,expanded:!0})},t.spadeEventBaseData=function(e){var n=Ap;t.props.isLoggedIn&&(n=t.state.secondsRemaining>0?Np:wp);var i=Tp;t.shouldShowPrimeUpsell()&&(i=t.state.primeSubFailed?Fp:Dp);var a=t.state.expanded?i.Expanded:i.Collapsed;return t.state.secondsRemaining<=0&&(a=i.Full),{channel:t.props.channelLogin||null,banner_state:a,viewer_status:n,action:e}},t.user=function(){return t.props.data&&t.props.data.user};var i=t.calculateSecondsRemaining();return i>0&&t.props.setRestrictPlayback(!1),t.state={secondsRemaining:i,neverPreview:i<=0,expanded:!1,primeSubPending:!1,primeSubFailed:!1},t.shutdownStep=20,t.shutdownInterval=Math.floor(100),t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.tick()},n.prototype.componentWillUnmount=function(){clearInterval(this.tickRef)},n.prototype.render=function(){var e=this.state,n=e.expanded,t=e.secondsRemaining,s=this.props,l=s.active,d=s.mini,u=t<=0;if(d&&!u)return null;if(d)return(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency0,children:(0,a.jsx)(kn.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:ft.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Your free preview has expired","ContentOverlayGate")})});var p=this.title(),m=this.description(),v=this.cta(),f=this.restrictionTier();if(!p||!m||!v)return null;var g={secondsRemaining:t,expanded:n,title:p,shouldShowPrimeUpsell:this.shouldShowPrimeUpsell(),primeSubscribePending:this.state.primeSubPending,primeSubscribeFailed:this.state.primeSubFailed,handlePrimeSubscribe:this.handlePrimeSubscribe,resetPrimeSubscribe:this.resetPrimeSubscribe};return(0,a.jsx)(Pt.e,{show:n||!!l,transitionInitialMount:!0,type:Et.ES.Fade,duration:Et.Cf.Long,"data-test-selector":Cp.Root,children:(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachBottom:u,attachRight:!0,attachLeft:!0,overflow:o.nE.Hidden,display:o.nl.Flex,flexDirection:o.bo.Column,color:o.Q1.Overlay,className:"preview-overlay",children:[this.renderFocusHandler(),(0,a.jsx)(bp,(0,i.__assign)({toggleCollapse:this.toggleCollapse},g)),(0,a.jsx)(r.P,{position:o.yX.Relative,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:u?o.k2.Center:o.k2.Start,flexGrow:1,overflow:u?o.nE.Visible:o.nE.Hidden,children:(0,a.jsx)(sp,(0,i.__assign)({previewUrl:this.getPreviewUrl(),spadeEventBaseData:this.spadeEventBaseData,description:m,cta:v,minTier:f,exemptionProductName:this.restrictionExemptionProductName()},g))})]})})},n.prototype.calculateSecondsRemaining=function(){if(this.props.accessExpiration&&this.props.isLoggedIn){var e=Date.now(),n=Math.trunc((1e3*this.props.accessExpiration-e)/1e3);if(!isNaN(n)&&n>0)return n}return 0},n.prototype.getPreviewUrl=function(){var e=this.user();return e&&e.stream&&e.stream.previewImageURL||""},n.prototype.hasTierRestriction=function(){return this.isRestrictedForTier2()||this.isRestrictedForTier3()},n.prototype.isRestrictedForTier2=function(){return this.props.restrictionOptions.includes($e.y6l.ALLOW_TIER_2_AND_3_ONLY)},n.prototype.isRestrictedForTier3=function(){return this.props.restrictionOptions.includes($e.y6l.ALLOW_TIER_3_ONLY)},n.prototype.restrictionTier=function(){return this.isRestrictedForTier3()?3:this.isRestrictedForTier2()?2:1},n.prototype.restrictionExemptionProductName=function(){var e=this.user();if(e&&e.subscriptionProducts){var n=e.subscriptionProducts,t="".concat(this.restrictionTier(),"000"),i=n.find((function(e){return e&&e.tier===t}));if(i)return i.name}return""},n.prototype.title=function(){var e=(0,a.jsx)(kn.N,{type:ft.M2.Strong,children:this.props.channelLoginDisplay});return this.hasTierRestriction()?(0,c.hw)("{channelLogin} is streaming for Tier {tier} subscribers.",{channelLogin:e,tier:this.restrictionTier()},"PreviewContentOverlay"):(0,c.hw)("{channelLogin} is streaming for subscribers",{channelLogin:e},"PreviewContentOverlay")},n.prototype.description=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()?(0,c.hw)("Subscribe Tier {tier} to watch and support {channelLogin}",{tier:this.restrictionTier(),channelLogin:e},"PreviewContentOverlay"):(0,c.hw)("Subscribe to watch and support {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.cta=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()&&this.isSubscribed()?(0,c.hw)("Upgrade your Subscription","PreviewContentOverlay"):(0,c.hw)("Subscribe to {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.isSubscribed=function(){var e=this.user();return!!(e&&e.self&&e.self.subscriptionBenefit&&e.self.subscriptionBenefit.id)},n.prototype.isPrimeSubscribable=function(){var e=this.user();return!!(e&&e.self&&e.self.canPrimeSubscribe)},n.prototype.shouldShowPrimeUpsell=function(){var e=this.user();return!!(e&&e.id&&this.props.currentUser&&this.props.currentUser.id)&&this.isPrimeSubscribable()&&this.restrictionTier()<2},n}(d.Component);var Rp=(0,_.Zz)((0,kt.o1)(),(0,E.dd)((function(e){var n=e.accessExpiration,t=e.volume,i=e.updateContext;return{accessExpiration:n,volume:t,updateContext:i}})),(0,x.cj)((function(e){var n=(0,j.hd)(e.content),t=!!(0,T.wk)({playerPublicPropsContext:e}).mini,i=(0,j.lI)(e.content);return{channelLogin:n,channelLoginDisplay:i&&i.parentChannelLogin||n,mini:t,onFocusPlayer:(0,T.zB)({playerPublicPropsContext:e}).onFocusPlayer}})),(0,A.AP)((function(e){var n=e.pause,t=e.setVolume;return{pause:n,setVolume:t}})),(0,pe.c0)((function(e){var n=e.setShowControls;return{setShowControls:n}})),(0,yt.In)((function(e){var n=e.active;return{active:n}})),(0,u.Ng)((function(e){return{isLoggedIn:(0,Je.M3)(e),currentUser:(0,Je.wz)(e)}})),(0,z._v)(Ep(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,z._v)($c(),{name:"spendPrimeCredit"}))(Op);var Vp=t(720799),Mp=t.n(Vp),Lp=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),jp=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={restrictPlayback:!0},n.renderContentRestrictedOverlay=function(){return(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.Lock},text:(0,c.hw)("Content Restricted","PremiumContentOverlay")})},n.setRestrictPlayback=function(e){n.setState({restrictPlayback:e})},n.showSubscriptionModal=function(){var e=n.props.parentChannelLogin||n.props.liveChannelLogin||"";n.props.showSubscriptionModal({channelLogin:e,subLocation:Yc.U2.PremiumContentOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e?(0,a.jsx)(bn,{skip:!this.state.restrictPlayback,restriction:xn.S.PremiumContent,children:this.renderContent()},e):null},n.prototype.renderContent=function(){var e=this;switch(this.restrictionType(this.props)){case $e.B2H.SUB_ONLY_LIVE:return(0,a.jsx)(Rp,{restrictionOptions:this.restrictionOptions(this.props),setRestrictPlayback:this.setRestrictPlayback},this.props.channelLogin);case $e.B2H.ORGANIZATION_ACCESS_ONLY:return this.renderContentRestrictedOverlay();case $e.B2H.ALL_ACCESS_PASS:case $e.B2H.UNKNOWN:return(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.Ticket},text:(0,c.hw)("Watch with All-Access Pass","PremiumContentOverlay"),children:function(n){return(0,a.jsx)(Fn.$n,{onClick:e.showSubscriptionModal,size:n?Fn.Mp.Small:Fn.Mp.Default,children:(0,c.hw)("Get the All-Access Pass","PremiumContentOverlay")})}});default:return this.props.data&&this.props.data.loading?null:this.renderContentRestrictedOverlay()}},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.type},n.prototype.restrictionOptions=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.options||[]},n}(d.Component);var Bp=(0,z._v)(Mp(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}}),Up=(0,_.Zz)(En("PremiumContentOverlay",xn.S.PremiumContent),(0,u.Ng)(null,(function(e){return(0,_.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Wd.to)(Lp,n)}},e)})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,j.hd)(n),liveChannelLogin:(0,j.jp)(n),parentChannelLogin:(0,j.NM)(n)}})),Bp)(jp);var qp=t(237103),Gp=t(505074),zp=t(471872),Hp=t(833246),Wp=t(686751),Kp=t(232290),Zp="AdBlock",Qp="Turbo",Yp="Support",Xp=(0,_.Zz)((0,ce.VX)(),(0,Kp.A)())((function(e){var n,t=e.trackAdFormatData,i=d.useContext(x.kl),s=(0,j.hd)(i.content),l=(0,Te.If)(),u=(0,d.useRef)(!1),p=(0,d.useRef)(null),m=d.useContext(ce.jK),v=m.updateLastSDAAdRequestBlocked,f=m.updateSDAHiddenState,g=m.isSDAContainerHidden,h=m.lastSDAAdRequestBlocked,y=d.useCallback((function(){switch(!0){case h&&!g:return"2";case g&&!h:return"3";default:return"0"}}),[g,h]),k=(0,zp.r)("nabe_experiment");switch((0,we.S)((function(){var e=setTimeout((function(){u.current||t("nab_impression",{nab_value:y(),client_country_code:l})}),100);return function(){return clearTimeout(e)}})),d.useLayoutEffect((function(){var e=p.current,n=!1;if(e){var i=e.offsetHeight,a=e.offsetWidth,r=e.offsetLeft,o=e.offsetTop,s=e.clientHeight,d=e.clientWidth;n=0===i&&0===a&&0===r&&0===o&&0===s&&0===d}e&&!n||(u.current=!0,t("nab_detection",{nab_value:"4",client_country_code:l}))}),[]),k){case"support_1":case"support_2":case"support_4":n=Yp;break;case"turbo_1":case"turbo_2":case"turbo_4":n=Qp;break;case"help_2":case"help_4":n=Zp;break;default:return null}var S,_=(0,c.hw)("this channel","SDANudgeOverlay"),C=(0,c.hw)("Support {channelName} by disabling ad block",{channelName:null!=s?s:_},"SDANudgeOverlay"),b=(0,c.hw)("Streamers make money when viewers watch ads or purchase Twitch Turbo to go ad-free","SDANudgeOverlay"),P=(0,c.hw)("Wait you're running ad block?","SDANudgeOverlay"),E=(0,c.hw)("Support {channelName}'s earnings by turning off ad block.",{channelName:null!=s?s:_},"SDANudgeOverlay"),A=(0,c.hw)("Running ad block? Consider Turbo.","SDANudgeOverlay"),N=(0,c.hw)("Twitch Turbo enables ad-free viewing while still supporting streamers.","SDANudgeOverlay"),w={name:"allow",text:(0,c.hw)("Allow Twitch Ads","SDANudgeOverlay"),link:"https://help.twitch.tv/s/article/how-to-allow-ads-browser"},I={name:"turbo",text:(0,c.hw)("Try Turbo","SDANudgeOverlay"),link:"https://www.twitch.tv/turbo"},T={name:"return",text:(0,c.hw)("Return to stream","SDANudgeOverlay"),link:""};if(n===Zp)S={title:P,description:E,leftCta:T,rightCta:w,icon:{id:"58765",token:"notlikethis"}};else if(n===Qp)S={title:A,description:N,leftCta:T,rightCta:I};else{if(n!==Yp)return null;S={title:C,description:b,leftCta:w,rightCta:I}}var D=function(e){t("nab_click",{nab_value:y(),nab_cta:e,client_country_code:l}),v(!1),f(!1)};return(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency3,children:(0,a.jsxs)(r.P,{ref:function(e){p.current=e},position:o.yX.Relative,maxWidth:"60rem",children:[n===Yp&&(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{left:1},justifyContent:"flex-end",children:(0,a.jsx)(qp.G,{"aria-label":T.text,onClick:function(){D(T.name)},size:"default",variant:"primary"})}),(0,a.jsxs)(r.P,{display:o.nl.Flex,children:[(0,a.jsx)(kn.N,{fontSize:o.Z4.Size2,color:o.Q1.Overlay,fontWeight:o.IT.SemiBold,children:S.title}),!!S.icon&&(0,a.jsx)(r.P,{height:"54px",width:"54px",display:"flex",alignItems:"center",justifyContent:"center",padding:{left:1},children:(0,a.jsx)(sn.S,{maxHeight:"100%",children:(0,a.jsx)(Hp.B,{emote:S.icon,size:Wp.G.MEDIUM})})})]}),(0,a.jsx)(kn.N,{fontSize:o.Z4.Size3,color:o.Q1.Overlay,style:{paddingTop:"0.5rem"},children:S.description}),(0,a.jsxs)(r.P,{display:o.nl.Flex,position:o.yX.Absolute,attachRight:!0,padding:{top:2},children:[(0,a.jsx)(Gc.M2,{variant:Gc.sK.Secondary,size:Gc.dN.Default,"aria-label":S.leftCta.text,linkTo:S.leftCta.link,targetBlank:!0,onClick:function(){D(S.leftCta.name)},overlay:!0,children:(0,a.jsx)(Gp._,{children:S.leftCta.text})}),(0,a.jsx)(r.P,{padding:{left:1},children:(0,a.jsx)(Gc.M2,{variant:Gc.sK.Primary,size:Gc.dN.Default,"aria-label":S.rightCta.text,linkTo:S.rightCta.link,targetBlank:!0,onClick:function(){D(S.rightCta.name)},overlay:!0,children:(0,a.jsx)(Gp._,{children:S.rightCta.text})})})]})]})})})),$p=t(352046),Jp=t.n($p),em=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),nm=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.refreshPage=function(){window.location.reload()},n.showSubscriptionModal=function(){var e=n.videoOwner(n.props);e&&e.login&&n.props.showSubscriptionModal({channelLogin:e.login,subLocation:Yc.U2.SubscriberVODOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return!this.props.data||this.props.data.loading?(0,a.jsx)(is.p8,{}):(0,a.jsx)(bn,{restriction:xn.S.SubscriberVOD,children:this.renderContent()})},n.prototype.renderContent=function(){var e=this,n=this.videoOwner(this.props);return n&&n.displayName&&n.profileImageURL&&n.login?(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Avatar,src:n.profileImageURL,alt:n.displayName,login:n.login},text:(0,c.hw)("This video is only available to subscribers. Sub now to watch and support {displayName}.",{displayName:n.displayName},"SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(Fn.$n,{onClick:e.showSubscriptionModal,size:n?Fn.Mp.Small:Fn.Mp.Default,children:(0,c.hw)("Subscribe","SubscriberVODOverlay")})}}):(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Empty},text:(0,c.hw)("This exclusive subscriber content didn't load properly. Please refresh and try again.","SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(Fn.$n,{onClick:e.refreshPage,size:n?Fn.Mp.Small:Fn.Mp.Default,children:(0,c.hw)("Refresh","SubscriberVODOverlay")})}})},n.prototype.videoOwner=function(e){return!!e.data&&!!e.data.video&&e.data.video.owner},n}(d.Component);var tm=(0,z._v)(Jp(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),im=(0,_.Zz)(En("SubscriberVODOverlay",xn.S.SubscriberVOD),(0,u.Ng)(null,(function(e){return(0,_.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Wd.to)(em,n)}},e)})),(0,x.cj)((function(e){var n=e.content;return{vodID:(0,j.hq)(n)}})),tm)(nm);var am=function(e){var n=e.playerContext;if((0,fe.k1)(n,xn.S.AccountRestricted))return!1;var t=(0,fe.k1)(n,xn.S.PremiumContent),i=null!=n.accessExpiration;return t||i},rm=function(e){var n=e.playerContext,t=(0,T.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,fe.k1)({restrictions:n.restrictions})||i===me.Ie.Hidden)},om=t(177123),sm=t(176472),lm=t.n(sm),dm=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMouseOver=function(){n.timeout=setTimeout(n.props.showCollectionSidebar,250)},n.onMouseOut=function(){clearTimeout(n.timeout)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=this.props,t=n.data,i=n.isCollectionContent,r=n.isCollectionSidebarShowing,s=n.vodID,l=t&&t.collection;if(!i||!l||r)return null;var d=l&&l.title,u=l.items.totalCount,p=l.items&&l.items.edges&&l.items.edges.map((function(e){return e&&e.node})).filter((function(e){return null!==e})),m=null!=s?s:null===(e=p[0])||void 0===e?void 0:e.id,v=1+p.findIndex((function(e){return!!e&&e.id===m}));return(0,a.jsxs)(At.M,{className:"collection-top-bar",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut,children:[(0,a.jsxs)(kn.N,{className:"collection-top-bar-text",fontSize:o.Z4.Size4,type:ft.M2.Span,children:[(0,a.jsx)(kn.N,{className:"collection-top-bar-icon",type:ft.M2.Span,children:(0,a.jsx)(om.T,{})}),"",d]}),(0,a.jsxs)(kn.N,{className:"collection-top-bar-text",fontSize:o.Z4.Size5,type:ft.M2.Span,children:["",(0,c.hw)("{totalVideos, plural, one {{currentPosition}/# video} other {{currentPosition}/# videos}}",{currentPosition:v,totalVideos:u},"CollectionTopBar")]})]})},n}(d.Component),um=(0,_.Zz)((0,x.cj)((function(e){var n=e.content;return{collectionID:(0,j.Eq)(n),isCollectionContent:(0,j.P3)(n),vodID:(0,j.hq)(n)}})),(0,pe.c0)((function(e){var n=e.isCollectionSidebarShowing,t=e.showCollectionSidebar;return{isCollectionSidebarShowing:n,showCollectionSidebar:t}})),(0,z._v)(lm(),{skip:function(e){return!e.isCollectionContent||!e.collectionID},options:function(e){return{variables:{collectionID:e.isCollectionContent&&e.collectionID?e.collectionID:""}}}}))(dm);var cm,pm=function(){return(0,c.hw)("Close this stream","StreamCloseButton")},mm=function(){var e=(0,d.useContext)(x.kl),n=(0,j.hd)(e.content),t=(0,T.wk)({playerPublicPropsContext:e}).enableRemoveStream,i=(0,T.zB)({playerPublicPropsContext:e}).removeStream,r=(0,d.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,d.useMemo)((function(){return i&&t?(0,a.jsx)(ln.a2,{"aria-label":pm(),overlay:!0,icon:dn.g,onClick:r}):null}),[t,r,i])},vm=t(955413),fm=function(){var e=(0,d.useContext)(x.kl),n=(0,j.hd)(e.content),t=(0,T.wk)({playerPublicPropsContext:e}).showGlyphInOverlay,i=(0,T.zB)({playerPublicPropsContext:e}).removeStream,s=(0,d.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,d.useMemo)((function(){if(!t)return null;var e=(0,a.jsx)(vm.f,{fillColor:"brand",height:30,width:28});return i?(0,a.jsx)(At.M,{"aria-label":pm(),onClick:s,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,gap:.5,color:o.Q1.Overlay,children:[(0,a.jsx)(up.N,{fillColor:"inherit"}),e]})}):e}),[s,i,t])},gm=t(979205),hm=t(947322),ym=t(360432),km=t(290033),Sm=t(440627),_m=function(e){return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)(r.P,{display:o.nl.Flex,children:e.tags.map((function(n){return(0,a.jsx)(r.P,{padding:{right:.5},children:(0,a.jsx)(Sm.vw,{linkTo:(0,bs.V)({content:"tag",medium:"embed"},(t=n.id,"https://www.twitch.tv/directory/all/tags/".concat(t))),label:n.localizedName,targetBlank:e.openLinksExternally,onClick:e.onClick})},n.id);var t}))})})};!function(e){e.Description="stream-info-card-component__description",e.StreamAvatar="stream-info-card-component__stream-avatar",e.StreamAvatarLink="stream-info-card-component__stream-avatar-link",e.Subtitle="stream-info-card-component__subtitle",e.Title="stream-info-card-component__title",e.TitleLink="stream-info-card-component__title-link"}(cm||(cm={}));var Cm=(0,_.Zz)((0,A.AP)((function(e){var n=e.pause;return{pause:n}})))((function(e){var n=null,t=function(){var n;e.openLinksExternally&&e.pause(),null===(n=e.onLinkClick)||void 0===n||n.call(e)};e.title&&(e.titleTo&&(n=(0,a.jsx)(fa.Cb,{linkTo:(0,bs.V)({content:"channel_name",medium:e.isEmbedded?"embed":void 0},e.titleTo),variant:fa.KD.Overlay,"data-test-selector":cm.TitleLink,targetBlank:e.openLinksExternally,onClick:t,underline:!1,children:e.title})),n=(0,a.jsx)(kn.N,{bold:!0,fontSize:o.Z4.Size4,"data-a-target":"player-info-title","data-test-selector":cm.Title,color:o.Q1.Overlay,children:n||e.title}));var i=null;return e.imageURL&&(i=(0,a.jsx)(hm.e,{src:e.imageURL,size:64,alt:(0,c.hw)("Stream Avatar","StreamInfoOverlay"),"data-a-target":"player-info-avatar","data-test-selector":cm.StreamAvatar,userLogin:e.login||""})),e.imageTo&&(i=(0,a.jsx)(fa.Cb,{targetBlank:e.openLinksExternally,variant:fa.KD.Overlay,linkTo:e.imageTo||void 0,onClick:t,"data-test-selector":cm.StreamAvatarLink,underline:!1,children:i})),(0,a.jsx)(ym.Z,{row:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,className:"stream-info-card",children:[(0,a.jsx)(r.P,{className:"stream-info-card__image",children:i}),e.title||e.subtitle||e.description||e.tags?(0,a.jsx)(km.b,{children:(0,a.jsxs)(r.P,{className:"stream-info-card__body",padding:{left:i?1:0},display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Start,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,gap:.5,children:[n,e.guestStarContent]}),e.subtitle&&(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,color:o.Q1.Overlay,"data-test-selector":cm.Subtitle,children:e.subtitle}),e.description&&(0,a.jsx)(kn.N,{fontSize:o.Z4.Size5,color:o.Q1.Overlay,"data-test-selector":cm.Description,children:e.description}),e.tags&&(0,a.jsx)(_m,{tags:e.tags,openLinksExternally:e.openLinksExternally,onClick:e.onLinkClick})]})}):null]})})}));var bm=t(665239),Pm=t(134117),Em=v.x.wrap((function(){return Promise.all([t.e(59147),t.e(55152),t.e(98922),t.e(64498),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),xm=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openTwitchPage=function(){window.open((0,j.L$)(n.props.content,{tt_content:"embed_social_panel",tt_medium:"embed"},n.props.mediaPlayerInstance),"_blank")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(void 0===this.props.type)return null;var e=this.props.login||null;return(0,a.jsx)(r.P,{className:"stream-info-social-panel","data-a-target":"player-stream-info-social-panel",display:o.nl.InlineBlock,padding:.5,margin:this.props.margin,background:o.VS.Overlay,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,children:[this.props.profileImageUrl&&(0,a.jsx)(hm.e,{src:this.props.profileImageUrl,alt:this.props.displayName||"",userLogin:this.props.login||"",size:30}),(0,a.jsx)(r.P,{margin:{left:.5},children:e&&this.renderFirstButton(e)}),(0,a.jsx)(r.P,{margin:{left:.5},children:(0,a.jsx)(Em,{channelLogin:e,subLocation:this.props.subLocation,subscribedButtonType:Fn.VQ.Primary,unsubscribedButtonType:Fn.VQ.Primary,hideDropdownArrow:!0,forceIcon:!0,useSubsLandingPage:this.props.isEmbedded})})]})})},n.prototype.renderFirstButton=function(e){var n=(0,c.hw)("Watch on Twitch","VideoPlayerStreamInfoSocalPanel");return this.props.type===me._w.FollowAndSub||this.props.type===me._w.FollowAndSubVerbose?(0,a.jsx)(bm.W,{hideDropdownWhenFollowing:!0,channelLogin:e,followUIType:Pm.y.IconAndText,unfollowUIType:Pm.y.IconOnly,showLoadingPlaceholder:!0,fullWidthButton:!0,showTooltips:!0}):this.props.type===me._w.WatchAndSub?(0,a.jsx)(Fn.$n,{onClick:this.openTwitchPage,targetBlank:!0,variant:Fn.VQ.Primary,children:n}):void 0},n}(d.Component);var Am=(0,_.Zz)((0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,x.cj)((function(e){return{content:e.content}})))(xm),Nm=t(747066),wm=t.n(Nm),Im=t(220039),Tm=t.n(Im),Dm=t(35836),Fm=t.n(Dm),Om=t(520719),Rm=t(329399);function Vm(e){var n=e.gameDisplayName,t=e.gameName,i=e.gameSlug,r=e.viewerCount,o=e.openLinksExternally,s=e.onLinkClick,l=n||t,d=function(e){return(0,a.jsx)(fa.Cb,{"data-a-target":"player-info-game-name",variant:fa.KD.Overlay,linkTo:(0,bs.V)({content:"game_name",medium:"embed"},(n=i,t=!o,"".concat(t?"":"https://www.twitch.tv").concat((0,Mo._4)({slug:n})))),targetBlank:o,onClick:s,underline:!1,children:e});var n,t};return l&&"number"==typeof r?(0,c.hw)("{viewerCount, plural,       one {Playing <x:link>{game}</x:link> for # viewer}       other {Playing <x:link>{game}</x:link> for # viewers}}",{game:l,viewerCount:r,"x:link":d},"StreamInfoOverlay"):l?(0,c.hw)("Playing <x:link>{game}</x:link>",{game:l,"x:link":d},"StreamInfoOverlay"):"number"==typeof r?(0,c.hw)("{viewerCount, plural,       one {Streaming for # viewer}       other {Streaming for # viewers}}",{viewerCount:r},"StreamInfoOverlay"):null}function Mm(e){var n=e.displayName,t=e.game,i=e.login,o=e.openLinksExternally,s=e.isEmbedded,l=e.isPartner;if(!i||!n)return null;var d=l?(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Om.l,{size:12,"aria-label":(0,c.hw)("Verified Partner","ClipInfoOverlay"),fillColor:"brand"})})]}):n;return t?(0,c.hw)("<x:login-link>{displayName}</x:login-link> playing <x:game-link>{game}</x:game-link>",{game:t.displayName||t.name,displayName:d,"x:login-link":function(e){return(0,a.jsx)(fa.Cb,{variant:fa.KD.Overlay,linkTo:jm(i,s),targetBlank:o,children:e})},"x:game-link":function(e){return(0,a.jsx)(fa.Cb,{variant:fa.KD.Overlay,linkTo:Bm(t,s),targetBlank:o,children:e})}},"StreamInfoOverlay"):(0,a.jsx)(fa.Cb,{variant:fa.KD.Overlay,linkTo:jm(i,s),targetBlank:o,underline:!1,children:d})}function Lm(e){return null===e?null:(0,c.hw)("{viewCount} views",{viewCount:(0,c.ZV)(e)},"StreamInfoOverlay")}function jm(e,n){var t=n?"embed":"clips_web",i=Ie.stringify({tt_content:"player_channel_name",tt_medium:t});return"https://www.twitch.tv/".concat(e,"/clips?").concat(i)}function Bm(e,n){var t=n?"embed":"clips_web",i=Ie.stringify({tt_content:"player_game",tt_medium:t});return"https://www.twitch.tv".concat((0,Mo._4)(e,{section:"clips"}),"?").concat(i)}function Um(e,n){var t=n?"embed":"clips_web",i=Ie.stringify({tt_content:"player_title",tt_medium:t});return"https://clips.twitch.tv/".concat(e,"?").concat(i)}var qm,Gm=v.x.wrap((function(){return Promise.all([t.e(14399),t.e(75373),t.e(89357)]).then(t.bind(t,192090))}),"GuestStarRTJChannelContent",{placeholder:null});!function(e){e.StreamInfoSocialPanelUpper="stream-info-social-panel__upper",e.StreamInfoSocialPanelLower="stream-info-social-panel__lower"}(qm||(qm={}));var zm=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateUIContext()},n.prototype.componentDidUpdate=function(){this.updateUIContext()},n.prototype.componentWillUnmount=function(){this.updateUIContext(!1)},n.prototype.render=function(){var e,n,t,o,s,l;if(!Wm(this.props)||!Km(this.props))return null;var d=this.props,u=d.content,p=d.theatreModeEnabled,m=d.disableStreamInfoChannelLinks,v=d.disableStreamInfoDescription,f=d.disableStreamInfoImage,g=d.disableStreamInfoSubtitle,h=d.disableStreamInfoTags,y=d.disableStreamInfoTitle,k=d.openLinksExternally,S=d.isEmbedded,_=d.socialPanelType,C=d.channelData,b=d.clipData,P=d.vodData,E=d.isFullscreen,x=d.exitFullscreen,A=d.onChannelWatch,N=!k&&E?x:void 0,w=(0,j.lI)(u),I=null,T={};C?(T=function(e,n){var t,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,C,b,P,E;void 0===n&&(n={});var x=n.multiviewProps,A=n.openLinksExternally,N=n.onLinkClick,w=null===(s=null===(o=null===(t=e.user)||void 0===t?void 0:t.broadcastSettings)||void 0===o?void 0:o.game)||void 0===s?void 0:s.displayName,I=null===(u=null===(d=null===(l=e.user)||void 0===l?void 0:l.broadcastSettings)||void 0===d?void 0:d.game)||void 0===u?void 0:u.name,T=null===(v=null===(m=null===(p=e.user)||void 0===p?void 0:p.broadcastSettings)||void 0===m?void 0:m.game)||void 0===v?void 0:v.slug,D=null===(g=null===(f=e.user)||void 0===f?void 0:f.stream)||void 0===g?void 0:g.viewersCount,F=null===(y=null===(h=e.user)||void 0===h?void 0:h.broadcastSettings)||void 0===y?void 0:y.title,O=x&&x.titleOverride||(null===(k=e.user)||void 0===k?void 0:k.displayName),R=null!==(_=null===(S=e.user)||void 0===S?void 0:S.profileURL)&&void 0!==_?_:void 0;!(null===(C=e.user)||void 0===C?void 0:C.login)||R&&A||(R={pathname:(0,za.VV)("/".concat(e.user.login)),state:(0,i.__assign)((0,i.__assign)({},c.x2.router.state.location.state),{channelView:n.onChannelWatch&&(n.theatreModeEnabled||n.isFullscreen)?Rm.n.Home:Rm.n.None})});var V=x&&x.logoOverride||(null===(b=e.user)||void 0===b?void 0:b.profileImageURL),M=e.user&&e.user.stream&&e.user.stream.tags;return{description:Vm({gameDisplayName:w,gameName:I,gameSlug:T,viewerCount:D,openLinksExternally:A,onLinkClick:N}),subtitle:F,title:(0,a.jsxs)(a.Fragment,{children:[O,!!(null===(E=null===(P=e.user)||void 0===P?void 0:P.roles)||void 0===E?void 0:E.isPartner)&&(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Om.l,{size:16,"aria-label":(0,c.hw)("Verified Partner","StreamInfoOverlay"),fillColor:"brand"})})]}),titleTo:R,imageURL:V,imageTo:R,tags:M}}(C,{multiviewProps:w,openLinksExternally:k,theatreModeEnabled:p,onChannelWatch:A,isFullscreen:E,onLinkClick:N}),I=(null==C?void 0:C.user)||null):b?(T=function(e,n){var t,i,a,r,o,s;void 0===n&&(n={});var l=n.openLinksExternally,d=n.isEmbedded,u=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.displayName,c=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login,p=e.clip&&e.clip.slug,m=e.clip&&e.clip.title,v=e.clip&&e.clip.viewCount,f=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileURL,g=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileImageURL;return{subtitle:Mm({displayName:u,game:null!==(i=null===(t=e.clip)||void 0===t?void 0:t.game)&&void 0!==i?i:null,login:c,openLinksExternally:l,isEmbedded:d,isPartner:null!==(s=null===(o=null===(r=null===(a=e.clip)||void 0===a?void 0:a.broadcaster)||void 0===r?void 0:r.roles)||void 0===o?void 0:o.isPartner)&&void 0!==s?s:void 0}),title:m,titleTo:p&&Um(p,d),description:Lm(v),imageURL:g,imageTo:f}}(b,{openLinksExternally:k,isEmbedded:S}),I=(null===(e=null==b?void 0:b.clip)||void 0===e?void 0:e.broadcaster)||null):P&&(T=function(e,n){var t,i,o;void 0===n&&(n={});var s,l,d=e&&e.video&&e.video.owner&&e.video.owner.displayName,u=e&&e.video&&e.video.owner&&e.video.owner.profileImageURL,p=e&&e.video&&e.video.contentTags,m=e&&e.video&&e.video.title,v=e&&e.video&&e.video.id,f=v&&(s=v,l=!n.openLinksExternally,"".concat(l?"":"https://www.twitch.tv","/videos/").concat(s));return{subtitle:m,title:(0,a.jsxs)(a.Fragment,{children:[d,!!(null===(o=null===(i=null===(t=e.video)||void 0===t?void 0:t.owner)||void 0===i?void 0:i.roles)||void 0===o?void 0:o.isPartner)&&(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Om.l,{size:16,"aria-label":(0,c.hw)("Verified Partner","VodInfoOverlay"),fillColor:"brand"})})]}),titleTo:f,imageURL:u,imageTo:f,tags:p}}(P,{openLinksExternally:k}),I=(null===(n=null==P?void 0:P.video)||void 0===n?void 0:n.owner)||null);var D=null==I?void 0:I.displayName,F=null==I?void 0:I.profileImageURL,O=null==I?void 0:I.login,R=!!(0,j.eT)(u),V={type:_,displayName:w&&w.titleOverride||D,profileImageUrl:w&&w.logoOverride||F,login:O,subLocation:R?Yc.U2.SquadPage:Yc.U2.ChannelPage,isEmbedded:S};return(0,a.jsxs)(a.Fragment,{children:[this.props.socialPanelPosition===me.vM.AboveStreamInfo&&(0,a.jsx)(Am,(0,i.__assign)({},V,{"data-test-selector":qm.StreamInfoSocialPanelUpper})),(0,a.jsx)(Cm,{description:v?void 0:T.description,subtitle:g?void 0:T.subtitle,title:y?void 0:T.title,guestStarContent:y?null:(0,a.jsx)(Gm,{channelLogin:null===(o=null===(t=this.props.channelData)||void 0===t?void 0:t.user)||void 0===o?void 0:o.login,channelID:null===(l=null===(s=this.props.channelData)||void 0===s?void 0:s.user)||void 0===l?void 0:l.id,isLive:(0,j.DG)(this.props.content)||!1}),titleTo:y||m?void 0:T.titleTo,imageURL:f?void 0:T.imageURL,imageTo:f||m?void 0:T.imageTo,isEmbedded:S,tags:h?void 0:T.tags,openLinksExternally:k,onLinkClick:N}),this.props.socialPanelPosition===me.vM.BelowStreamInfo&&(0,a.jsx)(Am,(0,i.__assign)({},V,{margin:{top:1},"data-test-selector":qm.StreamInfoSocialPanelLower}))]})},n.prototype.updateUIContext=function(e){if(void 0===e){var n=Wm(this.props)&&Km(this.props);this.props.streamInfoShowing!==n&&this.props.setStreamInfoShowing(n)}else this.props.setStreamInfoShowing(e)},n}(d.Component),Hm=(0,_.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,onChannelWatch:e.ui.onChannelWatch}})),(0,pe.c0)((function(e){var n=e.isFullscreen,t=e.exitFullscreen,i=e.isCollectionSidebarShowing,a=e.streamInfoShowing,r=e.setStreamInfoShowing;return{exitFullscreen:t,isFullscreen:n,streamInfoShowing:a,setStreamInfoShowing:r,isCollectionSidebarShowing:i}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.showChannelInfoOnHover,i=n.disableStreamInfoChannelLinks,a=n.disableStreamInfoDescription,r=n.disableStreamInfoImage,o=n.disableStreamInfoSubtitle,s=n.disableStreamInfoTags,l=n.disableStreamInfoTitle,d=n.includePrivateVODs,u=n.openStreamInfoLinksExternally,c=n.socialPanelType,p=n.socialPanelPosition,m=n.embed;return{content:e.content,showChannelInfoOnHover:t,disableStreamInfoDescription:a,disableStreamInfoImage:r,disableStreamInfoSubtitle:o,disableStreamInfoTags:s,disableStreamInfoTitle:l,disableStreamInfoChannelLinks:i,includePrivateVODs:d,isEmbedded:m,openLinksExternally:u,socialPanelType:c,socialPanelPosition:p}})),(0,z._v)(wm(),{name:"channelData",skip:function(e){return!(0,j.DG)(e.content)||!(0,j.hd)(e.content)||!Wm(e)},options:function(e){return{variables:{channel:(0,j.hd)(e.content)}}}}),(0,z._v)(Tm(),{name:"clipData",skip:function(e){return!(0,j.Qc)(e.content)||!Wm(e)},options:function(e){var n;return{variables:{slug:null!==(n=(0,j.Qc)(e.content))&&void 0!==n?n:""}}}}),(0,z._v)(Fm(),{name:"vodData",skip:function(e){return!(0,j.hq)(e.content)||!Wm(e)},options:function(e){return{variables:{videoID:(0,j.hq)(e.content)}}}}),(0,So.n)((function(e){return{query:wm(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,j.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,Xe.RW)(e.channelData.user.id):"",type:Ma.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?Ra()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}})),(0,So.n)((function(e){return{query:wm(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,j.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,Xe.Fz)(e.channelData.user.id):"",type:Ma.PD.BroadcastSettingsUpdate,mutator:function(e,n){var t,a=(0,gm.v)(e),r=a.gameID,o=a.gameName,s=a.missingGameInfo,l=a.updatingToNullGame;return(null===(t=n.user)||void 0===t?void 0:t.broadcastSettings)&&e&&!s?Ra()(n,(function(e){return e.user.broadcastSettings}),(function(n){var t;return(0,i.__assign)((0,i.__assign)({},n),{title:null!==(t=e.status)&&void 0!==t?t:"",game:l||null===r||null===o?null:{__typename:"Game",id:r,name:o,displayName:o}})})):n}}})))(zm);function Wm(e){return!e.isCollectionSidebarShowing&&(e.showChannelInfoOnHover||e.isFullscreen||e.theatreModeEnabled)}function Km(e){return function(e){var n=e.channelData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.clipData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.vodData;return!(!n||n.error||n.loading)}(e)}var Zm=t(777952),Qm=t(532083),Ym=v.x.wrap((function(){return Promise.all([t.e(59147),t.e(55152),t.e(98922),t.e(64498),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),Xm=function(e){var n=e.channelLogin||null;return e.firstPageLoaded&&e.theatreModeEnabled&&!e.isFullscreen&&!!e.channelLogin&&e.isLiveContent&&!e.hasEnded?(0,a.jsxs)(r.P,{className:"theatre-social-panel",display:o.nl.Flex,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Between,padding:{x:1},children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(bm.W,{channelLogin:n,followUIType:Pm.y.IconAndText,unfollowUIType:Pm.y.IconOnly,hideDropdownWhenFollowing:!0,showTooltips:!0,followContentType:$m(e.contentType,e.isHostingWatchParty)})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(Ym,{channelLogin:n,subLocation:Yc.U2.TheatreMode,subscribedButtonType:Fn.VQ.Primary,unsubscribedButtonType:Fn.VQ.Primary,forceIcon:!0,isLive:e.isLiveContent})})]}):null};function $m(e,n){if(n)return Zm.cM.WatchParty;switch(e){case Z.FC.VOD:return Zm.cM.VOD;case Z.FC.Clip:return Zm.cM.Clip;default:return Zm.cM.Live}}var Jm=(0,_.Zz)((0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:(0,Je.M3)(e),theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,E.dd)((function(e){return{hasEnded:(0,fe.pl)(e)}})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,j.hd)(n),isLiveContent:(0,j.DG)(n),contentType:n.type}})),(0,pe.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=(0,Qm.E)(e.channelLogin||"").isHostingWatchParty;return(0,a.jsx)(Xm,(0,i.__assign)({},e,{isHostingWatchParty:n}))})),ev=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e;return!((e=this.props).disableStatusOverlay||e.recommendationsShowing||e.isAdShowing||e.isOffline)&&(0,a.jsx)(Pt.e,{type:Et.ES.Fade,show:this.props.shouldShow,alwaysRenderChild:!0,children:(0,a.jsxs)(r.P,{attachTop:!0,attachLeft:!0,attachRight:!0,flexGrow:1,className:"top-bar",display:o.nl.Flex,position:o.yX.Absolute,justifyContent:o.A9.Between,children:[(0,a.jsxs)(r.P,{children:[(0,a.jsxs)(r.P,{className:"top-bar--pointer-enabled",children:[(0,a.jsx)(fm,{}),(0,a.jsx)(um,{})]}),(0,a.jsx)(Hm,{})]}),(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,className:"top-bar--pointer-enabled",children:[(0,a.jsx)(Jm,{}),(0,a.jsx)(r.P,{padding:{left:1},children:!this.props.disableStatusIndicator&&(0,a.jsx)(Sp,{})}),(0,a.jsx)(r.P,{padding:{left:1},children:(0,a.jsx)(mm,{})}),(this.props.theatreModeEnabled||!this.props.rightColumnExpanded)&&(0,a.jsx)(r.P,{padding:{right:2}})]})})]})})},n}(d.Component);var nv=(0,_.Zz)((0,Ge.X)({name:"TopBarOverlay"}),(0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,pe.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing}})),(0,x.cj)((function(e){return{disableStatusOverlay:(0,T.wk)({playerPublicPropsContext:e}).disableStatusOverlay,disableStatusIndicator:(0,T.wk)({playerPublicPropsContext:e}).disableStatusIndicator,showGlyphInOverlay:(0,T.wk)({playerPublicPropsContext:e}).showGlyphInOverlay}})),(0,ce.VX)((function(e){return{isAdShowing:(0,et.cz)(e.videoAdMetadata)}})))(ev),tv=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e&&this.shouldShow(this.props)?(0,a.jsx)(bn,{restriction:xn.S.TwitchGate,children:(0,a.jsx)(nn.rj,{iconProps:{type:tn.W.Icon,icon:Qe.t.LogoTwitch},text:(0,c.hw)("You can only watch this stream on the Twitch website.","TwitchGateOverlay"),children:function(n){return(0,a.jsx)(Fn.$n,{linkTo:"https://www.twitch.tv/".concat(e),targetBlank:!0,size:n?Fn.Mp.Small:Fn.Mp.Default,children:(0,c.hw)("Watch on Twitch","TwitchGateOverlay")})}})}):null},n.prototype.shouldShow=function(e){return(0,Cu.F$)(e.data)},n}(d.Component),iv=(0,_.Zz)(En("TwitchGateOverlay",xn.S.TwitchGate),(0,x.cj)((function(e){var n=e.content;return{liveChannelLogin:(0,j.jp)(n)}})),(0,Cu.yg)())(tv);var av=t(344204),rv=t.n(av),ov=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.stream&&n.props.data.user.stream.id&&n.props.data.user.stream.previewImageURL?n.props.data.user.stream.previewImageURL:void 0},n.shouldShowVideoPreviewOverlay=function(){return!n.props.isVideoAdShowing&&(!n.props.autoplay&&!n.props.isOffline&&!n.props.isPlaying||n.props.forbidden&&n.restrictionType(n.props)===$e.B2H.SUB_ONLY_LIVE)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e&&this.shouldShowVideoPreviewOverlay()?(0,a.jsx)(r.P,{"data-a-target":"player-overlay-preview-background",display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,fullHeight:!0,className:"video-preview-overlay",children:(0,a.jsx)(sn.S,{fullHeight:!0,className:"video-preview-overlay__background-image",children:(0,a.jsx)(Zt.L,{src:e,alt:this.props.liveContentChannelLogin||""})})}):null},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&e.data.user.stream.restrictionType},n}(d.Component),sv=(0,_.Zz)((0,Ge.X)({name:"VideoPreviewOverlay"}),(0,E.dd)((function(e){var n=e.isOffline,t=e.forbidden,i=e.autoplay;return{autoplay:i,isPlaying:(0,fe.F4)(e),isOffline:n,forbidden:t}})),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{isLive:(0,j.DG)(n),liveContentChannelLogin:n.type===Z.FC.Live?n.channelLogin:null}})),(0,ce.VX)((function(e){return{isVideoAdShowing:(0,et.cz)(e.videoAdMetadata)}})),(0,z._v)(rv(),{skip:function(e){return!e.isLive},options:function(e){var n;return{variables:{login:null!==(n=e.liveContentChannelLogin)&&void 0!==n?n:""}}}}))(ov);var lv;!function(e){e.Codecs="video-stats-overlay__codecs",e.FPS="video-stats-overlay__fps",e.LatencyToBroadcaster="video-stats-overlay__latency-to-broadcaster",e.LatencyMode="video-stats-overlay__latency-mode"}(lv||(lv={}));var dv=function(e){function n(n){var t=e.call(this,n)||this;return t.updateVideoStats=function(){var e,n,i,a,r,o,s=t.props.mediaPlayerInstance;if(s){var l=null===(e=s.getVideoWidth)||void 0===e?void 0:e.call(s),d=null===(n=s.getVideoHeight)||void 0===n?void 0:n.call(s),u=null===(i=s.getVideoBitRate)||void 0===i?void 0:i.call(s),c=l,p=d,m="video",v=null===(r=null===(a=s.getVideoRenderSurface)||void 0===a?void 0:a.call(s))||void 0===r?void 0:r.querySelector("canvas");v&&"hidden"!==v.style.visibility&&(c=v.width,p=v.height,m="canvas");var f=null===(o=s.getQuality)||void 0===o?void 0:o.call(s);t.setState((function(e){var n,t,i,a,r,o,v,g,h;return{bandwidthEstimate:pv(null===(n=s.getBandwidthEstimate)||void 0===n?void 0:n.call(s),e.bandwidthEstimate),broadcasterLatency:1e3*pv(null===(t=s.getLiveLatency)||void 0===t?void 0:t.call(s),e.broadcasterLatency),bufferDuration:pv(null===(i=s.getBufferDuration)||void 0===i?void 0:i.call(s),e.bufferDuration),codecs:f&&f.codecs||e.codecs,viewportHeight:pv(null===(a=s.getDisplayHeight)||void 0===a?void 0:a.call(s),e.viewportHeight),viewportWidth:pv(null===(r=s.getDisplayWidth)||void 0===r?void 0:r.call(s),e.viewportWidth),droppedFrames:pv(null===(o=s.getDroppedFrames)||void 0===o?void 0:o.call(s),e.droppedFrames),version:(null===(v=s.getVersion)||void 0===v?void 0:v.call(s))||e.version,videoFrameRate:pv(null===(g=s.getVideoFrameRate)||void 0===g?void 0:g.call(s),e.videoFrameRate),downloadWidth:pv(l,e.downloadWidth),downloadHeight:pv(d,e.downloadHeight),renderWidth:pv(c,e.renderWidth),renderHeight:pv(p,e.renderHeight),downloadBitrate:pv(u,e.downloadBitrate),renderSurface:m,protocol:(null===(h=s.getProtocol)||void 0===h?void 0:h.call(s))||e.protocol}}))}},t.getTimeString=function(e){return(0,c.hw)("{time} sec.",{time:e},"VideoStatsOverlay")},t.state={bandwidthEstimate:0,broadcasterLatency:0,bufferDuration:0,codecs:"",viewportHeight:0,viewportWidth:0,downloadBitrate:0,downloadWidth:0,downloadHeight:0,droppedFrames:0,protocol:"",renderSurface:"video",renderWidth:0,renderHeight:0,videoFrameRate:0,version:""},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateVideoStats(),this.updateVideoStatsIntervalID=setInterval(this.updateVideoStats,1e3)},n.prototype.componentWillUnmount=function(){clearInterval(this.updateVideoStatsIntervalID)},n.prototype.render=function(){var e=this;return(0,a.jsx)(on.e,{theme:"dark",children:(0,a.jsx)("div",{children:(0,a.jsx)(sn.S,{position:o.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(gn.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(r.P,{"data-a-target":"player-overlay-video-stats",background:o.VS.Base,color:o.Q1.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(ln.a2,{"aria-label":(0,c.hw)("Close video stats","VideoStatsOverlay"),onClick:function(){return e.props.setStatsOverlay(pe.Uz.None)},icon:dn.g})}),(0,a.jsxs)(un.X,{children:[(0,a.jsx)(cn.A,{children:(0,a.jsxs)(pn.H,{children:[(0,a.jsx)(mn.x,{label:(0,c.hw)("Name","VideoStatsOverlay"),padding:.5}),(0,a.jsx)(mn.x,{label:(0,c.hw)("Value","VideoStatsOverlay"),padding:.5})]})}),(0,a.jsxs)(vn.B,{children:[this.renderDownloadResolution(),this.renderRenderResolution(),this.renderViewportResolution(),this.renderDownloadBitrate(),this.renderBandwidthEstimate(),this.renderFps(),this.renderSkippedFrames(),this.renderBufferSize(),this.renderLatencyToBroadcaster(),this.renderCodecs(),this.renderProtocol(),this.renderLatencyMode(),this.renderRenderSurface(),this.renderBackendVersion(),this.renderPlaySessionID(),this.renderServingID()]})]})]})})})})})},n.prototype.renderBandwidthEstimate=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Bandwidth Estimate","VideoStatsOverlay"),value:this.formatBitsPerSecond(this.state.bandwidthEstimate)})},n.prototype.renderDownloadResolution=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Download Resolution","VideoStatsOverlay"),value:"".concat(this.state.downloadWidth,"x").concat(this.state.downloadHeight)})},n.prototype.renderRenderResolution=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Render Resolution","VideoStatsOverlay"),value:"".concat(this.state.renderWidth,"x").concat(this.state.renderHeight)})},n.prototype.renderViewportResolution=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Viewport Resolution","VideoStatsOverlay"),value:"".concat(this.state.viewportWidth,"x").concat(this.state.viewportHeight)})},n.prototype.renderRenderSurface=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Render Surface","VideoStatsOverlay"),value:"".concat(this.state.renderSurface)})},n.prototype.renderFps=function(){var e=Math.round(this.state.videoFrameRate);return e?(0,a.jsx)(cv,{name:(0,c.hw)("FPS","VideoStatsOverlay"),value:e,"data-test-selector":lv.FPS}):null},n.prototype.renderSkippedFrames=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Skipped Frames","VideoStatsOverlay"),value:this.state.droppedFrames})},n.prototype.renderBufferSize=function(){var e=this.getTimeString(this.state.bufferDuration.toFixed(2));return(0,a.jsx)(cv,{name:(0,c.hw)("Buffer Size","VideoStatsOverlay"),value:e})},n.prototype.renderLatencyToBroadcaster=function(){if(!this.props.isLive)return null;var e=this.getTimeString((this.state.broadcasterLatency/1e3).toFixed(2));return(0,a.jsx)(cv,{name:(0,c.hw)("Latency To Broadcaster","VideoStatsOverlay"),value:e,"data-test-selector":lv.LatencyToBroadcaster})},n.prototype.renderLatencyMode=function(){return this.props.isLive?(e=this.props.isLowLatencyCapable&&this.props.isLowLatencyEnabled?(0,c.hw)("Low Latency","VideoStatsOverlay"):(0,c.hw)("Normal Latency","VideoStatsOverlay"),(0,a.jsx)(cv,{name:(0,c.hw)("Latency Mode","VideoStatsOverlay"),value:e,"data-test-selector":lv.LatencyMode})):null;var e},n.prototype.renderDownloadBitrate=function(){var e="".concat(Math.round(this.state.downloadBitrate/1e3)," Kbps");return(0,a.jsx)(cv,{name:(0,c.hw)("Download Bitrate","VideoStatsOverlay"),value:e})},n.prototype.renderBackendVersion=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Backend Version","VideoStatsOverlay"),value:this.state.version})},n.prototype.renderServingID=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Serving ID","VideoStatsOverlay"),value:this.props.servingID||""})},n.prototype.renderCodecs=function(){return this.state.codecs?(0,a.jsx)(cv,{name:(0,c.hw)("Codecs","VideoStatsOverlay"),value:this.state.codecs,"data-test-selector":lv.Codecs}):null},n.prototype.renderPlaySessionID=function(){return(0,a.jsx)(cv,{name:(0,c.hw)("Play Session ID","VideoStatsOverlay"),value:this.props.playSessionID})},n.prototype.renderProtocol=function(){return 0===this.state.protocol.length?null:(0,a.jsx)(cv,{name:(0,c.hw)("Protocol","VideoStatsOverlay"),value:this.state.protocol})},n.prototype.formatBitsPerSecond=function(e){return e>=1e7?"".concat(Math.round(e/1e6)," Mbps"):"".concat(Math.round(e/1e3)," Kbps")},n}(d.Component),uv=(0,_.Zz)((0,Ge.X)({name:"VideoStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,margin:1,className:"video-stats-overlay__error-container",children:(0,a.jsx)(kn.N,{color:o.Q1.Overlay,children:(0,c.hw)("The video stats overlay has crashed. Please disable it in the player settings menu.","VideoStatsOverlay")})})}),{})}),(0,E.dd)((function(e){return{isLowLatencyCapable:(0,fe.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,playSessionID:e.playSessionId,servingID:(0,fe.YN)(e)}})),(0,x.cj)((function(e){var n=e.content;return{isLive:(0,j.DG)(n)}})),(0,pe.c0)((function(e){var n=e.setStatsOverlay;return{setStatsOverlay:n}})))(dv);var cv=function(e){var n=e.name,t=e.value;return(0,a.jsxs)(pn.H,{"data-a-target":"player-overlay-video-stats-row",children:[(0,a.jsx)(fn.n,{padding:.5,children:(0,a.jsx)(kn.N,{children:n})}),(0,a.jsx)(fn.n,{padding:.5,children:(0,a.jsx)(kn.N,{"aria-label":n,"aria-roledescription":"video player stat","aria-live":"polite",role:"status",children:t})})]},n)};function pv(e,n){return"number"!=typeof e||isNaN(e)?n:e}var mv=t(300780),vv=300;function fv(e){return e.self&&e.self.viewingHistory&&e.self.viewingHistory.position||void 0}function gv(e){if(!e.self||!e.self.viewingHistory||null===e.self.viewingHistory.position)return!1;var n=e.self.viewingHistory.position;if(0===n)return!0;var t=e.lengthSeconds||0,i=Math.max(vv,.1*t);return t>vv&&n>i}function hv(e,n){var t=gv(e);return t!==gv(n)?t?1:-1:e.createdAt&&n.createdAt?new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime():n.createdAt?1:e.createdAt?-1:0}var yv=580,kv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={timeRemaining:2e4},n.autoplayInterval=-1,n.renderVideoTitle=function(e){return(0,a.jsx)(r.P,{fullWidth:!0,margin:{bottom:e?.5:0},children:(0,a.jsx)(kn.N,{fontSize:e?o.Z4.Size6:o.Z4.Size5,ellipsis:!0,children:n.props.video.title})})},n.renderTimeRemaining=function(){var e=Math.round(n.state.timeRemaining/1e3);return(0,a.jsx)(r.P,{margin:{bottom:.5},display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Between,children:(0,a.jsx)(kn.N,{bold:!0,type:n.props.width>780?ft.M2.H4:ft.M2.H5,color:o.Q1.Overlay,children:(0,c.hw)("Up Next in {timeRemaining} seconds...",{timeRemaining:e},"VODPostplayRecommendations")})})},n.startCountdown=function(){clearInterval(n.autoplayInterval),n.autoplayInterval=setInterval((function(){n.state.timeRemaining>0?n.setState((function(e){return{timeRemaining:e.timeRemaining-1e3}})):(n.stopCountdown(),n.props.onSelect())}),1e3)},n.stopCountdown=function(){clearInterval(n.autoplayInterval)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.startCountdown()},n.prototype.componentWillUnmount=function(){this.stopCountdown()},n.prototype.render=function(){var e=this.props,n=e.onSelect,t=e.video;return(0,a.jsx)(_n.FT,{type:_n.NL.Fullscreen,transparency:_n.xL.Transparency1,children:(0,a.jsx)(sn.S,{fullWidth:!0,children:(0,a.jsx)(Pt.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Et.ES.TranslateTop,duration:Et.Cf.Long,children:(0,a.jsx)("div",{style:{marginTop:this.props.width<1e3?"-10%":0},children:(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Center,justifyContent:o.A9.Center,children:(0,a.jsxs)(r.P,{className:l()("autoplay-vod__content-container",{"autoplay-vod__content-container--mini":this.props.width<=yv}),display:o.nl.Flex,flexDirection:this.props.width>yv?o.bo.Column:o.bo.Row,children:[this.props.width>yv&&this.renderTimeRemaining(),(0,a.jsx)(r.P,{className:"autoplay-vod__video-card-container",children:(0,a.jsx)(Xt,{video:t,content:{type:Z.FC.VOD,vodID:t.id,videoOffset:fv(t)},onSelect:n,info:this.props.width>yv?this.renderVideoTitle():null,marginBottom:0})}),(0,a.jsxs)(r.P,{className:l()({"autoplay-vod__mini-text-container":this.props.width<=yv}),children:[this.props.width<=yv&&this.renderTimeRemaining(),this.props.width<=yv&&this.renderVideoTitle(!0),(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(Fn.$n,{onClick:this.props.onClose,children:(0,c.hw)("More Suggestions","VODPostplayRecommendations")})})]})]})})})})})})},n}(d.Component),Sv=(0,_.Zz)((0,kt.o1)())(kv),_v=t(599939),Cv=t.n(_v),bv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autoplayVOD:!0,height:0,otherVODs:!0,wasEverMini:n.props.mini,width:0},n.resizeDebounceTimer=new mv.n(250),n.showAutoplayVOD=function(){return n.hasVODs()&&n.state.autoplayVOD},n.showOtherVODs=function(){return n.hasVODs()&&!n.showAutoplayVOD()&&n.state.otherVODs},n.hasVODs=function(){return n.getVideos().length>1},n.onResize=function(e,t){n.resizeDebounceTimer.invoke((function(){n.setState({width:e,height:t})}))},n.getVideos=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.videos&&n.props.data.video.owner.videos.edges&&(0,Zo.jP)(n.props.data.video.owner.videos.edges.map((function(e){return e&&e.node}))).filter((function(e){return e.id!==n.props.vodID})).sort(hv)||[]},n.getChannelDisplayName=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.displayName||""},n.handleCloseAutoplayVOD=function(){n.setState({autoplayVOD:!1})},n.handleCloseOtherVODs=function(){n.setState({otherVODs:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.state.wasEverMini&&this.props.setRecommendationsShowing(!1)},n.prototype.componentDidUpdate=function(){var e=this.props,n=e.recommendationsShowing,t=e.setRecommendationsShowing;if(this.props.mini&&!this.state.wasEverMini)this.setState({wasEverMini:!0}),n&&t(!1);else if(!this.state.wasEverMini){var i=this.showAutoplayVOD()||this.showOtherVODs();n!==i&&t(i)}},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1),this.resizeDebounceTimer.clear()},n.prototype.render=function(){var e=this;if(this.state.wasEverMini)return null;var n=this.getVideos();return(0,a.jsxs)(a.Fragment,{children:[(this.state.autoplayVOD||this.state.otherVODs)&&(0,a.jsx)($n.$,{onResize:this.onResize}),this.showAutoplayVOD()&&(0,a.jsx)(Sv,{video:n[0],onClose:this.handleCloseAutoplayVOD,onSelect:function(){var t=n[0].id,i=e.props.getContentUrl({type:Z.FC.VOD,vodID:t,videoOffset:fv(n[0])});i&&(0,Q.cW)(i,e.props.navigate)},width:this.state.width}),this.showOtherVODs()&&(0,a.jsx)(Is,{videos:n,onClose:this.handleCloseOtherVODs,onSelect:function(){},title:(0,c.hw)("More from {channelLogin}",{channelLogin:this.getChannelDisplayName()},"VODPostplayRecommendations"),width:this.state.width})]})},n}(d.Component);var Pv=(0,_.Zz)((0,Ge.X)({name:"VODPostplayRecommendationsOverlay"}),(0,x.cj)((function(e){return{mini:!!(0,T.wk)({playerPublicPropsContext:e}).mini,vodID:(0,j.hq)(e.content)||null}})),(0,kt.o1)(),(0,pe.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing,setRecommendationsShowing:e.setRecommendationsShowing}})),(0,z._v)(Cv(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),H.y,(0,K.e)())(bv),Ev=t(433374),xv=t.n(Ev),Av=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getImageUrl=function(){if(n.props.data&&n.props.data.video)return n.props.data.video.previewThumbnailURL?n.props.data.video.previewThumbnailURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getImageUrl();return e?(0,a.jsx)(Zt.L,{src:e,alt:this.props.data&&this.props.data.video&&this.props.data.video.title||""}):null},n}(d.Component),Nv=(0,_.Zz)((0,Ge.X)({name:"VODPreviewOverlay"}),(0,x.cj)((function(e){var n=e.content;return{vodID:(0,j.hq)(n)||null}})),(0,z._v)(xv(),{skip:function(e){return null===e.vodID},options:function(e){return{variables:{vodID:e.vodID}}}}))(Av);var wv=t(485272),Iv=t(787004),Tv=v.x.wrap((function(){return t.e(64987).then(t.bind(t,641595))}),"AudioAdOverlayContainer",{failSilently:!0,placeholder:null});var Dv=(0,_.Zz)((0,Ge.X)({name:"AudioAdOverlay"}),(0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(Tv,{}):null}));Dv.displayName="AudioAdOverlay";var Fv=function(){return(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachRight:!0,padding:1,background:o.VS.Overlay,display:o.nl.Flex,alignItems:o.k2.Center,className:"picture-by-picture-overlay",borderRadius:xt.Z.Medium,children:[(0,a.jsx)(fu.h,{size:25}),(0,a.jsx)(r.P,{margin:{left:.5},children:(0,c.hw)("To view the stream while an ad is playing, open Chat","PictureByPictureOverlay")})]})},Ov=t(282463),Rv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){if(n.props.stitchedAdUrl&&0!==n.props.stitchedAdClickTrackUrls.length||n.props.adFormat===Ov.bi.StandardAudioAd){var e={beacon_id:n.props.clickBeaconId,click_tracking_urls:n.props.stitchedAdClickTrackUrls.join("|"),ad_format:n.props.adFormat,stitched:!0,is_url_present:!!n.props.stitchedAdUrl};if(n.props.adFormat===Ov.bi.StandardVideoAd&&n.props.track("video_ad_click",e),n.props.emitClickEvent(),n.props.stitchedAdUrl){var t=n.props.isEmbedded?"tt_medium=".concat("embed","&tt_content=").concat("embed_stitched_ad_interstitial"):"",i=n.props.stitchedAdUrl;if(""!==t)i=Ie.extract(n.props.stitchedAdUrl)?i.concat("&".concat(t)):i.concat("?".concat(t));window.open(i,"_blank","noopener")}}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.stitchedAdUrl||this.props.adFormat===Ov.bi.StandardAudioAd?(0,a.jsx)(sn.S,{attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,position:o.yX.Absolute,children:(0,a.jsx)("div",{role:"presentation",onClick:this.onClick})}):null},n}(d.Component);var Vv=(0,_.Zz)((0,ce.VX)((function(e){var n=e.emitClickEvent,t=e.videoAdMetadata;return{stitchedAdClickTrackUrls:t&&t.stitched&&t.stitchedAdClickTrackUrls||[],stitchedAdUrl:t&&t.stitched&&t.adUrl||null,emitClickEvent:n,clickBeaconId:t&&t.stitched&&t.clickBeaconId||null,adFormat:t&&t.stitched&&t.adFormat||null}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{isEmbedded:!!(null==n?void 0:n.embed)}})),(0,kt.o1)())(Rv);Vv.displayName="StitchedAdClickHandler";var Mv=function(){var e=d.useContext(ce.jK).videoAdMetadata,n=d.useContext(E.$g),t=n.muted,a=n.mediaPlayerInstance,r=n.playerState,o=(0,et.lq)(e)?e:void 0,s=d.useMemo((function(){return a&&o?{startPosition:a.getPosition()||0}:null}),[o,a]),l=d.useCallback((function(){var n=(0,et.lq)(e)?e.stitchedAdMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}),[e]),u=d.useCallback((function(){var n=(0,et.lq)(e)?e.stitchedAdUnMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}),[e]),p=d.useCallback((function(){var n=(0,et.lq)(e)?e.stitchedAdCompanionCreativeViewTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),m=d.useCallback((function(){var n=(0,et.lq)(e)?e.stitchedAdPauseTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),v=d.useCallback((function(){var n=(0,et.lq)(e)?e.stitchedAdResumeTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),f=d.useCallback((function(){if(o){var e=o.stitchedAdCreativeViewTrackUrls;e&&0!==e.length&&e.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}}),[o]),g=(0,d.useRef)(!1),h=(0,Be.Z)(null==o?void 0:o.adPosition);d.useEffect((function(){h!==(null==o?void 0:o.adPosition)&&g.current&&(g.current=!1)}),[h,null==o?void 0:o.adPosition]);var y=d.useCallback((function(){if(a&&s){var e=s.startPosition;a.getPosition()-e>=2&&!g.current&&(f(),g.current=!0)}}),[f,a,s]),k=(0,d.useRef)(!0);(0,M.p)(L.a.TIME_UPDATE,y),(0,d.useEffect)((function(){k.current?k.current=!1:t?l():u()}),[l,t,u]);var S=(0,d.useRef)(!0),_=d.useCallback((function(){S.current&&"visible"===document.visibilityState&&"Playing"===r&&(p(),S.current=!1)}),[p,r]);d.useEffect((function(){return document.addEventListener("visibilitychange",_),window.addEventListener("focus",_),_(),function(){document.removeEventListener("visibilitychange",_),window.removeEventListener("focus",_)}}),[_]);var C=(0,d.useRef)(!0);return(0,d.useEffect)((function(){"Buffering"!==r&&(C.current?C.current=!1:"Idle"===r?m():"Playing"===r&&v())}),[m,r,v]),null},Lv=t(883036),jv=t(474063),Bv=t.n(jv),Uv=t(798999),qv=t(726280);function Gv(e){switch(e.roll){case qv.d.Pre:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(n)return i?Kv(t):(0,c.hw)("Start watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner");return Hv()}(e);case qv.d.Mid:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive,a=e.isVLM;if(i)return a?Kv(t):n?(0,c.hw)("{channel} is taking an ad break; stick around to support the stream!",{channel:t},"VideoAdBanner"):(0,c.hw)("{channel} will be back shortly. This Ad supports Twitch.",{channel:t},"VideoAdBanner");return n?(0,c.hw)("Continue watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner"):(0,c.hw)("This video will be back shortly. This Ad supports Twitch.","VideoAdBanner")}(e);case qv.d.Post:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(i)return n?(0,c.hw)("Thank you for watching {channel}; finish watching the ad to support the stream!",{channel:t},"VideoAdBanner"):(0,c.hw)("Thanks for watching the stream! This Ad supports Twitch.","VideoAdBanner");return n?(0,c.hw)("Thank you for watching {channel}; finish watching the ad to support the channel!",{channel:t},"VideoAdBanner"):Hv()}(e);default:return e.supportsChannel?Wv(e.channel):Hv()}}var zv,Hv=function(){return(0,c.hw)("This Ad supports Twitch","VideoAdBanner")},Wv=function(e){return(0,c.hw)("This Ad supports {channel}",{channel:e},"VideoAdBanner")};function Kv(e){return(0,c.hw)("Catch {channel} right after this ad break; stick around to support the stream!",{channel:e},"VideoAdBanner")}!function(e){e.DefaultText="ad-banner-default-text"}(zv||(zv={}));var Zv=(0,_.Zz)((0,x.cj)((function(e){return{content:e.content,isMini:!!(0,T.wk)({playerPublicPropsContext:e}).mini}})),(0,ce.VX)((function(e){return{metadata:e.videoAdMetadata,isVideoAdShowing:(0,et.cz)(e.videoAdMetadata),updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,et.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,et.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,z._v)(Bv(),{options:function(e){return{variables:{input:{login:((0,j.DG)(e.content)||(0,j.lp)(e.content))&&e.content.channelLogin||"",ownsCollectionID:(0,j.P3)(e.content)&&e.content.collectionID||"",ownsVideoID:(0,j.wy)(e.content)&&e.content.vodID||""}}}}}))((function(e){var n,t=function(e){var n=function(e){var n=e.data.userByAttribute;if(n&&n.roles&&n.login)return{login:n.login,displayName:n.displayName,isPartner:n.roles.isPartner,isAffiliate:n.roles.isAffiliate,profileImageURL:n.profileImageURL}}(e);return e.isVideoAdShowing&&e.metadata&&n&&!c.Zn.get("player_ad_banner_unsupported_channels",[]).includes(n.login)?{supportsChannel:!!n.isPartner||!!n.isAffiliate,channel:(0,Uv.d)(n.login,n.displayName,!0),roll:e.metadata.roll,isLive:(0,j.DG)(e.content),profileImageURL:n.profileImageURL||"",isVLM:!!e.metadata.isVLM}:null}(e),i=(0,Lv.S)(),s=(0,bl.fX)(wv.Wj),l=!0===(null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.hideAdOverlay),d=s&&(0,et.g)(e.clientSideAdMetadata),u=!l&&!d;return!t||e.isMini?null:(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,margin:{right:"10rem"},background:o.VS.Overlay,display:o.nl.InlineBlock,children:[(0,a.jsxs)(kn.N,{"data-a-target":"video-ad-label","data-test-selector":zv.DefaultText,color:o.Q1.Overlay,type:ft.M2.Span,children:[Gv(t),u&&" "]}),u&&(0,a.jsx)(kn.N,{color:o.Q1.Overlay,type:ft.M2.Span,"data-a-target":"video-ad-countdown",children:i})]})}));Zv.displayName="VideoAdBanner";var Qv=t(321949);var Yv=(0,_.Zz)((0,Ge.X)({name:"VideoAdOverlay"}),(0,Iv.dC)((function(e){return{isShowingPictureByPicture:e.isShowing}})),(0,x.cj)((function(e){return{behaviors:e.behaviors}})),(0,ce.VX)((function(e){return{updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,et.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,et.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,isInstreamVideoAd:(0,et.cz)(e.videoAdMetadata)}})),(0,pe.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=e.updateAdElement,t=e.isFullscreen,s=e.isShowingPictureByPicture,l=e.stitchedAdMetadata,d=e.clientSideAdMetadata,u=e.isInstreamVideoAd,c=e.behaviors,p=!u||!0===(null==l?void 0:l.hideAdOverlay),m=(0,bl.fX)(wv.Wj),v=m&&(0,et.g)(d),f=!p&&!v,g=!!(null==c?void 0:c.mini),h=!p&&!v&&g,y=t&&s&&!p,k=(null==l?void 0:l.adFormat)===Ov.bi.StandardAudioAd;return(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,ref:n,"data-a-target":"ax-overlay"}),f&&(0,a.jsx)(Zv,{}),(null==l?void 0:l.stitched)&&k&&(0,a.jsx)(Mv,{}),(0,a.jsx)(Vv,{}),h&&(0,a.jsx)(Lv.AF,{}),y&&(0,a.jsx)(Fv,{}),m&&(0,a.jsx)(Dv,{}),u&&!v&&!g&&(0,a.jsx)(Qv.Cq,(0,i.__assign)({},{format:"video"}))]})}));Yv.displayName="VideoAdOverlay";var Xv,$v=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.videoPlaybackContext;return!!(t.isPlayerCoreLoading||(0,fe.TN)(t)||(0,fe.i_)(t)||!t.hasPlayed&&t.sourceStatus!==oi.O.None)&&i.isPlaying&&!(0,et.cz)(e.adContext.videoAdMetadata)&&!(0,gt.mh)(n)},Jv=t(811202),ef=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===w.p.ENDED,a=!t.hasPlayed,r=(0,T.wk)(e).embed;return!((0,et.cz)(e.adContext.videoAdMetadata)||!(0,Jv.bz)(n.content,t.isOffline)||!a&&!i||!r)};!function(e){e.AccountRestrictedOverlay="account-restricted-overlay",e.AdStatsOverlay="ad-stats-overlay",e.BottomControlsOverlay="bottom-controls-overlay",e.CelebrationsOverlay="celebrations-overlay",e.ChannelSkinsOverlay="channel-skins-overlay",e.ChatHappeningNowOverlay="chat-happening-now-overlay",e.ClickHandlerOverlay="click-handler-overlay",e.ClickToPlayPauseOverlay="click-to-play-pause-overlay",e.ClickToUnmuteOverlay="click-to-unmute-overlay",e.ClipEmbedErrorOverlay="clip-embed-error-overlay",e.ClipPostplayRecommendationsOverlay="clip-postplay-recommendations-overlay",e.ClipShareOverlay="clip-share-overlay",e.ClosedCaptionSettingsOverlay="closed-caption-settings-overlay",e.CollectionEmptyOverlay="collection-empty",e.CollectionSidebarOverlay="collection-sidebar-overlay",e.ErrorOverlay="error-overlay",e.ExtensionsOverlay="extensions-overlay",e.FollowPanelOverlay="follow-panel-overlay",e.KeyboardShortcutsOverlay="keyboard-shortcuts-overlay",e.LastActionOverlay="last-action-overlay",e.LoadingOverlay="loading-overlay",e.MiniOverlay="mini-overlay",e.MutedSegmentsAlertOverlay="muted-segments-alert-overlay",e.OfflineBannerOverlay="offline-banner-overlay",e.OfflineEmbedsOverlay="offline-embeds-overlay",e.OfflineRecommendationsOverlay="offline-recommendations-overlay",e.PremiumContentOverlay="premium-content-overlay",e.SDANudgeOverlay="sda-nudge-overlay",e.SubscriberVODOverlay="subscriber-vod-overlay",e.TopBarOverlay="top-bar-overlay",e.TwitchGateOverlay="twitch-gate-overlay",e.VideoStatsOverlay="video-stats-overlay",e.VODPostplayRecommendationsOverlay="vod-postplay-recommendations-overlay",e.VODPreviewOverlay="vod-preview-overlay",e.OneTapOverlay="one-tap-overlay",e.OneTapStoreOverlay="one-tap-store-overlay"}(Xv||(Xv={}));function nf(e){var n;return(n={})[Xv.ClickToPlayPauseOverlay]=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,T.wk)(e),r=a.displayPlayPauseAsOverlay,o=a.forceControlVisibility;return!(!i.showControls||!r||!n&&t.isPlaying&&o!==me.Ie.Showing)}(e),n[Xv.ClickToUnmuteOverlay]=function(e){var n=e.playerContext,t=e.videoPlaybackContext,i=(0,T.wk)(e),a=i.showInitialMutedOnVolumeButton,r=i.displayPlayPauseAsOverlay;return!$v(e)&&t.isPlaying&&!(0,fe.xB)(n)&&!a&&!r}(e),n[Xv.AdStatsOverlay]=function(e){return e.uiContext.statsOverlay===pe.Uz.Ad}(e),n[Xv.BottomControlsOverlay]=(0,Jv.vg)(e),n[Xv.CelebrationsOverlay]=function(e){return!e.playerContext.isPlayerCoreLoading}(e),n[Xv.ChannelSkinsOverlay]=function(e){var n;return!!(0,T.wk)(e).enableChannelSkinsVideoOverlay&&(null===(n=e.playerPublicPropsContext.content)||void 0===n?void 0:n.type)===Z.FC.Live}(e),n[Xv.ChatHappeningNowOverlay]=function(e){var n=e.adContext,t=e.playerContext,i=e.playerPublicPropsContext,a=e.uiContext,r=c.x2.store.getState(),o=(0,T.Rh)({playerPublicPropsContext:i});return(!r.ui.rightColumnExpanded||a.isFullscreen)&&!(0,et.cz)(n.videoAdMetadata)&&!t.isOffline&&(0,j.DG)(o)&&(0,Sl.O)(i)===kl.C.Site}(e),n[Xv.ClickHandlerOverlay]=function(e){return!((0,T.wk)(e).disableDoubleClickFullscreen&&void 0===(0,T.zB)(e).onPlayerClick||(0,et.cz)(e.adContext.videoAdMetadata))}(e),n[Xv.ClipEmbedErrorOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,T.Rh)({playerPublicPropsContext:n}),a=(0,T.wk)(e).embed;return!(!(0,j.Jn)(i)||!a||t.sourceStatus!==oi.O.None)}(e),n[Xv.ClipPostplayRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,T.Rh)({playerPublicPropsContext:n});return!((0,et.cz)(e.adContext.videoAdMetadata)||!(0,j.Jn)(i)||!i.clipSlug||!(0,fe.pl)(t)||(0,T.wk)(e).disableRecommendations)}(e),n[Xv.ClosedCaptionSettingsOverlay]=function(e){return e.uiContext.showClosedCaptionsSettings}(e),n[Xv.CollectionEmptyOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext;return n.sourceStatus===oi.O.None&&t.content.type===Z.FC.Collection}(e),n[Xv.CollectionSidebarOverlay]=function(e){return e.uiContext.isCollectionSidebarShowing}(e),n[Xv.ErrorOverlay]=function(e){return!!e.playerContext.error}(e),n[Xv.ExtensionsOverlay]=function(e){var n=e.playerPublicPropsContext,t=n.behaviors,i=n.content,a=e.playerContext.isOffline,r=t&&t.enableExtensions,o=(0,j.DG)(i)||(0,j.rX)(i),s=(0,j.hd)(i);return!(!(r&&o&&s)||a)}(e),n[Xv.FollowPanelOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=e.adContext;return!(!(0,T.wk)(e).showOfflineChannelNotificationPrompt||!(0,Jv.bz)(n.content,t.isOffline)||(0,et.cz)(i.videoAdMetadata)||ef(e))}(e),n[Xv.KeyboardShortcutsOverlay]=function(e){return e.uiContext.isKeyboardShortcutsVisible}(e),n[Xv.LastActionOverlay]=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.uiContext,a=(0,T.wk)(e).disableLastActionOverlay;return!((0,gt.mh)(n)||t.isOffline||(0,fe.k1)(t)||i.isCollectionSidebarShowing||i.recommendationsShowing||a||t.sourceStatus===oi.O.None)}(e),n[Xv.LoadingOverlay]=$v(e),n[Xv.MiniOverlay]=function(e){return!!(0,T.wk)(e).mini}(e),n[Xv.MutedSegmentsAlertOverlay]=function(e){var n=e.videoPlaybackContext;return(0,j.wy)((0,T.Rh)(e))&&n.isPlaying}(e),n[Xv.OfflineBannerOverlay]=function(e){if((0,et.cz)(e.adContext.videoAdMetadata))return!1;var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}).type===Z.FC.Live,a=(0,T.wk)(e).embed;return!(!i||!n.isOffline||a)}(e),n[Xv.OfflineEmbedsOverlay]=ef(e),n[Xv.OfflineRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=!t.hasPlayed,a=t.playerState===w.p.ENDED,r=(0,T.wk)(e).embed;return!((0,et.cz)(e.adContext.videoAdMetadata)||!(0,Jv.bz)(n.content,t.isOffline)||!i&&!a||(0,T.wk)(e).disableRecommendations||r)}(e),n[Xv.PremiumContentOverlay]=am(e),n[Xv.SDANudgeOverlay]=function(e){var n=e.adContext,t=e.playerPublicPropsContext,i=e.adContext.isSDAContainerHidden,a=!1,r=c.x2.experiments.getAndTrackAssignment("nabe_experiment"),o=n.sdaRequestCount;if("turbo_1"!==r&&"support_1"!==r||(a=o%15==0),"turbo_2"!==r&&"help_2"!==r&&"support_2"!==r||(a=o%4==0),"turbo_4"!==r&&"help_4"!==r&&"support_4"!==r||(a=o%8==0),!n.lastSDAAdRequestBlocked&&!i)return!1;var s=(0,T.Rh)({playerPublicPropsContext:t}),l=(0,Te.If)();return(0,et.cz)(n.videoAdMetadata)||(0,et.Eg)(n.adFormatMetadata)&&!i||(0,et.g)(n.adFormatMetadata)||!(0,j.DG)(s)||(0,Sl.O)(t)!==kl.C.Site||void 0===l||Te.l$.has(l)||(0,fe.pl)(e.playerContext)?(n.updateLastSDAAdRequestBlocked(!1),n.updateSDAHiddenState(!1),!1):a}(e),n[Xv.SubscriberVODOverlay]=function(e){return(0,fe.k1)(e.playerContext,xn.S.SubscriberVOD)}(e),n[Xv.TopBarOverlay]=function(e){if(am(e))return!1;var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,T.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&a!==me.Ie.Showing)}(e),n[Xv.TwitchGateOverlay]=function(e){return!!(0,T.wk)(e).blockTwitchExclusiveContent}(e),n[Xv.ClipShareOverlay]=function(e){return e.uiContext.isClipSharing}(e),n[Xv.VideoStatsOverlay]=function(e){return e.uiContext.statsOverlay===pe.Uz.Video}(e),n[Xv.VODPostplayRecommendationsOverlay]=function(e){var n=(0,T.Rh)(e);return!(0,et.cz)(e.adContext.videoAdMetadata)&&((0,j.wy)(n)||(0,j.P3)(n))&&(0,fe.pl)(e.playerContext)&&!(0,T.wk)(e).disableRecommendations}(e),n[Xv.VODPreviewOverlay]=function(e){var n,t=e.playerContext,i=e.videoPlaybackContext;return!((null===(n=e.playerPublicPropsContext.behaviors)||void 0===n?void 0:n.disableVODPreviewOverlay)||t.autoplay||t.hasPlayed||i.isPlaying)}(e),n[Xv.AccountRestrictedOverlay]=function(e){var n=e.playerContext;return(0,fe.k1)(n,xn.S.AccountRestricted)}(e),n[Xv.OneTapOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}),a=(0,T.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,j.DG)(i)&&!!a&&!(0,et.cz)(e.adContext.videoAdMetadata)}(e),n[Xv.OneTapStoreOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}),a=(0,T.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,j.DG)(i)&&!!a}(e),n}var tf=v.x.wrap((function(){return t.e(57796).then(t.bind(t,108595))}),"ChannelSkinsOverlay",{failSilently:!0,placeholder:null}),af=v.x.wrap((function(){return Promise.all([t.e(72398),t.e(76672),t.e(72723)]).then(t.bind(t,747239))}),"OneTapStore"),rf=v.x.wrap((function(){return Promise.all([t.e(72398),t.e(76672),t.e(72723)]).then(t.bind(t,747239))}),"OneTapBreakpointAnimation"),of=v.x.wrap((function(){return Promise.all([t.e(72398),t.e(76672),t.e(72723)]).then(t.bind(t,747239))}),"OneTapStreakPills"),sf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderMiniOverlay=function(e){return(0,a.jsx)(a.Fragment,{children:e[Xv.MiniOverlay]&&(0,a.jsx)(os,{})})},n.renderContentGatingOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rn,{show:e[Xv.AccountRestrictedOverlay]}),e[Xv.PremiumContentOverlay]&&(0,a.jsx)(Up,{}),(0,a.jsx)(Na,{}),e[Xv.TwitchGateOverlay]&&(0,a.jsx)(iv,{}),(0,a.jsx)(Xn,{}),e[Xv.SubscriberVODOverlay]&&(0,a.jsx)(im,{}),e[Xv.CelebrationsOverlay]&&(0,a.jsx)(We.l,{ref:Ke.e})]})},n.renderContentClickOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,T.wk)(n.props).mini&&e[Xv.ClickHandlerOverlay]&&(0,a.jsx)(bt,{}),e[Xv.ClickToPlayPauseOverlay]&&(0,T.wk)(n.props).displayPlayPauseAsOverlay&&(0,a.jsx)(It,{}),e[Xv.ExtensionsOverlay]&&(0,a.jsx)(Ro,{}),!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ft,{canShow:e[Xv.ClickToUnmuteOverlay]}),e[Xv.LastActionOverlay]&&(0,a.jsx)(ts,{})]})]})},n.renderContentCoveringOverlays=function(e){return!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Xv.OneTapOverlay]&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rf,{}),(0,a.jsx)(of,{})]}),e[Xv.ChannelSkinsOverlay]&&(0,a.jsx)(tf,{}),rm(n.props)&&(0,a.jsx)(nv,{shouldShow:e[Xv.TopBarOverlay],isOffline:e[Xv.OfflineEmbedsOverlay]}),(0,a.jsx)(nr,{isOnScreenControlsOn:(0,Jv.A$)(n.props)&&e[Xv.BottomControlsOverlay]}),(0,a.jsx)(mt,{}),e[Xv.FollowPanelOverlay]&&(0,a.jsx)(Wo,{}),e[Xv.KeyboardShortcutsOverlay]&&(0,a.jsx)(Xo,{}),e[Xv.VideoStatsOverlay]&&(0,a.jsx)(uv,{}),e[Xv.AdStatsOverlay]&&(0,a.jsx)(Sn,{}),(0,a.jsx)(ht,{}),e[Xv.ChatHappeningNowOverlay]&&(0,a.jsx)(vt.X,{})]})},n.renderTemporaryInteractionOverlays=function(e){return!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ca,{}),e[Xv.ClipShareOverlay]&&(0,a.jsx)(Ei,{}),e[Xv.MutedSegmentsAlertOverlay]&&(0,a.jsx)(ps,{bottomControlsShowing:e[Xv.BottomControlsOverlay]}),e[Xv.ClosedCaptionSettingsOverlay]&&(0,a.jsx)(ca,{}),e[Xv.VODPreviewOverlay]&&(0,a.jsx)(Nv,{}),e[Xv.SDANudgeOverlay]&&(0,a.jsx)(Xp,{}),e[Xv.OneTapStoreOverlay]&&(0,a.jsx)(af,{isVideoAdShowing:(0,et.cz)(n.props.adContext.videoAdMetadata)})]})},n.renderContentRecommendations=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,T.wk)(n.props).mini&&e[Xv.ClipPostplayRecommendationsOverlay]&&(0,a.jsx)(ui,{}),!(0,T.wk)(n.props).mini&&e[Xv.OfflineEmbedsOverlay]&&(0,a.jsx)(Ns,{}),!(0,T.wk)(n.props).mini&&e[Xv.OfflineRecommendationsOverlay]&&(0,a.jsx)(Ls,{}),e[Xv.VODPostplayRecommendationsOverlay]&&(0,a.jsx)(Pv,{})]})},n.renderContentReplacedOverlays=function(e){var t=!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Xv.OfflineBannerOverlay]&&(0,a.jsx)(gs,{}),(0,a.jsx)(sv,{}),e[Xv.CollectionEmptyOverlay]&&(0,a.jsx)(va,{}),e[Xv.ClipEmbedErrorOverlay]&&(0,a.jsx)(Ot,{})]});return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(Yv,{})]})},n.renderContentLoadingOverlays=function(e){return(0,a.jsx)(a.Fragment,{children:e[Xv.LoadingOverlay]&&(0,a.jsx)(is.p8,{})})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=nf(this.props);return(0,a.jsxs)(a.Fragment,{children:[this.renderContentReplacedOverlays(n),this.renderContentLoadingOverlays(n),this.renderContentClickOverlays(n),this.renderContentRecommendations(n),n[Xv.ErrorOverlay]&&(0,a.jsx)(or,{}),this.renderContentCoveringOverlays(n),this.renderTemporaryInteractionOverlays(n),(0,Jv.A$)(this.props)&&(0,a.jsx)(Qc,{shouldShow:n[Xv.BottomControlsOverlay],isOffline:(0,Jv.Tm)(this.props),isAccessibilityLandmark:!(0,Pa.OI)(this.props.contentClassificationContext.overlayType),shouldPushVolumeToRight:(0,T.wk)(this.props).shiftVolumeToRightCorner,shouldDisplayPlayPauseAsOverlay:(0,T.wk)(this.props).displayPlayPauseAsOverlay}),this.renderContentGatingOverlays(n),this.renderMiniOverlay(n),(0,a.jsx)(ze.c,{managerId:"player",shouldMount:(e=this.props,!(0,T.wk)(e).mini)})]})},n}(d.Component),lf=(0,_.Zz)((0,Ge.X)({name:"OverlayManager"}),(0,yt.In)((function(e){var n=e.active;return{active:n}})),(0,gt.vM)(),(0,ce.VX)(),(0,He.IU)(),Ze.zX,(0,ba.Z)(),(0,E.dd)(),(0,x.cj)(),(0,pe.c0)(),(0,A.AP)())(sf);var df=t(834365),uf=t.n(df),cf=function(){function e(e,n){this.timerIsPaused=!0,this.ms=n,this.callback=e,this.lastStartTimestamp=0,this.msRemaining=this.ms}return e.prototype.start=function(){var e=this;this.timerIsPaused&&(this.lastStartTimestamp=Date.now(),this.timerId=setTimeout((function(){return e.timeoutCallback()}),this.msRemaining),this.timerIsPaused=!1)},e.prototype.pause=function(){if(!this.timerIsPaused){clearTimeout(this.timerId),this.timerIsPaused=!0;var e=Date.now();this.msRemaining=this.msRemaining-(e-this.lastStartTimestamp)}},e.prototype.timeoutCallback=function(){this.callback()},e.prototype.destroy=function(){clearTimeout(this.timerId)},e}(),pf=d.memo((function(e){var n,t,i,a=e.isAdShowing,r=e.isPlaying,o=e.isBuffering,s=e.isOffline,l=(0,R.IT)(uf(),{variables:{login:e.channelLogin,allowAmazon:e.allow_amazon,allowComscore:e.allow_comscore,allowGoogle:e.allow_google,allowNielsen:e.allow_nielsen}}),u=l.data,p=l.refetch,m=null===(n=null==u?void 0:u.channel)||void 0===n?void 0:n.id,v=null===(i=null===(t=null==u?void 0:u.channel)||void 0===t?void 0:t.adProperties)||void 0===i?void 0:i.trackingPixels,f=(0,d.useRef)([]),g=(0,d.useRef)(e);(0,d.useEffect)((function(){g.current=e}));var h=(0,d.useCallback)((function(e){var n=f.current.findIndex((function(n){var t;return n.ms===1e3*(null!==(t=e.timeOffsetSeconds)&&void 0!==t?t:5)}));n<0||(f.current.splice(n,1),fetch(e.url,{cache:"no-store",mode:"no-cors"}))}),[]),y=(0,d.useCallback)((function(){f.current.forEach((function(e){return e.destroy()})),f.current=[]}),[f]),k=(0,d.useCallback)((function(e){var n;f.current.push(new cf((function(){return h(e)}),1e3*(null!==(n=e.timeOffsetSeconds)&&void 0!==n?n:5)))}),[f,h]),S=(0,d.useCallback)((function(){return(v||[]).forEach(k)}),[k,v]),_=(0,d.useCallback)((function(){var e=g.current.isPlaying,n=g.current.isBuffering,t=g.current.isAdShowing,i=g.current.isOffline;!e||n||t||i||f.current.forEach((function(e){return e.start()}))}),[f,g]),C=(0,d.useCallback)((function(){f.current.forEach((function(e){return e.pause()}))}),[f]);return(0,d.useEffect)((function(){if(m){var e=(0,Xe.yi)(m);return c.UE.subscribe({topic:e,onMessage:function(e){e.type===Ma.PD.PixelTrackingUpdate&&"true"===e.data.refresh&&p&&p()}})}}),[m,p]),(0,d.useEffect)((function(){!r||o||a||s?C():_()}),[r,o,a,s,_,C]),(0,d.useEffect)((function(){return y(),S(),_(),function(){return y()}}),[v,S,_,y]),null}));pf.displayName="PixelTracking";var mf=function(){var e=(0,d.useContext)(ce.jK).videoAdMetadata,n=(0,d.useContext)(E.$g),t=(0,d.useContext)(x.kl),i=t.content,r=t.behaviors,o=(0,d.useContext)(kt.g7),s=(0,d.useContext)(A.wL).isPlaying,l=n.isOffline,u=(0,fe.TN)(n),c=(0,j.DG)(i),p=(0,j.hd)(i),m=!!r&&r.disablePixelTracking,v=(0,De.S9)().data,f=!(0,Fe.bq)(S.F.TwitchAmazon,v),g=!(0,Fe.bq)(S.F.ComScore,v),h=!(0,Fe.bq)(S.F.Google,v),y=!(0,Fe.bq)(S.F.Nielsen,v);return c&&!m&&p?(0,a.jsx)(pf,{isAdShowing:void 0!==e,playerTracking:o,isOffline:!0===l||void 0===l,isPlaying:s,isBuffering:u,allow_amazon:f,allow_comscore:g,allow_google:h,allow_nielsen:y,channelLogin:p}):null};mf.displayName="PixelTrackingManager";var vf,ff=t(52166),gf=function(){var e=d.useState(!1),n=e[0],t=e[1],i=d.useContext(kt.g7).track,a=d.useContext(ce.jK),r=a.videoAdMetadata,o=a.adFormatMetadata,s=(0,et.EF)(r),l=(0,et.hr)(o),u=(0,et.lq)(r),c=d.useContext(E.$g).mediaPlayerInstance,p=d.useContext(x.kl).content,m=(0,j.wy)(p)||(0,j.P3)(p),v=d.useCallback((function(){return m&&(null==c?void 0:c.getPosition())||null}),[m,c]);return(0,M.p)(w.p.IDLE,d.useCallback((function(){s||(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,s,u,i,t])),(0,M.p)(w.p.PLAYING,d.useCallback((function(){!s&&n&&(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"play"}),t(!1))}),[v,s,u,i,n,t])),(0,ff._)(N.V.Paused,d.useCallback((function(){l||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,i,t,l])),(0,ff._)(N.V.Resumed,d.useCallback((function(){l||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"play"}),t(!1))}),[v,i,t,l])),null},hf=function(){var e=(0,d.useContext)(kt.g7).track,n=(0,d.useContext)(x.kl).content,t=(0,d.useCallback)((function(t){"minute-watched"===t.name&&(t.properties.isDVR=(0,j.lp)(n)),e(t.name,t.properties)}),[e,n]);return(0,M.p)(L.a.ANALYTICS_EVENT,t),null};!function(e){e.ID3="MetaID3"}(vf||(vf={}));var yf=t(749721),kf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=n.props.logger.withCategory("debug-events"),n.attachEventListeners=function(){var e=n.props.playerEvents.addEventListener;Object.values(w.p).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logStateEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(L.a).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logPlayerEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(vf).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logMetadataEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(yf.G).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logRemoteEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(N.V).forEach((function(e){return n.props.adEvents.addEventListener(e,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.logClientSideAdEvent.apply(n,(0,i.__spreadArray)([e],t,!1))}))}))},n.logEvent=function(e,t){for(var a,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(a=n.logger).debug.apply(a,(0,i.__spreadArray)(["".concat(e," - ").concat(t)],r,!1))},n.logStateEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["State",e],t,!1))},n.logPlayerEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Player",e],t,!1))},n.logMetadataEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Metadata",e],t,!1))},n.logRemoteEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Remote",e],t,!1))},n.logClientSideAdEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Ads",e],t,!1))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){(this.props.enableDebug||Ie.parse(window.location.search).debug)&&this.attachEventListeners()},n.prototype.render=function(){return null},n}(d.Component),Sf=(0,_.Zz)((0,x.cj)((function(e){return{enableDebug:!!(0,T.wk)({playerPublicPropsContext:e}).enableDebug}})),(0,P.X)(),(0,b.O)())(kf),_f=t(470939),Cf=t(76231),bf=t(857131),Pf=t.n(bf),Ef=t(786501),xf=t.n(Ef),Af=t(472944);function Nf(e,n){if(e.type!==n.type)return!0;if((0,j.DG)(e))return e.channelLogin!==n.channelLogin;if((0,j.wy)(e))return e.vodID!==n.vodID;if((0,j.P3)(e))return e.collectionID!==n.collectionID||e.vodID!==n.vodID;if((0,j.Jn)(e)){var t=n,i=(e.editing&&e.editing.videoUrl)!==(t.editing&&t.editing.videoUrl);return e.clipSlug!==n.clipSlug||i}return(0,j.lp)(e)?e.channelLogin!==n.channelLogin:void 0}function wf(e,n,t,a,r,o,s){return(0,i.__awaiter)(this,arguments,Promise,(function(e,n,t,a,r,o,s,l,d){var u,c;return void 0===l&&(l=!1),(0,i.__generator)(this,(function(i){switch(i.label){case 0:switch(u=t||"https://usher.ttvnw.net",e.type){case Z.FC.Live:return[3,1];case Z.FC.VOD:return[3,2];case Z.FC.Collection:return[3,3];case Z.FC.Clip:return[3,4];case Z.FC.DVRLive:return[3,6];case Z.FC.DVRVOD:return[3,7]}return[3,8];case 1:case 6:return[2,If(e.channelLogin,n,u,l,s,d)];case 2:case 7:return[2,Tf(e.vodID,n,u,l,s,d)];case 3:return[2,Df(e,n,u,l,s,d)];case 4:return[4,Vf(e,a)];case 5:return c=i.sent(),[2,Ff(r,o,e,c)];case 8:return[2,{src:null}]}}))}))}function If(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l,d,u,p,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.toLowerCase(),s=performance.now(),[4,(0,an.l)({channelLogin:e,playerType:n,refreshAccessToken:a})];case 1:if(l=i.sent(),d=Math.round(performance.now()-s),!l)return[2,{src:null,videoAccessToken:void 0,accessTokenLoadTime:d}];u=null,p=!1;try{(m=JSON.parse(l.token))&&m.authorization&&(u=isNaN(m.authorization.access_expiration)?null:m.authorization.access_expiration,p=m.authorization.forbidden)}catch(e){c.vF.warn("Error parsing video access token: ".concat(e))}return[2,{src:"".concat(t,"/api/channel/hls/").concat(e,".m3u8?").concat(Of({live:!0,videoAccessToken:l,isVP9Available:r,playSessionId:o,includeUnavailableVariants:!0})),videoAccessToken:l,forbidden:p,accessExpiration:u,accessTokenLoadTime:d}]}}))}))}function Tf(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.startsWith("v")?e.substr(1):e,s=performance.now(),[4,(0,an.l)({playerType:n,vodID:e,refreshAccessToken:a})];case 1:return l=i.sent(),d=Math.round(performance.now()-s),l?(u="".concat(t,"/vod/").concat(e,".m3u8?").concat(Of({live:!1,videoAccessToken:l,isVP9Available:r,playSessionId:o,includeUnavailableVariants:!0})),[2,{accessTokenLoadTime:d,videoAccessToken:l,src:u}]):[2,{src:null,accessTokenLoadTime:d}]}}))}))}function Df(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(l=e.vodID)?[3,2]:[4,Rf(e.collectionID)];case 1:l=i.sent(),i.label=2;case 2:return(s=l)?[4,Tf(s,n,t,a,r,o)]:[2,{src:null}];case 3:return[2,i.sent()]}}))}))}function Ff(e,n,t,a){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){return(0,j.Jn)(t)&&t.editing&&t.editing.videoUrl?[2,{src:t.editing.videoUrl}]:(r=(0,Od.Tp)(a,e,n,!0),o="",r.quality&&(0,Od.Gi)(r.quality)&&(o=r.quality.source),[2,{src:o}])}))}))}function Of(e){var n,t,i,a,r,o,s,l,d,u=e.live,p=e.videoAccessToken,m=e.playSessionId,v=e.includeUnavailableVariants,f=void 0!==v&&v,g=(0,Cf.h)(window.navigator.userAgent),h={BrowseItemTrackingId:null===(t=null===(n=c.x2.router.state.location)||void 0===n?void 0:n.state)||void 0===t?void 0:t.item_tracking_id,AppVersion:c.x2.config.buildID},y={acmb:btoa(JSON.stringify(h)),raid_id:void 0,force_manifest_node:void 0,force_segment_node:void 0,force_weaver_ads:void 0,force_preroll:void 0,force_midroll:void 0,force_creative_id:void 0,allow_source:!0,fast_bread:!!u||void 0,playlist_include_framerate:!0,reassignments_supported:!0,sig:p.sig,token:p.token,player_backend:"mediaplayer",p:Math.floor(9999999*Math.random()),play_session_id:m,dt:void 0,bndl:void 0,app:void 0,os:void 0,transode_mode:void 0,parent_domains:void 0,include_unavailable:f};if((0,bl.fX)("twilight_device_type")&&(y.dt=g),u){y.raid_id=null===(a=null===(i=c.x2.router.state.location)||void 0===i?void 0:i.state)||void 0===a?void 0:a.raid_id;var k=Ie.parse(window.location.search);y.force_manifest_node=null===(r=k.force_manifest_node)||void 0===r?void 0:r.toString(),y.force_segment_node=null===(o=k.force_segment_node)||void 0===o?void 0:o.toString(),"true"===k.force_weaver_ads&&(y.force_weaver_ads=k.force_weaver_ads,y.force_preroll=null===(s=k.force_preroll)||void 0===s?void 0:s.toString(),y.force_midroll=null===(l=k.force_midroll)||void 0===l?void 0:l.toString(),y.force_creative_id=null===(d=k.force_creative_id)||void 0===d?void 0:d.toString())}var S=c.x2.experiments.__hardcodedStaleExperiment("mobile_native_web_transcode_mode","cbr_v1");return S&&(y.transcode_mode=S),(0,Ga.W)()&&(y.parent_domains=["twitchplayer"]),Ie.stringify(y)}function Rf(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,c.x2.apollo.client.query({query:xf(),variables:{id:e}})];case 1:return n=i.sent(),t=n.data.collection,[2,(a=t&&t.items.edges[0])&&a.node.id];case 2:return i.sent(),[2];case 3:return[2]}}))}))}function Vf(e,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Mf(e.clipSlug)];case 1:return t=i.sent(),a=(0,Od.S9)(t),n({availableQualities:a}),[2,a]}}))}))}function Mf(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a,r,o,s;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,c.x2.apollo.client.query({query:Pf(),variables:{platform:(0,Af.R)(),slug:e}})];case 1:return n=l.sent(),(t=n.data.clip)&&t.videoQualities&&(null===(o=t.playbackAccessToken)||void 0===o?void 0:o.value)&&(null===(s=t.playbackAccessToken)||void 0===s?void 0:s.signature)?(a=t.playbackAccessToken.value,r=t.playbackAccessToken.signature,[2,t.videoQualities.map((function(e){return(0,i.__assign)((0,i.__assign)({},e),{sourceURL:(0,_f.F)(e.sourceURL,a,r)})}))]):[2,[]];case 2:return l.sent(),[2,[]];case 3:return[2]}}))}))}var Lf=function(e){var n=e.reportInteractive,t=d.useContext(x.kl).content,i=(0,Be.Z)(t),a=d.useContext(E.$g),r=a.isOffline,o=a.restrictions,s=(0,fe.k1)({restrictions:o}),l=d.useRef(void 0),u=d.useCallback((function(){clearTimeout(l.current),n()}),[n]);return d.useEffect((function(){if(!i||Nf(i,t)){clearTimeout(l.current);var e=c.x2.dynamicSettings.get("player_prioritization_timeout_seconds",15);l.current=setTimeout((function(){u()}),1e3*e)}}),[t,i,u]),d.useEffect((function(){r&&u()}),[r,u]),d.useEffect((function(){s&&u()}),[s,u]),(0,ff._)(N.V.Started,u),(0,ff._)(N.V.Error,u),(0,M.p)(w.p.PLAYING,u),(0,M.p)(w.p.IDLE,u),(0,M.p)(w.p.ENDED,u),d.useEffect((function(){return function(){u()}}),[u]),null},jf=function(e){function n(n){var t=e.call(this,n)||this;return t.playSessionWasRestricted=!1,t.shouldReceivePlayerPrioritizationTreatment=!1,t.onPlaying=function(){t.doNotTrack()||(t.props.latencyTracking.reportCustomEvent(t.playingEvent),t.playingEvent.duration.value&&c.x2.sentry.reportCustomMeasurement("tw.player.played",t.playingEvent.duration.value,"millisecond"))},t.onBuffering=function(){t.doNotTrack()||t.props.latencyTracking.reportCustomEvent(t.bufferingEvent)},t.onReady=function(){t.shouldReceivePlayerPrioritizationTreatment||t.props.latencyTracking.reportInteractive(),t.loadedEvent&&t.props.latencyTracking.reportCustomEvent(t.loadedEvent)},t.doNotTrack=function(){return!t.props.autoplay||t.playSessionWasRestricted},t.registerPlayingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:"Player",key:"player-played",label:"First Frame",doNotTrack:t.doNotTrack()})},t.registerBufferingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-buffering",label:"Buffering",doNotTrack:t.doNotTrack()})},t.resetLatencyTrackingEvents=function(){t.playSessionWasRestricted=!1,t.createdEvent=null,t.loadedEvent=null,t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent()},t.maybeCheckPlayerPrioritizationEnrollment=function(e){var n;if((null===(n=e.behaviors)||void 0===n?void 0:n.applyChannelWatchOptimizations)&&(0,j.DG)(e.content)&&e.autoplay){var i=c.x2.experiments.getAndTrackAssignment("player_prioritization_holdout");t.shouldReceivePlayerPrioritizationTreatment="control"===i}else t.shouldReceivePlayerPrioritizationTreatment=!1},t.maybeCheckPlayerPrioritizationEnrollment(n),t.createdEvent=t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-created",label:"Created"}),t.loadedEvent=t.props.latencyTracking.registerCustomEvent({benchmark:2500,group:"Player",key:"player-loaded",label:"Init"}),t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent(),t.playSessionWasRestricted=t.props.hasPlaybackRestriction,t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.createdEvent&&this.props.latencyTracking.reportCustomEvent(this.createdEvent),this.props.playerEvents.addEventListener(w.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(w.p.BUFFERING,this.onBuffering),this.props.adEvents.addEventListener(N.V.Started,this.onPlaying),this.props.isPlayerCoreLoading||this.onReady()},n.prototype.componentDidUpdate=function(e){this.maybeCheckPlayerPrioritizationEnrollment(this.props),Nf(e.content,this.props.content)&&this.resetLatencyTrackingEvents(),e.isPlayerCoreLoading&&!this.props.isPlayerCoreLoading&&this.onReady(),this.props.hasPlaybackRestriction&&(this.playSessionWasRestricted=!0)},n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[this.shouldReceivePlayerPrioritizationTreatment&&(0,a.jsx)(Lf,{reportInteractive:this.props.latencyTracking.reportInteractive}),this.props.children||null]})},n}(d.Component),Bf=(0,_.Zz)((0,mi.W)("OverhaulPlayer"),(0,P.X)(),(0,b.O)(),(0,E.dd)((function(e){return{autoplay:e.autoplay,isPlayerCoreLoading:e.isPlayerCoreLoading,hasPlaybackRestriction:(0,fe.k1)(e)}})),(0,x.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})))(jf),Uf=t(943210),qf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectLoopingChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.enableLooping;i&&(e.enableLooping&&!a?i.setLooping(!1):!e.enableLooping&&a&&i.setLooping(!0))},n.detectDisableAudioChange=function(e){var t=n.props,i=t.disableAudio,a=t.playerType,r=t.setMuted;e.disableAudio&&!i?Uf.o.get("video-muted",a)||r(!1,{persist:!1}):!e.disableAudio&&i&&r(!0,{persist:!1})},n.detectDisableAutoplayChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.disableAutoplay,r=t.hasPlayed,o=t.play;i&&!r&&e.disableAutoplay&&!a&&o()},n.applyForceMaxAutoDimensions=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.forceMaxAutoDimensions;if(t)if(i&&i.group!==ae._6.Auto){var a=i.width,r=i.height;t.setAutoMaxVideoSize(a,r)}else{var o=t.getQualities().find((function(e){return"chunked"===e.group}));o&&t.setAutoMaxQuality(o)}},n.detectForceMaxAutoDimensionsChange=function(e){n.props.forceMaxAutoDimensions!==e.forceMaxAutoDimensions&&n.applyForceMaxAutoDimensions()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.detectLoopingChange(e),this.detectDisableAudioChange(e),this.detectDisableAutoplayChange(e),this.detectForceMaxAutoDimensionsChange(e)},n.prototype.render=function(){return(0,a.jsx)(Gf,{applyForceMaxAutoDimensions:this.applyForceMaxAutoDimensions})},n}(d.Component),Gf=function(e){var n=e.applyForceMaxAutoDimensions;return(0,M.p)(w.p.READY,n),null},zf=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.enableLooping,a=n.disableAutoplay,r=n.forceMaxAutoDimensions;return{disableAudio:t,enableLooping:i,disableAutoplay:a,forceMaxAutoDimensions:r,playerType:(0,Sl.O)(e)}})),(0,E.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed;return{mediaPlayerInstance:n,hasPlayed:t}})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.setMuted;return{isPlaying:n,play:t,setMuted:i}})))(qf);var Hf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackBlocked=function(){var e=n.props.onPlaybackBlocked;e&&e()},n.onPlaybackEnded=function(){var e=n.props.onPlaybackEnded;e&&e()},n.onTimeChanged=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.onVideoTimeChange;t&&i&&i(t.getPosition())},n.onAnalyticsEvent=function(e){var t=n.props.onAnalyticsEvent;t&&t(e)},n.detectOnPlayingChange=function(e){var t=n.props.onPlaying;t&&(!e.isPlayerPlaying&&n.props.isPlayerPlaying&&t(n.props.playSessionId),!e.isAdPlaying&&n.props.isAdPlaying&&t(n.props.playSessionId))},n.detectOnPauseChange=function(e){var t=n.props.onPauseToggled;t&&(e.isPlayerPlaying!==n.props.isPlayerPlaying&&t(!n.props.isPlayerPlaying),e.isAdPlaying!==n.props.isAdPlaying&&t(!n.props.isAdPlaying))},n.detectOnReadyChange=function(e){var t=n.props.onReady;t&&!e.isPlayerReady&&n.props.isPlayerReady&&t()},n.detectMutedChange=function(e){var t=n.props.onMuteToggled;t&&e.muted!==n.props.muted&&t(!!n.props.muted)},n.detectFullscreenChange=function(e){var t=n.props.onFullscreenChange;t&&e.isFullscreen!==n.props.isFullscreen&&t(n.props.isFullscreen)},n.detectPlaybackRestrictionChange=function(e){var t=n.props.onContentRestricted;t&&!e.hasPlaybackRestriction&&n.props.hasPlaybackRestriction&&t()},n.detectContentClassificationChange=function(e){var t=n.props,i=t.onContentClassificationChange,a=t.contentClassificationOverlayType;i&&e.contentClassificationOverlayType!==a&&i(a)},n.detectInitChange=function(e){var t=n.props.onInit;if(t&&e.isPlayerCoreLoading&&!n.props.isPlayerCoreLoading){var i=n.props;t({play:i.play,pause:i.pause,seek:i.seek,requestManualReset:i.requestManualReset,setClosedCaptionsEnabled:i.setClosedCaptionsEnabled,setVolume:i.setVolume,setMuted:i.setMuted,setQuality:i.setQuality,getPlayerMetadata:i.getPlayerMetadata,track:i.track})}},n.detectOnlineChange=function(e){var t=n.props.onStreamOnline;t&&!1!==e.isOffline&&!1===n.props.isOffline&&t()},n.detectOfflineChange=function(e){var t=n.props.onStreamOffline;t&&!0!==e.isOffline&&!0===n.props.isOffline&&t()},n.detectFetchVideoSourceFailure=function(e){var t=n.props.onFetchVideoSourceFailure;t&&!e.isNoneSourceStatus&&n.props.isNoneSourceStatus&&t()},n.detectAdShowingChange=function(e){var t=n.props,i=t.onAdEnd,a=t.onAdStart,r=e.isAdShowing,o=n.props.isAdShowing;i&&r&&!o?i({adID:e.adID,content:e.content,sessionID:e.sessionID,stitched:e.isStitchedAd,roll:e.adRollType}):a&&!r&&o&&a({adID:n.props.adID,content:n.props.content,sessionID:n.props.sessionID,stitched:n.props.isStitchedAd,roll:n.props.adRollType,adFormat:n.props.adFormat})},n.detectPlaybackErrorChange=function(e){var t=n.props,i=t.error,a=t.onPlaybackError,r=e.error;a&&(!r&&i||r&&i&&r!==i)&&a({code:i})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),this.props.playerEvents.addEventListener(L.a.TIME_UPDATE,this.onTimeChanged),this.props.playerEvents.addEventListener(w.p.ENDED,this.onPlaybackEnded),this.props.playerEvents.addEventListener(L.a.ANALYTICS_EVENT,this.onAnalyticsEvent)},n.prototype.componentDidUpdate=function(e){this.detectAdShowingChange(e),this.detectInitChange(e),this.detectFetchVideoSourceFailure(e),this.detectFullscreenChange(e),this.detectMutedChange(e),this.detectOfflineChange(e),this.detectOnlineChange(e),this.detectOnPauseChange(e),this.detectOnPlayingChange(e),this.detectOnReadyChange(e),this.detectPlaybackRestrictionChange(e),this.detectContentClassificationChange(e),this.detectPlaybackErrorChange(e)},n.prototype.render=function(){return null},n}(d.Component),Wf=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.zB)({playerPublicPropsContext:e}),t=n.onAdEnd,i=n.onAdStart,a=n.onAnalyticsEvent,r=n.onContentRestricted,o=n.onContentClassificationChange,s=n.onFetchVideoSourceFailure,l=n.onFullscreenChange,d=n.onInit,u=n.onMuteToggled,c=n.onPauseToggled,p=n.onPlaybackBlocked,m=n.onPlaybackEnded,v=n.onPlaybackError,f=n.onPlaying,g=n.onReady,h=n.onStreamOffline,y=n.onStreamOnline,k=n.onVideoTimeChange;return{content:e.content,onAdEnd:t,onAdStart:i,onAnalyticsEvent:a,onContentRestricted:r,onContentClassificationChange:o,onFetchVideoSourceFailure:s,onFullscreenChange:l,onInit:d,onMuteToggled:u,onPauseToggled:c,onPlaybackBlocked:p,onPlaybackEnded:m,onPlaybackError:v,onPlaying:f,onReady:g,onStreamOffline:h,onStreamOnline:y,onVideoTimeChange:k}})),(0,ce.VX)((function(e){var n=e.isPlaying,t=e.videoAdMetadata,i=e.videoAdRequest;return{adID:(0,et.lq)(t)?null==t?void 0:t.lineItemId:void 0,adRollType:(0,et.lq)(t)?null==t?void 0:t.roll:null==i?void 0:i.roll,isAdPlaying:n,isAdShowing:(0,et.cz)(t),isStitchedAd:(0,et.lq)(t),sessionID:(0,et.lq)(t)?null==t?void 0:t.adSessionId:null==i?void 0:i.sessionID,adFormat:(0,et.EF)(t)?null==t?void 0:t.adFormat:void 0}})),(0,E.dd)((function(e){var n=e.error,t=e.isOffline,i=e.isPlayerCoreLoading,a=e.mediaPlayerInstance,r=e.requestManualReset,o=e.playSessionId,s=e.sourceStatus;return{error:n,hasPlaybackRestriction:(0,fe.k1)(e),isOffline:t,isPlayerCoreLoading:i,isPlayerPlaying:(0,fe.F4)(e),isPlayerReady:(0,fe.i_)(e),mediaPlayerInstance:a,requestManualReset:r,playSessionId:o,isNoneSourceStatus:s===oi.O.None}})),(0,ba.Z)((function(e){return{contentClassificationOverlayType:e.overlayType}})),(0,A.AP)((function(e){var n=e.muted,t=e.play,i=e.pause,a=e.seek,r=e.setMuted,o=e.setVolume,s=e.setQuality,l=e.getPlayerMetadata;return{muted:n,play:t,pause:i,seek:a,setMuted:r,setVolume:o,setQuality:s,getPlayerMetadata:l}})),(0,pe.c0)((function(e){var n=e.isFullscreen,t=e.setClosedCaptionsEnabled;return{isFullscreen:n,setClosedCaptionsEnabled:t}})),(0,P.X)(),(0,kt.o1)())(Hf);var Kf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectVideoOffsetChange=function(e,t){var i=(0,j.xq)(e),a=(0,j.xq)(t);void 0!==a&&i!==a&&n.props.mediaPlayerInstance&&!(0,j.JN)(t)&&n.props.mediaPlayerInstance.seekTo(a)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=e.content,t=this.props.content;Nf(n,t)||this.detectVideoOffsetChange(n,t)},n.prototype.render=function(){return null},n}(d.Component),Zf=(0,_.Zz)((0,E.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,x.cj)((function(e){var n=e.content;return{content:n}})))(Kf);var Qf=t(104745),Yf=t.n(Qf),Xf=c.x2.logger.withCategory("resume-watching"),$f=function(){var e=d.useState(!1),n=e[0],t=e[1],i=d.useState(0),a=i[0],r=i[1],o=d.useContext(E.$g).mediaPlayerInstance,s=d.useContext(x.kl).content,l=(0,j.hq)(s),p=d.useRef();d.useEffect((function(){p.current=l}));var m=(0,j.wy)(s)?s.videoOffset:void 0,v=(0,u.d4)((function(e){var n=(0,Je.wz)(e);return!(!n||!n.id)})),f=!l||!v,g=(0,R.IT)(Yf(),{skip:f,notifyOnNetworkStatusChange:!0}),h=g.data,y=g.loading,k=g.refetch,S=!!l&&l!==p.current;return(0,M.p)(L.a.DURATION_CHANGED,d.useCallback((function(){r(o?o.getDuration():0)}),[o])),d.useEffect((function(){return r(0)}),[l]),d.useEffect((function(){!S||y||f||(Xf.debug("Switched to a new VOD, refetching user's viewed videos."),k())}),[S,y,f,k]),d.useEffect((function(){S&&void 0===m?(Xf.debug("Switched to new VOD with no video offset, we should try to resume watch"),t(!0)):S||void 0===m||(Xf.debug("Received new video offset for the current VOD, bail any attempts to resume watch"),t(!1))}),[S,m]),d.useEffect((function(){if(n&&l&&function(e){return e>0&&e<1/0}(a)&&o)if(v){if(!h||y)return void Xf.debug("Still waiting on GraphQL data to load");t(!1),function(e){Xf.debug("Trying to resume watch as a logged in user for VOD ".concat(e.vodID));var n=function(e){if(!e)return;return e&&e.currentUser&&e.currentUser.viewedVideos&&e.currentUser.viewedVideos.edges}(e.data);if(!n)return void Xf.debug("User has no saved resume watch times from GraphQL.");var t=n.find((function(n){return n&&n.node.id===e.vodID}));if(!t||null===t.history.position)return void Xf.debug("User has saved watch times from GraphQL, but not for this VOD ".concat(e.vodID,"."));var i=t.history.position;if(eg(i,e.duration))return void Xf.debug("Resume time ".concat(i," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));Xf.debug("Resuming watch to ".concat(i," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(i)}({vodID:l,duration:a,data:h,mediaPlayerInstance:o})}else t(!1),function(e){Xf.debug("Trying to resume watch as a logged out user for VOD ".concat(e.vodID));var n=function(e){var n="v".concat(e);return c.IG.get(Gd.U.VOD_RESUME_TIMES,{})[n]}(e.vodID);if(void 0===n)return void Xf.debug("No resume time found in local storage for VOD ".concat(e.vodID));if(eg(n,e.duration))return void Xf.debug("Resume time ".concat(n," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));Xf.debug("Resuming watch to ".concat(n," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(n)}({vodID:l,duration:a,mediaPlayerInstance:o})}),[n,v,l,h,y,o,a]),null};var Jf=120;function eg(e,n){return n-e<Jf}var ng=t(300235);var tg=t(572126),ig=t.n(tg);function ag(e){return e.playerCoreBroadcastID}function rg(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getPosition()}var og=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currentStreamOffset=0,n.writeToGQL=function(e,t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r,o,s,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=this.props,a=n.isVod,r=n.isLive,o=n.vodID,s=n.currentUserID,n.isAdShowing)return[2];if(!s)throw new Error("resume watched should use local storage for logged out users");return!r||this.props.hasEnded?[3,2]:(l=ag(this.props))?(u={userID:s,position:Math.floor(t),videoID:l,videoType:$e.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):(c.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]);case 1:return i.sent(),[3,4];case 2:return a?(d=function(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getDuration()}(this.props)-rg(this.props)<120,u={userID:s,position:d?0:Math.floor(e),videoID:o||"",videoType:$e.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},n.writeToStorage=function(e){var t=n.props,i=t.isVod,a=t.vodID,r=t.isLive,o=t.isAdShowing,s=t.hasEnded;if(!o){var l=ag(n.props);if(i&&n.props.mediaPlayerInstance)(d=c.IG.get(Gd.U.VOD_RESUME_TIMES,{}))["v".concat(a)]=n.props.mediaPlayerInstance.getDuration()-e<120?0:Math.floor(e),c.IG.set(Gd.U.VOD_RESUME_TIMES,d);else if(r&&l){var d;(d=c.IG.get(Gd.U.LIVE_RESUME_TIMES,{}))[l]=s?0:Math.floor(n.currentStreamOffset),c.IG.set(Gd.U.LIVE_RESUME_TIMES,d)}}},n.onSegmentMetadata=function(e){var t=e.streamOffset;n.currentStreamOffset=t},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.setupLiveGqlTimeouts(),this.props.playerEvents.addEventListener(L.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentWillUnmount=function(){this.clearAsync(),this.props.playerEvents.removeEventListener(L.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentDidUpdate=function(){var e=this;this.clearAsync(),this.setupLiveGqlTimeouts(),clearTimeout(this.endClearTimeout),this.endClearTimeout=setTimeout((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.isLive&&this.props.hasEnded&&this.props.currentUserID?(e=ag(this.props))?(n={userID:this.props.currentUserID,position:0,videoID:e,videoType:$e.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):(c.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]):[3,2];case 1:t.sent(),t.label=2;case 2:return this.props.isVod&&this.props.vodID&&this.props.hasEnded&&this.props.currentUserID?(n={userID:this.props.currentUserID,position:0,videoID:this.props.vodID,videoType:$e.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}),5e3*Math.random())},n.prototype.render=function(){return this.props.hasPlayed?this.props.currentUserID&&this.props.isVod?(0,a.jsx)(ie.j,{onTimeChanged:this.writeToGQL,throttleMilliseconds:2e4}):this.props.currentUserID?null:(0,a.jsx)(ie.j,{onTimeChanged:this.writeToStorage,throttleMilliseconds:5e3}):null},n.prototype.setupLiveGqlTimeouts=function(){var e=this;if(this.props.hasPlayed&&this.props.currentUserID&&this.props.isLive&&ag(this.props)&&this.props.mediaPlayerInstance){var n=function(){e.writeToGQL(rg(e.props),e.currentStreamOffset)},t=Math.ceil(5*Math.random()*6e4);this.timeout=setTimeout((function(){n(),e.interval=setInterval(n,6e5)}),t)}},n.prototype.clearAsync=function(){clearInterval(this.interval),clearTimeout(this.timeout)},n}(d.Component);var sg=(0,_.Zz)((0,u.Ng)((function(e){var n=(0,Je.wz)(e);return{currentUserID:n?n.id:null}})),(0,ce.VX)((function(e){return{isAdShowing:(0,et.cz)(e.videoAdMetadata)}})),(0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,hasPlayed:e.hasPlayed,hasEnded:e.playerState===w.p.ENDED}})),(0,x.cj)((function(e){var n=e.content;return{isVod:(0,j.wy)(n)||(0,j.P3)(n),vodID:(0,j.hq)(n),isLive:(0,j.DG)(n)}})),(0,P.X)(),(function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={id:void 0},e.onDurationChanged=function(){e.setState((function(n){var t,i,a=(t=e.props.mediaPlayerInstance,(i=t&&t.getSessionData())&&i["BROADCAST-ID"]);return n.id===a?null:{id:a}}))},e}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.DURATION_CHANGED,this.onDurationChanged)},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{playerCoreBroadcastID:this.state.id}))},t.displayName=(0,ng.K)(t.name,e),t}(d.Component);return(0,_.Zz)((0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,P.X)())(n)}),(0,z._v)(ig(),{name:"updateUserViewedVideo"}))(og),lg=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sg,{}),(0,a.jsx)($f,{})]})};var dg=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.hasEverPausedFromBeingOutsideViewPort=!1,n.checkVisible=function(e){var t=n.props,i=t.videoContainer,a=t.isPlaying,r=t.pausingBehavior;if(i&&a&&r){var o,s,l=i.getBoundingClientRect();if(o=e,(s=l).bottom<o.top||s.top>o.bottom)r!==me.Fc.Once||n.hasEverPausedFromBeingOutsideViewPort||(n.pausePlayer(),n.unregisterScrollListener()),r===me.Fc.Always&&n.pausePlayer()}},n.pausePlayer=function(){n.hasEverPausedFromBeingOutsideViewPort=!0,n.props.pause()},n.unregisterScrollListener=function(){n.unregister&&n.unregister()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentDidUpdate=function(e){!e.pausingBehavior&&this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentWillUnmount=function(){this.unregisterScrollListener()},n.prototype.render=function(){return null},n}(d.Component),ug=(0,_.Zz)((0,pe.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,A.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,x.cj)((function(e){return{pausingBehavior:(0,T.wk)({playerPublicPropsContext:e}).pauseWhenNotInViewport}})),(0,gn.UJ)((function(e){return{registerReceiver:e.registerReceiver}})))(dg);var cg=t(673130),pg=t.n(cg),mg=c.x2.logger.withCategory("StreamRefetchManagerComponent"),vg=[6e4,3e5,6e5,9e5];function fg(e){var n=e&&e.getSessionData();return n&&n["BROADCAST-ID"]}var gg=(0,_.Zz)((0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,isPlayerCoreLoading:e.isPlayerCoreLoading}})),(0,x.cj)((function(e){var n=e.content;return{isLive:(0,j.DG)(n),channelLogin:(0,j.DG)(n)?n.channelLogin:void 0}})),(0,z._v)(pg(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.isLive}}))((function(e){var n=(0,d.useRef)(""),t=(0,d.useRef)(!0),a=e.mediaPlayerInstance,r=e.isPlayerCoreLoading,o=(0,d.useState)((function(){return fg(a)})),s=o[0],l=o[1],u=(0,d.useRef)(!1),c=e.data&&e.data.user&&e.data.user.stream&&e.data.user.stream.id||void 0,p=e.data&&e.data.refetch,m=!(!e.data||!e.data.loading),v=(0,d.useCallback)((function(){mg.debug("set broadcast id",{id:fg(a)}),l(fg(a))}),[a,l]);return(0,d.useEffect)((function(){var e;return n.current=(0,W.k3)(),mg.debug("running the effect",{isLoading:m,gqlBroadcastId:c,playerCoreBroadcastID:s,effectId:n.current,isPlayerCoreLoading:r}),m||r||c===s||!p?c===s&&(mg.debug("ID stabilized",{effectId:n.current,gqlBroadcastId:c,playerCoreBroadcastID:s}),t.current=!1):(u.current=!0,(0,i.__awaiter)(void 0,void 0,void 0,(function(){function a(){return(0,i.__awaiter)(this,arguments,void 0,(function(t){var r,o;return void 0===t&&(t=0),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return p?(mg.debug("refetch",{retryNumber:t}),r=n.current,[4,p().catch((function(){return mg.warn("gql error")}))]):(mg.errorAndReport(new Error("refetch function is missing"),"refetch function is missing"),[2,void 0]);case 1:return o=i.sent(),r!==n.current?(mg.debug("got results from a refetch, but discarding them as the effect closed over it was torn down",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t}),[2]):c!==s?[2,new Promise((function(i,o){mg.debug("IDs do not match, setting a timeout to do a retry",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:vg[t],gqlBroadcastId:c,playerCoreBroadcastID:s}),e=setTimeout((function(){a(t+1).then(i,o)}),(t>=vg.length-1?vg[vg.length-1]:vg[t])+12e4*Math.random()-6e4)}))]:(mg.debug("ID stabilized",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:vg[t],gqlBroadcastId:c,playerCoreBroadcastID:s,result:o}),[2,o])}}))}))}return(0,i.__generator)(this,(function(i){return mg.debug("broadcast ID mismatch, polling for new ID",{gqlBroadcastId:c,playerCoreBroadcastID:s,effectId:n.current,isPlayerCoreLoading:r}),t.current?(e=setTimeout((function(){return a()}),vg[0]),t.current=!1):a(),u.current=!1,[2]}))}))),function(){mg.debug("something changed, tearing down effect",{effectId:n.current}),clearTimeout(e)}}),[v,c,a,p,s,m,r]),(0,M.p)(L.a.DURATION_CHANGED,(function(){mg.debug("duration changed"),v()})),(0,M.p)(w.p.ENDED,(function(){mg.debug("ended"),l(void 0)})),(0,M.p)(L.a.ERROR,(function(){mg.debug("error"),v()})),null})),hg=t(451553),yg=t.n(hg);var kg=(0,_.Zz)((0,x.cj)((function(e){var n=e.content;return{isLiveContent:(0,j.DG)(n),channelLogin:(0,j.hd)(n)||"",videoID:(0,j.hq)(n)||"",content:n}})),(0,z._v)(yg(),{name:"channelData",skip:function(e){var n=e.isLiveContent,t=e.channelLogin;return!n||!t},options:function(e){return{variables:{channel:e.channelLogin}}}}))((function(e){var n=e.isLiveContent,t=e.content,i=(0,d.useContext)(E.$g),a=i.isOffline,r=i.hasPlayed,o=(0,d.useContext)(kt.g7).track,s=(0,d.useRef)(t),l=function(e){var n,t,i,a=e.channelData;if(a&&!a.loading&&!a.error)return(null===(i=null===(t=null===(n=a.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.freeformTags)||void 0===i?void 0:i.map((function(e){return e.name})))||null;return null}(e),u=(0,d.useRef)(l),c=(0,d.useRef)(!1);Nf(t,s.current)&&(c.current=!1),s.current=t;var p=(0,d.useCallback)((function(){c.current=!0,o("play_session_tags",{freeform_tag_stream:u.current?JSON.stringify(u.current):null})}),[o]),m=r&&l&&(n&&!a);return(0,d.useEffect)((function(){if(m){var e,n,t=(e=u.current,n=l,!(!e&&!n||e&&!e.length&&n&&!n.length||e&&n&&e.length===n.length&&e.every((function(e){return n.includes(e)}))));t&&(u.current=l);var i=t&&c.current;c.current&&!i||p()}}),[m,l,p]),null}));var Sg=t(394984),_g="video_ads.stream_loudness";var Cg=function(e){var n=(0,d.useRef)(e);n.current=e,(0,d.useEffect)((function(){var e=function(){var e;n.current&&(e=n.current,c.IG.set(_g,e))},t=setInterval(e,3e4);return e(),function(){clearInterval(t),e()}}),[])},bg="TXXX";function Pg(e){var n=e.filter(Eg),t=n.length&&n[0];if(!t||!t.info||!t.info.length)return null;try{var i=JSON.parse(t.info[0]);return{cmd:i.cmd,stream_loudness:i.stream_loudness,length:i.length,commercial_id:i.commercial_id,splice_event_id:i.splice_event_id,avail_num:i.avail_num}}catch(e){return null}}function Eg(e){return e.id===bg}var xg,Ag=t(452237);function Ng(e,n){switch(n.update){case xg.BeginAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:n.volume,preAdPodMuted:n.muted});case xg.DurationThreshold:return(0,i.__assign)((0,i.__assign)({},e),{reachedDurationThreshold:!0});case xg.ResetAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:null,preAdPodMuted:null});case xg.ResetContext:return(0,i.__assign)({},Ag._u);case xg.StreamLoudness:return(0,i.__assign)((0,i.__assign)({},e),{streamLoudness:n.next});default:return e}}!function(e){e.BeginAdPod="BeginAdPod",e.DurationThreshold="DurationThreshold",e.ResetAdPod="ResetAdPod",e.ResetContext="ResetContext",e.StreamLoudness="StreamLoudness"}(xg||(xg={}));var wg,Ig=function(e){var n=d.useContext(x.kl).content,t=d.useReducer(Ng,(0,i.__assign)((0,i.__assign)({},Ag._u),{streamLoudness:c.IG.getOptional(_g)})),r=t[0],o=t[1];return(0,a.jsxs)(Ag.s_.Provider,{value:r,children:[((0,j.DG)(n)||(0,j.wy)(n))&&(0,a.jsx)(Tg,{state:r,dispatch:o}),e.children]})},Tg=function(e){var n=e.state,t=e.dispatch;return Dg(t,n),Fg(t,n),d.useEffect((function(){return function(){t({update:xg.ResetContext})}}),[t]),null},Dg=function(e,n){var t=n.streamLoudness,i=n.reachedDurationThreshold;Cg(t),(0,M.p)(vf.ID3,d.useCallback((function(n){var t,a=null!==(t=function(e){var n=Pg(e);return n&&n.stream_loudness||void 0}(n))&&void 0!==t?t:(0,Sg.KZ)();a&&i&&e({update:xg.StreamLoudness,next:{loudness:a,timestamp:Date.now()}})}),[i,e])),d.useEffect((function(){var n=setTimeout((function(){e({update:xg.DurationThreshold})}),5e3);return function(){return clearTimeout(n)}}),[e])},Fg=function(e,n){var t=d.useContext(ce.jK),i=t.adFormatMetadata,a=t.videoAdMetadata,r=d.useContext(E.$g),o=r.volume,s=r.muted,l=n.preAdPodMuted,u=n.preAdPodVolume,c=(0,et.EF)(a)||(0,et.hr)(i);d.useEffect((function(){c?null===l&&null===u&&e({update:xg.BeginAdPod,volume:o||0,muted:!!s}):e({update:xg.ResetAdPod})}),[c,o,s,l,u,e])},Og=t(90300),Rg=t(922314);!function(e){e.Amazon="amazon"}(wg||(wg={}));var Vg,Mg=t(826094),Lg=t(532896),jg=t(674181),Bg=t(9195),Ug=t(629595),qg=t(664213),Gg=t(452072),zg=t.n(Gg),Hg=60,Wg=3e5,Kg=3e4,Zg="broadcaster";function Qg(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,eh(e)];case 1:return n=i.sent(),t=function(e){var n=e.request,t=e.props,i=new Set,a=Ie.parse(window.location.search),r=Date.now(),o=t.video,s=t.broadcaster,l=t.currentUser,d=n.roll===qv.d.Pre,u=n.roll===qv.d.Mid,c=n.roll===qv.d.Post,p=(0,Ug.B2)(),m=(0,Ug.tb)(),v=s&&s.adProperties;t.declineVideoAdsReason&&i.add(t.declineVideoAdsReason);n.roll===qv.d.Pre&&t.content.type===Z.FC.Live&&l&&s&&l.id===s.id&&i.add(Bg.k.BroadcasterPreroll);o&&o.lengthSeconds&&o.lengthSeconds<Hg&&n.roll===qv.d.Pre&&i.add(Bg.k.ShortVideo);d&&o&&s&&l&&s.id===l.id&&i.add(Bg.k.VODCreator);l&&l.hasTurbo&&i.add(Bg.k.Turbo);d&&r-p<Wg&&i.add(Bg.k.RateLimitPreroll);u&&s&&m.channelId===s.id&&r-m.time<Kg&&i.add(Bg.k.RateLimitMidroll);s&&s.self&&s.self.subscriptionBenefit&&s.self.subscriptionBenefit.product&&s.self.subscriptionBenefit.product.hasAdFree&&i.add(Bg.k.AdFreeChannelSubscription);var f=v&&d&&v.hasPrerollsDisabled,g=v&&c&&v.hasPostrollsDisabled;(f||g)&&i.add(Bg.k.AdFreeChannel);d&&"raid"===a.referrer&&i.add(Bg.k.Raid);o&&u&&v&&n.broadcasterInitiated&&o.broadcastType===$e.Suw.ARCHIVE&&v.vodArchiveMidrolls!==Zg&&i.add(Bg.k.BroadcasterInitiatedVODMidroll);o&&v&&!v.hasVodAdsEnabled&&i.add(Bg.k.AdFreeVOD);d&&o&&t.embeddedPromotionalVOD&&i.add(Bg.k.EmbedPromo);return i}(e),a=null,n&&n.reason&&t.add(n.reason),n&&n.error&&(a=n.error),[2,{shouldDecline:!!t.size&&!e.request.forced,trackingEvent:"video_ad_request_declined",trackingProperties:Yg(t),serverError:a,radToken:n?n.radToken:null}]}}))}))}function Yg(e){return[Bg.k,Bg.e].reduce((function(n,t){return Object.values(t).forEach((function(t){n[t]=e.has(t)})),n}),{})}function Xg(e){var n=Ov.bi.StandardVideoAd;if(e){var t=e;t.adFormat&&(n=t.adFormat)}return n}var $g=((Vg={})[qv.d.Pre]=$e.bOg.PREROLL,Vg[qv.d.Mid]=$e.bOg.MIDROLL,Vg[qv.d.Post]=$e.bOg.POSTROLL,Vg),Jg=function(e){switch(e){case Z.FC.Live:case Z.FC.DVRLive:return $e.ebQ.LIVE;case Z.FC.VOD:case Z.FC.DVRVOD:case Z.FC.Collection:return $e.ebQ.VOD;default:return null}};function eh(e){return(0,i.__awaiter)(this,arguments,Promise,(function(e){var n,t,a,r,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,C,b=e.request,P=e.props,E=e.trackVideoAdData;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(n=P.videoAccessToken,t=P.disableAutoplay,a=P.content,r=Jg(a.type),o={break_length:b.duration,emitting_service:"AdvantEdge",is_mafs:!!b.mafsDecision,stitched:!!(0,et.lq)(P.stitchedAdMetadata)},!n)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - nauth",details:"no nauth token present"},radToken:null}];if(!r)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - content type",details:"invalid content type"},radToken:null}];s=null,P.mediaPlayerInstance&&(s=P.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]),l={adSessionID:b.sessionID,clientContext:{isAudioOnly:!1,isMiniTheater:!1,isPIP:!1,isUsingExternalPlayback:!1,clientApp:c.x2.session.clientApp||"",appVersion:c.x2.config.buildID||""},duration:b.duration,playerContext:{contentType:r,isAutoPlay:!t,nauthSig:n.sig||"",nauthToken:n.token||"",videoSessionID:s,playerSizeMode:(0,qg.y)(P),playerType:P.playerType,raidID:null===(y=null===(h=P.location)||void 0===h?void 0:h.state)||void 0===y?void 0:y.raid_id,browseItemTrackingID:null===(S=null===(k=P.location)||void 0===k?void 0:k.state)||void 0===S?void 0:S.item_tracking_id},rollType:$g[b.roll],isVLM:!!b.isVLM,commercialID:b.commercialID||"",game:(null===(_=P.game)||void 0===_?void 0:_.name)||"",twitchCorrelator:b.twitchCorrelator||"",adFormat:Xg(P.stitchedAdMetadata)},d=(0,Lg.ff)(b.adFormat)?b.adFormat.toString():jg.p.CHANNEL_PLAYER,E("ad_eligibility_check_client_request",(0,i.__assign)({ad_placement:d,allocation_type:"PreFill",main_play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0},o)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c.x2.apollo.client.query({query:zg(),fetchPolicy:"network-only",variables:{context:l}})];case 2:return u=e.sent(),p=u.data.adContext,m=(null==p?void 0:p.radToken)||null,E("ad_eligibility_check_client_request_response",(0,i.__assign)({ad_placement:d,shouldDecline:p&&p.declineState.shouldDecline},o)),v=null,u.errors&&u.errors.length&&(v={context:"GrandDAds",error:"server error",details:u.errors.toString()},E("ad_eligibility_check_client_request_error",(0,i.__assign)((0,i.__assign)({ad_placement:d},o),{error_reason:u.errors.toString()}))),[2,{reason:p&&p.declineState.reason,error:v,radToken:m}];case 3:return f=e.sent(),g=(0,Mg.d)(f,{useRawMessage:!0}),E("ad_eligibility_check_client_request_error",(0,i.__assign)({error_reason:g},o)),[2,{reason:null,error:{context:"GrandDAds",error:g,details:f instanceof Error&&(null===(C=f.stack)||void 0===C?void 0:C.toString())||""},radToken:null}];case 4:return[2]}}))}))}var nh=t(960052);function th(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,nh.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,ad_session_id:e.sessionID,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:ih(e.roll),timebreak:e.duration,tag:ah(n),content_labels:rh(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function ih(e){switch(e){case qv.d.Mid:return 2;case qv.d.Post:return 3;default:return 1}}function ah(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==Z.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===Z.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===Z.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,nh.mV)(e.tagName.toLowerCase())})).join("|")}function rh(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var oh=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.requestInProcess=null,n.handleNewVideoAdRequest=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,a,r,o,s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.props,n=e.adFormatRequest,t=e.videoAdRequest,a=e.server,r=e.processAdRequest,o=e.reset,(s=null!=t?t:n)&&s.status===qv.s.Pending&&this.requestInProcess!==s?(this.props.trackVideoAdData("ad_opportunity_start_client",{sda_sequence_length:null==n?void 0:n.sequenceLength}),this.requestInProcess=s,[4,Qg({request:s,props:this.props,trackVideoAdData:this.props.trackVideoAdData})]):[2];case 1:return(l=i.sent()).serverError&&this.props.trackVideoAdData("video_ad_related_error",l.serverError),this.props.setRadToken(l.radToken),this.props.videoAdRequest!==t?[2]:!l.shouldDecline||s.forced?a===N.K.VAES?(r(s,(d=s,u=wg.Amazon,c=this.props,{sdk:u,content:c.content,playerType:c.playerType,broadcaster:c.broadcaster,currentUser:c.currentUser,game:c.game,video:c.video,server:c.server,tagParams:th(d,c)})),[2]):(o(),[2]):(this.props.trackVideoAdData(l.trackingEvent,l.trackingProperties),"video_ad_request_declined"===l.trackingEvent&&this.props.trackVideoRAdEvent(Rg.V.VideoAdRequestDeclined,l.trackingProperties),this.props.reset(),[2])}var d,u,c}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.handleNewVideoAdRequest()},n.prototype.componentDidUpdate=function(){this.handleNewVideoAdRequest()},n.prototype.render=function(){return null},n}(d.Component);var sh=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,Og._)(),(0,ce.VX)((function(e){var n=e.adFormatRequest,t=e.videoAdRequest,i=e.processAdRequest,a=e.setRadToken,r=e.reset,o=e.videoAdMetadata,s=(0,et.lq)(o)&&o||void 0;return{adFormatRequest:n,videoAdRequest:t,reset:r,setRadToken:a,processAdRequest:i,stitchedAdMetadata:s}})),(0,E.dd)((function(e){var n=e.videoAccessToken,t=e.mediaPlayerInstance;return{videoAccessToken:n,mediaPlayerInstance:t}})),(0,pe.c0)((function(e){var n=e.isFullscreen;return{isFullscreen:n}})),H.y,(0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})))(oh);var lh=t(190121),dh=t.n(lh),uh=t(55533),ch=t(876275);function ph(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,nh.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:mh(e.roll),timebreak:e.duration,tag:vh(n),content_labels:fh(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function mh(e){switch(e){case qv.d.Mid:return 2;case qv.d.Post:return 3;default:return 1}}function vh(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==Z.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===Z.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===Z.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,nh.mV)(e.tagName.toLowerCase())})).join("|")}function fh(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var gh=t(44377),hh=(0,_.Zz)((0,u.Ng)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,Kp.A)(),(0,pe.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,x.cj)((function(e){var n=e.behaviors;return{behaviors:n}})))((function(e){var n,t=!!(null===(n=e.behaviors)||void 0===n?void 0:n.mini);d.useEffect((function(){a()}));var a=function(){var n=e.adFormatRequest,t=e.processAdRequest,a=e.reset,o=e.rightColumnExpanded;if(n&&n.status===qv.s.Pending&&(0,wv.rF)(n.adFormat)&&!e.loading){var s=n;s.radsToken&&e.setRadToken(s.radsToken);var l=s.adFormat,d=r(l);if(d&&!n.forced)return e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([d])}),void a();var u=[];n.primaryFormats&&(u=(0,i.__spreadArray)([],n.primaryFormats,!0)),n.fallbackFormats&&(u=(0,i.__spreadArray)((0,i.__spreadArray)([],u,!0),n.fallbackFormats,!0));for(var c=[],p=0,m=u;p<m.length;p++){var v=m[p];switch(v){case gh.Z$.OUTSTREAM_VERTICAL_VIDEO:var f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;(f<768||g<400)&&(c.push(v),e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([uh.y.InvalidWindowSize]),format_name:(0,gh.uN)(v)}));break;case gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO:o||(c.push(v),e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([uh.y.RightColumnCollapsed]),format_name:(0,gh.uN)(v)}))}}t((0,i.__assign)((0,i.__assign)({},n),{declinedAdFormats:c}),function(e,n){return{content:n.content,sdk:ch.hJ.Amazon,broadcaster:n.broadcaster,currentUser:n.currentUser,game:n.game,video:n.video,server:n.server,tagParams:ph(e,n)}}(n,e))}},r=function(e){switch(e){case gh.Z$.LOWER_THIRD:case gh.Z$.SQUEEZEBACK:case gh.Z$.OUTSTREAM_VERTICAL_VIDEO:case gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO:return t?uh.y.MiniPlayer:void 0;default:return uh.y.InvalidFormat}};return null}));function yh(e){var n,t;return e.collection?null===(n=e.collection)||void 0===n?void 0:n.owner:e.video?null===(t=e.video)||void 0===t?void 0:t.owner:e.user}function kh(e){var n,t;if(e.collection){var i=null===(t=null===(n=e.collection)||void 0===n?void 0:n.items)||void 0===t?void 0:t.edges,a=i&&(0,V.bK)(i);if(a&&a.length>0)return a[0]}return e.video}function Sh(e){var n=yh(e),t=kh(e);return t?t.game:(null==n?void 0:n.stream)?n.stream.game:void 0}function _h(e){var n=yh(e),t=n&&n.adProperties;if(t)return t.adServerDefault||N.K.DFP}var Ch=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.adFormatRequest;return e&&(0,wv.rF)(e.adFormat)?(0,a.jsx)(hh,(0,i.__assign)({},this.props)):this.props.loading?null:(0,a.jsx)(sh,(0,i.__assign)({},this.props))},n}(d.Component),bh=(0,_.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,ce.VX)((function(e){var n=e.adFormatRequest,t=e.processAdRequest,i=e.setRadToken,a=e.reset,r=e.videoAdMetadata,o=(0,et.lq)(r)&&r||void 0;return{adFormatRequest:n,reset:a,setRadToken:i,processAdRequest:t,stitchedAdMetadata:o}})),(0,z._v)(dh(),{props:function(e){return{broadcaster:(n=e.data)&&yh(n)||null,currentUser:n&&n.currentUser||null,error:n&&n.error,game:n&&Sh(n)||null,inputVariables:n&&n.variables,loading:!(!n||!n.loading),server:n&&_h(n),video:n&&kh(n)||null};var n},options:function(e){var n=e.content;return{variables:{isLive:!!(0,j.DG)(n),login:(0,j.hd)(n)||"",isVOD:!!(0,j.wy)(n)||!(!(0,j.P3)(n)||!n.vodID),vodID:(0,j.hq)(n)||"",isCollection:!!(0,j.P3)(n)&&!n.vodID,collectionID:!(0,j.hq)(n)&&(0,j.Eq)(n)||""}}}}))(Ch);var Ph=t(269661),Eh=t(196254),xh=t(47320),Ah=t(716336),Nh=(0,_.Zz)((0,Og._)(),(0,Kp.A)())((function(e){var n=e.trackVideoAdData,t=e.trackAdFormatData,a=e.trackVideoRAdEvent,r=d.useContext(ce.jK),o=r.thirdPartyVideoAdElement,s=r.thirdPartyOutstreamVideoAdElement,l=r.thirdPartyCompanionAdElement,u=r.videoAdRequest,c=r.reset,p=r.resetOutstreamAd,m=r.fillClientSideAd,v=r.updateClientSideAdSelectionParams,f=r.adFormatRequest,g=d.useContext(x.kl).behaviors,h=d.useContext(E.$g).mediaPlayerInstance,y=d.useRef(!1),k=!(g&&g.declineVideoAdsReason),S=d.useCallback((function(){var e={reason:Ph.Z6};n("video_ad_request_error",e),a(Rg.V.VideoAdRequestError,e)}),[n,a]),_=(0,Ph.w6)({onAVAPLoadError:S,shouldInitializeAVAP:k,thirdPartyVideoAdElement:o,thirdPartyCompanionAdElement:l,thirdPartyOutstreamVideoAdElement:s}),C=_.sdkVersion,b=_.sdkUrl,P=_.amazonVideoAds;return d.useEffect((function(){var e,t=null!=u?u:wh(f)?f:null,r=new Date,o={emitting_service:"AdvantEdge",allocation_strategy:(null==t?void 0:t.mafsDecision)||"",date:r.toDateString(),stitched:!1,allocation_type:"PreFill",requested_format:null==t?void 0:t.adFormat.toString(),fallback_format:null===(e=null==t?void 0:t.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==t?void 0:t.adFormat.toString()};if(t&&t.status===qv.s.Processed&&t.sdk===wg.Amazon&&P&&h&&!y.current){y.current=!0,n("video_ad_request"),a(Rg.V.VideoAdRequest);var s=Date.now();n("ad_edge_request",o),function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var t,r,l,d,u,p,f,g,h,k,S,_,C,P,E,x,A=e.url,N=e.request,w=e.avap,I=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,w.fetchAds(A)];case 1:if(null==(t=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return t.init({fullscreen:!1,muted:I.isMuted(),volume:I.getVolume()}),n("video_ad_request_response"),n("ad_edge_request_response",{request_duration:Date.now()-s}),r=(0,xh.SS)({amazonVideoAds:w,adsManager:t,request:N,sdkUrl:b}),l=null===(_=r.adInfo)||void 0===_?void 0:_.adSystem,d=(0,i.__assign)((0,i.__assign)({},o),{player_mute:I.isMuted(),player_volume:I.getVolume(),ad_id:null===(C=r.adInfo)||void 0===C?void 0:C.adID,available_impression:r.numberOfAds,commercial_id:N.commercialID,break_length:N.duration,ad_position:r.adPosition,duration:N.duration,actual_duration:r.duration}),n("ad_csai_bid_parse_success",d),m(r,N),n("ad_csai_served_impressions",d),u=(0,Eh.o)(I,r.roll),p=u.videoBitrate,f=u.adBitrate,g=u.storedAdBitrate,v({isAutoQualityMode:null!==(P=I.isAutoQualityMode())&&void 0!==P&&P,currentVideoWidth:null!==(E=I.getVideoWidth())&&void 0!==E?E:0,currentVideoHeight:null!==(x=I.getVideoHeight())&&void 0!==x?x:0,currentVideoBitrate:p,maxAdBitrate:f,storedAdBitrate:g}),t.startAds(f),l&&"FAS"===l||n("ad_client_pod_start",d),[3,4];case 2:return h=e.sent(),k={reason:(0,Mg.d)(h,{useRawMessage:!0})},n("video_ad_request_error",k),a(Rg.V.VideoAdRequestError,k),S=(0,Mg.d)(h,{useRawMessage:!0}),n("ad_edge_request_error",(0,i.__assign)({error_message:S},o)),n("ad_csai_bid_parse_error",(0,i.__assign)({error_code:S},o)),c(),[3,4];case 3:return y.current=!1,[7];case 4:return[2]}}))}))}({url:(0,Ah.SD)({request:t,sdkVersion:C}),request:t,avap:P,mediaPlayer:h})}}),[f,u,P,y,h,m,v,c,n,a,b,C]),d.useEffect((function(){var e,n=null!=f||wh(f)?f:null,a=new Date,r={allocation_strategy:(null==n?void 0:n.mafsDecision)||"",date:a.toDateString(),stitched:!1,requested_format:null==n?void 0:n.adFormat.toString(),fallback_format:null===(e=null==n?void 0:n.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==n?void 0:n.adFormat.toString()};n&&n.status===qv.s.Preparing&&n.vast&&P&&h&&s&&!y.current&&(y.current=!0,function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var n,a,o,s,l,d,u,c,f,g,h,k,S,_,C=e.request,b=e.avap,P=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(e.trys.push([0,2,3,4]),!C.vast)throw new Error("No VAST was provided");return[4,b.parseAds(C.vast)];case 1:if(null==(n=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return a=(0,xh.SS)({amazonVideoAds:b,adsManager:n,request:C}),o=(0,Eh.o)(P,a.roll),s=o.videoBitrate,l=o.adBitrate,d=o.storedAdBitrate,n.init({fullscreen:!1,muted:!0,volume:P.getVolume()},{bitrate:l}),u=null===(g=a.adInfo)||void 0===g?void 0:g.adSystem,c=(0,i.__assign)((0,i.__assign)({},r),{player_mute:P.isMuted(),player_volume:P.getVolume(),ad_id:null===(h=a.adInfo)||void 0===h?void 0:h.adID,available_impression:a.numberOfAds,commercial_id:C.commercialID,break_length:C.duration,ad_position:a.adPosition,duration:C.duration,actual_duration:a.duration}),t("ad_csai_bid_parse_success",c),m(a,C),t("ad_csai_served_impressions",c),v({isAutoQualityMode:null!==(k=P.isAutoQualityMode())&&void 0!==k&&k,currentVideoWidth:null!==(S=P.getVideoWidth())&&void 0!==S?S:0,currentVideoHeight:null!==(_=P.getVideoHeight())&&void 0!==_?_:0,currentVideoBitrate:s,maxAdBitrate:l,storedAdBitrate:d}),u&&"FAS"===u||t("ad_client_pod_start",c),[3,4];case 2:return f=e.sent(),t("ad_request_error",{reason:(0,Mg.d)(f,{useRawMessage:!0})}),t("ad_csai_bid_parse_error",(0,i.__assign)({error_code:(0,Mg.d)(f,{useRawMessage:!0})},r)),p(),[3,4];case 3:return y.current=!1,[7];case 4:return[2]}}))}))}({request:n,avap:P,mediaPlayer:h}))}),[f,s,P,y,h,m,v,p,t]),null}));function wh(e){return void 0!==(null==e?void 0:e.adFormat)}var Ih,Th=t(518658),Dh=t(441519),Fh=t(361124),Oh=c.vF.withCategory("useSDATimers");!function(e){e[e.Reset=0]="Reset",e[e.NextRequest=1]="NextRequest"}(Ih||(Ih={}));var Rh=t(945869),Vh=c.vF.withCategory("OutstreamAdRequester");function Mh(e){return!(!e||e.adFormat!==gh.Z$.LOWER_THIRD&&e.adFormat!==gh.Z$.SQUEEZEBACK&&e.adFormat!==gh.Z$.OUTSTREAM_VERTICAL_VIDEO&&e.adFormat!==gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO)}var Lh=(0,Kp.A)()((function(e){var n=e.trackAdFormatData,t=e.trackAdFormatRAdEvent,a=d.useContext(ce.jK),r=a.adFormatRequest,o=a.reset,s=a.fillClientSideAd,l=a.prepareClientSideAd,u=a.transferClientSideAd,c=a.displaySDASequence,p=a.videoAdMetadata,m=a.resetOutstreamAd,v=a.updateLastSDAAdRequestBlocked,f=a.incrementSDARequestCount,g=a.updateDeclinedFormats,h=a.radToken,y=d.useContext(x.kl),k=y.behaviors,S=y.content,_=d.useContext(E.$g).mediaPlayerInstance,C=d.useContext(Iv.FO).onMirrorPbyPAdPodTrigger,b=d.useContext(pe._t).videoContainer,P=d.useContext(A.wL),N=P.volume,w=P.muted,I=!(!k||!k.declineVideoAdsReason),T=d.useRef(!1),D=d.useRef(!1),F=d.useRef(),O=d.useRef(""),R=d.useRef(0),V=d.useRef(0),M=d.useRef(0),L=d.useRef(0),j=d.useRef(0),B=d.useRef([]),U=d.useRef([]),q=d.useRef([]),G=d.useRef(!1);d.useEffect((function(){G.current=!!(null==p?void 0:p.stitched)}),[null==p?void 0:p.stitched]);var z=d.useRef(!1);d.useEffect((function(){z.current=!!(null==k?void 0:k.mini)}),[null==k?void 0:k.mini]);var H=function(){var e=d.useState(void 0),n=e[0],t=e[1];d.useEffect((function(){return function(){return clearTimeout(n)}}),[n]);var i=d.useState(void 0),a=i[0],r=i[1];d.useEffect((function(){return function(){return clearTimeout(a)}}),[a]);var o=d.useCallback((function(){return void 0!==n||void 0!==a}),[n,a]);return{clearAllSDATimeouts:d.useCallback((function(){void 0!==n&&(Oh.debug("Clearing the 'state reset' SDA timeout"),t(void 0)),void 0!==a&&(Oh.debug("Clearing the 'next request' SDA timeout"),r(void 0))}),[n,a]),setNewSDATimeout:d.useCallback((function(e,n){e===Ih.Reset?(Oh.debug("Updating the 'state reset' SDA timeout"),t(n)):e===Ih.NextRequest&&(Oh.debug("Updating the 'next request' SDA timeout"),r(n))}),[]),hasActiveTimeouts:o}}(),W=H.clearAllSDATimeouts,K=H.setNewSDATimeout,Z=H.hasActiveTimeouts,Q=d.useRef(Mh(r));return d.useEffect((function(){Q.current=Mh(r)}),[r]),d.useEffect((function(){if(!I&&r&&r.status===qv.s.Processed&&_&&!T.current){var e=r,t=e.adFormat,a=e.duration,d=e.sequenceLength,p=new Date,y={allocation_strategy:gh.Z$[t],date:p.toDateString(),sdk:ch.hJ.Amazon,emitting_service:"AdvantEdge",stitched:!1,pbyp_visible:!1,is_mafs:!!r.mafsDecision,eligible_formats:null,allocation_type:"PreFill",fallback_format:null};t&&(0,wv.rF)(t)&&(M.current=d&&Number(d)||1,R.current=Math.floor(a/M.current),V.current=M.current,T.current=!0,x(e,F.current,O.current))}function P(){c(!1),T.current=!1,D.current=!1,K(Ih.Reset,setTimeout((function(){G.current?(Vh.debug("Outstream ad requester is resetting the SDA state as a stitched ad is active"),m()):(Vh.debug("Outstream ad requester is resetting the ad context state"),o())}),1.5*Fh.P4))}function E(t){var a=this;K(Ih.NextRequest,setTimeout((function(){return(0,i.__awaiter)(a,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return V.current>0||!Q.current?[4,x(e,F.current,O.current)]:[3,2];case 1:return t.sent(),[3,3];case 2:Vh.debug("Outstream ad break has completed and will reset"),L.current>1&&n("ad_client_pod_completion",{flexsealTrackingProps:y,sda_sequence_length:L.current,sda_sequence_number:j.current}),P(),t.label=3;case 3:return[2]}}))}))}),t))}function x(t,o,d){return(0,i.__awaiter)(this,void 0,Promise,(function(){var p,x,A,I,H,W,K,Z,Y,X,$,J,ee,ne,te,ie,ae,re,oe,se,le,de,ue;return(0,i.__generator)(this,(function(ce){switch(ce.label){case 0:return ce.trys.push([0,2,3,4]),V.current<=0||G.current||z.current?(P(),[2]):(p=(0,wv.rF)(o)?o:t.adFormat,x=""!==d?d:t.mafsDecision,A=(0,Rh.zB)(p).size,I=M.current,H=M.current-V.current+1,Vh.debug("Outstream ad break is currently on ad ".concat(H,"/").concat(I)),1===H&&(Vh.info("resetting sda sequence parameters"),B.current=[],U.current=[],q.current=[],f()),W=(0,i.__assign)((0,i.__assign)({},t),{adFormat:p,mafsDecision:x,duration:R.current}),K=(0,Lg.L9)(new Dh.C,(0,i.__assign)((0,i.__assign)({},W),{duration:a})),I>1&&(L.current=I,j.current=H,Vh.info("applying sda sequence parameters to request"),K=K.withBlockedCreatives(B.current.join("|")).withBlockedAdvertisers(U.current.join("|")).withBlockedCategories(q.current.join("|")).withMaxSequence(I).withSequenceNumber(H)),Z=[],e.declinedAdFormats&&(Z=(0,i.__spreadArray)([],e.declinedAdFormats,!0)),H>1&&(Y=!1,Z.includes(gh.Z$.OUTSTREAM_VERTICAL_VIDEO)||(Z.push(gh.Z$.OUTSTREAM_VERTICAL_VIDEO),Y=!0),Z.includes(gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO)||(Z.push(gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO),Y=!0),Y&&g(e,Z)),K=K.withDeclinedFormats(Z),X=I>1?{sda_sequence_length:I,sda_sequence_number:H}:void 0,$=function(e,t){var a=null==r?void 0:r.adFormat;return H>1&&F.current&&(a=F.current),n(e,(0,i.__assign)((0,i.__assign)((0,i.__assign)({ad_size:JSON.stringify(A),format_name:(0,gh.uN)(a)},t||{}),X||{}),y))},J=function(e){var t=(0,bl.fX)("nab_gate"),i=(0,Te.If)();t&&void 0!==i&&!Te.l$.has(i)&&e<250&&(v(!0),n("nab_detection",{nab_value:"2",client_country_code:(0,Te.If)()}))},[4,Th.F.requestAd(K,$,J)]);case 1:if(ee=ce.sent()||{},V.current-=1,(0,Rh.Jp)(ee))ne=ee.resp,t.adFormat=ee.format,ee.format===gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO?(u((0,i.__assign)((0,i.__assign)({},t),{vast:ne}),t),C({adFormatRequest:t,vast:ne,resetAdContext:m,radToken:h,content:S,behaviors:k,videoContainer:b,videoSessionId:_&&_.getSessionData()["VIDEO-SESSION-ID"],videoVolume:N,videoMuted:w,mediaPlayerBitrate:null==_?void 0:_.getVideoBitRate()})):l((0,i.__assign)((0,i.__assign)({},t),{vast:ne}),t),V.current=0;else{if(te=null!==(ue=ee.resp)&&void 0!==ue?ue:{},!D.current&&te&&(0,wv.rW)(te.returnedAdFormat)&&te.updatedMafsDecision&&(F.current=te.returnedAdFormat,O.current=te.updatedMafsDecision,D.current=!0),!Q.current)return Vh.debug("Outstream ad break was aborted during ad request, so not filling the ad"),P(),[2];te.creativeHtml?(Vh.debug("got sda bid response, now ".concat(V.current," ads remaining"),te),te.adv&&te.adv.length>0&&!te.adv.find((function(e){return"amazon.com"===e.toLowerCase()}))&&(Vh.info("adding a new adv",te.adv),(le=U.current).push.apply(le,te.adv)),te.cat&&te.cat.length>0&&!te.cat.find((function(e){return"IAB22"===e.toUpperCase()}))&&(Vh.info("adding a new cat",te.cat),(de=q.current).push.apply(de,te.cat)),ie=(0,wv.rW)(F.current)?F.current:W.adFormat,ae=""===O.current?W.mafsDecision:O.current,re=(0,i.__assign)((0,i.__assign)({},W),{adFormat:ie,mafsDecision:ae}),oe=(0,Rh.V4)(re,te,X),s(oe,re),c(!0),1===H&&n("ad_client_pod_start",(0,i.__assign)({flexsealTrackingProps:y,format_name:(0,gh.uN)(te.returnedAdFormat),requested_ad_size:JSON.stringify(A)},X||{})),E(oe.duration*Fh.P4)):(Vh.debug("no sda returned, now ".concat(V.current," ads remaining")),E(0))}return[3,4];case 2:return se=ce.sent(),Vh.debug("caught an error while handling ad edge response",se),P(),[3,4];case 3:return T.current=V.current>0,[7];case 4:return[2]}}))}))}}),[r,c,s,l,_,o,m,K,I,n,t,v,f,g,C,u,h,S,k,b,N,w]),d.useEffect((function(){!Mh(r)&&Z()&&(Vh.debug("adFormatRequest has been reset while SDA timeouts are active. Clearing active timeouts"),W(),T.current=!1,D.current=!1)}),[r,W,Z]),d.useEffect((function(){r||(F.current=void 0,O.current="")}),[r]),null})),jh=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Nh,{}),(0,a.jsx)(Lh,{})]})},Bh=(0,b.O)()((function(e){var n=e.adEvents,t=d.useContext(ce.jK).updateAdStats;return d.useEffect((function(){var e=function(e){t(function(e){var n=e.adInfo;return{id:n&&n.adID||void 0,adPosition:n&&n.adPodInfo?n.adPodInfo.adPosition:void 0,adWrapperIds:n&&n.adWrapperIds||void 0,creativeId:n&&n.creativeID||void 0,duration:n&&n.duration||void 0,impressionTime:Date.now(),totalAds:n&&n.adPodInfo?n.adPodInfo.totalAds:void 0,system:n&&n.adSystem||void 0,title:n&&n.title||void 0,contentType:n&&n.contentType||void 0,vastMediaHeight:n&&void 0!==n.vastMediaHeight?n.vastMediaHeight:void 0,vastMediaWidth:n&&void 0!==n.vastMediaWidth?n.vastMediaWidth:void 0,vastMediaBitrate:n&&void 0!==n.vastMediaBitrate?n.vastMediaBitrate:void 0,mediaUrl:n&&n.mediaUrl||void 0}}(e))};return n.addEventListener(N.V.Impression,e),function(){n.removeEventListener(N.V.Impression,e)}}),[n,t]),null}));var Uh=t(80515),qh=t(345732),Gh=t(509611),zh=t(213541),Hh=(0,_.Zz)((0,b.O)(),(0,Kp.A)(),(0,zh.B)(),(0,ce.VX)((function(e){var n=e.muted,t=e.volume,i=e.adFormatMetadata,a=e.adFormatRequest,r=e.resetOutstreamAd,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams,c=e.updateOutstreamAdDisplayStatus;return{adMuted:n,adVolume:t,resetOutstreamAd:r,adFormatMetadata:i,adFormatRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u,updateOutstreamAdDisplayStatus:c}})),(0,E.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,volume:e.volume,muted:e.muted}})))((function(e){var n=e.adVolume,t=e.adMuted,i=e.adFormatMetadata,a=e.adFormatRequest,r=e.clientSideAdSelectionParams,o=e.resetOutstreamAd,s=e.startClientSideAd,l=e.updateAdVolume,u=e.updateAdMuted,c=e.updateAdPlaying,p=e.updateOutstreamAdDisplayStatus,m=e.mediaPlayerInstance,v=e.volume,f=e.muted,g=e.getInitialMuteState,h=e.getAdjustedVolume,y=e.shouldAdjustVolume,k=e.trackAdFormatData,S=e.trackAdFormatRAdEvent,_=new Map;_.set(N.V.Resumed,(0,d.useCallback)((function(){c(!0)}),[c])),_.set(N.V.Paused,(0,d.useCallback)((function(){c(!1)}),[c])),_.set(N.V.ContentPauseRequested,(0,d.useCallback)((function(e){var n=e.event,t=null!=v?v:.5;n.videoAd.setVolume(t),n.videoAd.setMuted(!0),u(!0)}),[v,u])),_.set(N.V.VolumeChanged,(0,d.useCallback)((function(e){var n=e.event;l(n.volume)}),[l]));var C=(0,d.useCallback)((function(e){var n=e.event,t=n;if(u(t.muted),!t.muted){var i=t.videoAd.getVolume(),a=h(i),r=y(i)?a:v,o=Math.max(r||0,.1);n.videoAd.setVolume(o),null==m||m.setMuted(!0)}}),[u,h,y,v,m]);_.set(N.V.Muted,C),_.set(N.V.Unmuted,C),_.set(N.V.Started,(0,d.useCallback)((function(e){var n,t=e.event,a=t.adInfo&&t.adInfo.adPodInfo,r=t.adInfo;c(!0),s({adFormat:null!==(n=null==i?void 0:i.adFormat)&&void 0!==n?n:gh.Z$.OUTSTREAM_VERTICAL_VIDEO,position:a&&a.adPosition||1,numberOfAds:a&&a.totalAds||1,adInfo:r})}),[null==i?void 0:i.adFormat,s,c]));var b=(0,d.useCallback)((function(){var e=g();e!==!!f&&(null==m||m.setMuted(e)),p("hiding");var n=setTimeout((function(){o()}),1e3);return function(){return clearTimeout(n)}}),[g,m,f,o,p]);return _.set(N.V.Error,b),_.set(N.V.ContentResumeRequested,b),(0,Gh.Z)({adMuted:t,adVolume:n,adFormatMetadata:i,adFormatRequest:a,clientSideAdSelectionParams:r,mainPlayerVolume:v,eventSideEffectOptions:_,reset:o,trackAdFormatData:k,trackAdFormatRAdEvent:S,addEventListener:e.adEvents.addEventListener}),null}));var Wh,Kh,Zh,Qh=function(){var e=d.useContext(E.$g).mediaPlayerInstance,n=(0,Sl.O)(d.useContext(x.kl)),t=d.useContext(kt.g7).track;return(0,M.p)(L.a.METADATA,d.useCallback((function(i){var a;try{if("text/json"!==i.type)return;var r=void 0;try{r=JSON.parse(i.data)}catch(e){return void c.x2.logger.warn("failed to parse metadata event")}if("twitch-session"!==r.CLASS)return;if(void 0===r["X-TV-TWITCH-SESSIONID"]||void 0===r["START-DATE"])return;var o=null===(a=null==e?void 0:e.getSessionData())||void 0===a?void 0:a["VIDEO-SESSION-ID"],s=r["X-TV-TWITCH-SESSIONID"],l=r["START-DATE"];o!==s&&void 0!==s&&t("ads_hank",{player:n,video_session_id:o,hank_id:"hs",hank_payload:JSON.stringify({hank_session_id:s,hank_start_time:l})})}catch(e){}}),[e,n,t])),null},Yh=t(192453);!function(e){e.Paused="AdPaused",e.Playing="AdPlaying",e.Stopped="AdStopped",e.VideoComplete="AdVideoComplete",e.VideoFirstQuartile="AdVideoFirstQuartile",e.VideoMidpoint="AdVideoMidpoint",e.VideoStart="AdVideoStart",e.VideoThirdQuartile="AdVideoThirdQuartile",e.VolumeChanged="AdVolumeChanged"}(Wh||(Wh={})),function(e){e.Start="start",e.FirstQuartile="first-quartile",e.Midpoint="midpoint",e.ThirdQuartile="third-quartile",e.Complete="complete"}(Kh||(Kh={})),function(e){e.Stitched="stitched",e.VAES="vaes"}(Zh||(Zh={}));function Xh(e){var n=e.clearMoatAnalytics,t=e.initializeMoatAnalytics,i=e.trackMoatEvent,a=e.currentMoatAnalyticsType,r=d.useCallback((function(e){a===Zh.VAES&&i(e)}),[a,i]);(0,ff._)(N.V.Loaded,d.useCallback((function(e){(function(e){var n=e.request;return!(!n.server||n.server!==N.K.VAES)})(e)&&e.adInfo&&t({type:Zh.VAES,duration:e.adInfo.duration,adCfId:e.adInfo.adCfId,advertiserCfId:e.adInfo.advertiserCfId,campaignCfId:e.adInfo.campaignCfId,creativeCfId:e.adInfo.creativeCfId})}),[t])),(0,ff._)(N.V.Progress,d.useCallback((function(){return r(Wh.Playing)}),[r])),(0,ff._)(N.V.Paused,d.useCallback((function(){return r(Wh.Paused)}),[r])),(0,ff._)(N.V.VolumeChanged,d.useMemo((function(){return(0,Yh.n)((function(){r(Wh.VolumeChanged)}),5e3)}),[r])),(0,ff._)(N.V.Started,d.useCallback((function(){return r(Wh.VideoStart)}),[r])),(0,ff._)(N.V.FirstQuartile,d.useCallback((function(){return r(Wh.VideoFirstQuartile)}),[r])),(0,ff._)(N.V.Midpoint,d.useCallback((function(){return r(Wh.VideoMidpoint)}),[r])),(0,ff._)(N.V.ThirdQuartile,d.useCallback((function(){return r(Wh.VideoThirdQuartile)}),[r])),(0,ff._)(N.V.Complete,d.useCallback((function(){return r(Wh.VideoComplete)}),[r])),(0,ff._)(N.V.ContentResumeRequested,d.useCallback((function(){r(Wh.Stopped),n()}),[r,n]))}var $h="unknown";function Jh(e){var n=e.videoAdRequest;if(!n||n.status!==qv.s.Processed&&n.status!==qv.s.Filled)return $h;var t=n.broadcaster&&n.broadcaster.login,i=n.game&&n.game.name.toLowerCase().replace(/[^a-z0-9]+/g,"_"),a=t||$h;return i?"".concat(a," + ").concat(i):a}var ey,ny,ty="www.twitch.tv";function iy(e){var n=d.useContext(ce.jK),t=function(){var e=d.useContext(ce.jK).volume,n=d.useContext(A.wL),t=n.volume,i=n.muted,a=d.useRef(e),r=d.useRef(t),o=d.useRef(i);return d.useEffect((function(){a.current=e,r.current=t,o.current=i})),d.useCallback((function(e){return o.current?0:e===Zh.VAES?a.current:r.current}),[])}(),i=d.useState(null),a=i[0],r=i[1],o=d.useState(null),s=o[0],l=o[1],u=d.useCallback((function(){r(null),l(null)}),[r]),c=d.useCallback((function(n){var t=window.navigator.languages||window.navigator.language||"";e("video_ad_moat_viewability_event",{accept_languages:t,query_string:n.queryString,stitched:n.stitched,ad_server:n.adServer,provider:n.provider})}),[e]),p=d.useCallback((function(e){if(e.type===Zh.VAES){var t={level1:e.advertiserCfId,level2:e.campaignCfId,level3:e.adCfId,level4:e.creativeCfId,slicer1:ty,slicer2:Jh(n)};r(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/va.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:ey.VAES,provider:ny.Amazon,stitched:!1,queryString:e})}))),l(Zh.VAES)}else if(e.type===Zh.Stitched){t={level1:e.advertiserId,level2:e.campaignId,level3:e.adId,level4:e.creativeId,slicer1:ty,slicer2:Jh(n)};r(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/nat.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:ey.VAES,provider:ny.Fring,stitched:!0,queryString:e})}))),l(Zh.Stitched)}}),[r,n,c]),m=d.useCallback((function(e,n){if(void 0===n&&(n={}),a){var i=void 0===n.volume?t(s):n.volume;a.dispatchEvent({adVolume:i||0,type:e})}}),[a,t,s]);return{moatAnalytics:a,currentMoatAnalyticsType:s,initializeMoatAnalytics:p,clearMoatAnalytics:u,trackMoatEvent:m}}!function(e){e.VAES="vaes"}(ey||(ey={})),function(e){e.Amazon="amazon",e.Fring="fring"}(ny||(ny={}));var ay=5e3;var ry,oy=t(962270);function sy(e){if(e)return e.status===qv.s.Filled||e.status===qv.s.Processed?e.server:void 0}!function(e){e.StartTracking="start-tracking",e.StopTracking="stop-tracking",e.Track="track",e.TrackStart="track-start",e.TrackFirstQuartile="track-first-quartile",e.TrackMidpoint="track-midpoint",e.TrackThirdQuartile="track-third-quartile",e.TrackComplete="track-complete"}(ry||(ry={}));var ly=function(e,n){var t;switch(n.type){case ry.StartTracking:return(0,i.__assign)((0,i.__assign)({},e),{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:{duration:n.adDuration,startTime:n.adStartTime}});case ry.StopTracking:return(0,i.__assign)((0,i.__assign)({},e),{currentAd:null});case ry.Track:return e.currentAd?(0,i.__assign)((0,i.__assign)({},e),{hasTracked:(0,i.__assign)((0,i.__assign)({},e.hasTracked),(t={},t[n.quartile]=!0,t))}):e;default:return e}};function dy(e){var n,t,i,a,r=e.initializeMoatAnalytics,o=e.trackMoatEvent,s=e.clearMoatAnalytics,l=e.currentMoatAnalyticsType,u=d.useCallback((function(e,n){void 0===n&&(n={}),l===Zh.Stitched&&o(e,n)}),[o,l]),c=function(e){var n=d.useContext(E.$g).mediaPlayerInstance,t=d.useReducer(ly,{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:null}),i=t[0],a=t[1],r=d.useCallback((function(e){a({type:ry.StartTracking,adDuration:e.adDuration,adStartTime:e.adStartTime})}),[a]),o=d.useCallback((function(){a({type:ry.StopTracking})}),[a]),s=d.useCallback((function(n){e(n,o)}),[e,o]),l=d.useCallback((function(){if(i.currentAd&&n){var e=n.getPosition(),t=i.currentAd,r=t.duration,o=(r+t.startTime-e)/r;o<=.02?i.hasTracked.complete||(a({type:ry.Track,quartile:"complete"}),s(Kh.Complete)):o<.25?i.hasTracked.thirdQuartile||(a({type:ry.Track,quartile:"thirdQuartile"}),s(Kh.ThirdQuartile)):o<.5?i.hasTracked.midpoint||(a({type:ry.Track,quartile:"midpoint"}),s(Kh.Midpoint)):o<.75?i.hasTracked.firstQuartile||(a({type:ry.Track,quartile:"firstQuartile"}),s(Kh.FirstQuartile)):o<.99&&(i.hasTracked.start||(a({type:ry.Track,quartile:"start"}),s(Kh.Start)))}}),[i,n,s]);return(0,M.p)(L.a.TIME_UPDATE,l),{startStitchedQuartileTracking:r,stopStitchedQuartileTracking:o}}(d.useCallback((function(e,n){switch(e){case Kh.Start:u(Wh.VideoStart);break;case Kh.FirstQuartile:u(Wh.VideoFirstQuartile);break;case Kh.Midpoint:u(Wh.VideoMidpoint);break;case Kh.ThirdQuartile:u(Wh.VideoThirdQuartile);break;case Kh.Complete:u(Wh.VideoComplete),n(),s()}}),[u,s])),p=c.startStitchedQuartileTracking,m=c.stopStitchedQuartileTracking;n=d.useCallback((function(e){var n=e.adMetadata,t=e.adServer,i=e.startTime;p({adDuration:n.duration,adStartTime:i}),r({type:Zh.Stitched,duration:n.duration,adId:n.lineItemId,creativeId:n.creativeId,advertiserId:n.advertiserId,campaignId:n.orderId,adServer:t})}),[r,p]),t=d.useRef(),i=d.useContext(ce.jK),a=d.useContext(E.$g).mediaPlayerInstance,d.useEffect((function(){i.videoAdMetadata&&i.videoAdMetadata.stitched&&(t.current&&t.current.videoAdMetadata===i.videoAdMetadata||!a||n({adMetadata:i.videoAdMetadata,adServer:sy(i.videoAdRequest),startTime:a.getPosition()}))}),[t,i,n,a]),d.useEffect((function(){t.current=i}),[i]),function(e){var n=d.useContext(E.$g).mediaPlayerInstance,t=d.useMemo((function(){return(0,Yh.n)((function(){var t=n&&n.isMuted()?0:n&&n.getVolume();e(t)}),ay)}),[e,n]);(0,M.p)(L.a.VOLUME_CHANGED,t),(0,M.p)(L.a.MUTED_CHANGED,t)}(d.useCallback((function(e){u(Wh.VolumeChanged,{volume:e})}),[u])),(0,oy.i)({onPlay:d.useCallback((function(){u(Wh.Playing)}),[u]),onPause:d.useCallback((function(){u(Wh.Paused)}),[u])}),d.useEffect((function(){var e=function(){u(Wh.Stopped),m(),s()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[u,m,s])}var uy=(0,Og._)()((function(e){var n=iy(e.trackVideoAdData);return Xh(n),dy(n),null})),cy=(0,_.Zz)((0,Kp.A)())((function(e){var n=(0,d.useContext)(ce.jK),t=n.adFormatRequest,i=n.videoAdMetadata,a=(0,d.useContext)(x.kl).behaviors,r=(0,d.useContext)(Iv.FO).resetMirrorPbyPAd,o=e.trackAdFormatData;return(0,d.useEffect)((function(){var e=(null==t?void 0:t.status)===qv.s.Transferred&&t.adFormat===gh.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,n=!1,s="";(null==i?void 0:i.stitched)?(n=!0,s="SureStream"):(null==a?void 0:a.mini)&&(n=!0,s="MINI"),e&&n&&(o("ad_opportunity_abort",{abort_reason:s}),r())}),[null==t?void 0:t.adFormat,null==t?void 0:t.status,null==a?void 0:a.mini,o,r,null==i?void 0:i.stitched]),null})),py=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){try{if("text/json"===e.type){var t=void 0;try{t=JSON.parse(e.data)}catch(e){return void c.x2.logger.warn("failed to parse pbyp metadata")}if(!t)return void c.x2.logger.warn("failed to parse pbyp metadata");if("live-video-net-metadata"===t.CLASS&&"pbyp-preflight"===t["X-NET-LIVE-VIDEO-METADATA-TYPE"]){var i=(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WEIGHTED-BUCKETS"]||"").split(","),a={jitterTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-TIME"]||"",10),jitterBuckets:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-BUCKETS"]||"",10),warmupTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WARMUP-TIME"]||"",10),commercialId:t["X-NET-LIVE-VIDEO-METADATA-PBYP-COMMERCIAL-ID"]||"",weightedBuckets:i.map((function(e){return parseFloat(e)}))},r=a.weightedBuckets.reduce((function(e,n){return e+n}));isNaN(a.jitterTime)||isNaN(a.jitterBuckets)||isNaN(a.warmupTime)||!a.commercialId||1!==r||n.props.onMainPlayerHLSTrigger(a)}}}catch(e){c.x2.logger.errorAndReport(e,"Unable to create metadata for pbyp preflight.")}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n}(d.Component),my=(0,_.Zz)((0,Iv.dC)((function(e){return{onMainPlayerHLSTrigger:e.onMainPlayerHLSTrigger}})),(0,P.X)())(py);var vy=t(787755),fy=["US"],gy=function(){var e=(0,Te.If)()||"";return fy.includes(e)&&"active"===c.x2.experiments.getAndTrackAssignment("twilight_p_4")?45:30};function hy(e){return(null==e?void 0:e.split(",").map((function(e){var n=parseInt(e,10);return n in gh.Z$?n:void 0})).filter((function(e){return void 0!==e})))||[]}var yy=t(174752),ky=t.n(yy),Sy=(0,_.Zz)((0,x.cj)((function(e){return{content:e.content}})),(0,z._v)(ky(),{props:function(e){var n=e.data;return{broadcastType:Cy(n),adProperties:_y(n)}},options:function(e){var n=e.content;return{variables:{isVOD:!!(0,j.wy)(n)||!(!(0,j.P3)(n)||!n.vodID),vodID:(0,j.hq)(n)||"",isCollection:!!(0,j.P3)(n)&&!n.vodID,collectionID:!(0,j.hq)(n)&&(0,j.Eq)(n)||""}}}}))((function(e){var n=d.useContext(ce.jK),t=n.videoAdMetadata,i=n.requestAd,a=d.useContext(A.wL).isPlaying,r=e.adProperties,o=e.broadcastType,s=r&&r.hasVodAdsEnabled,l=r&&r.vodArchiveMidrolls,u=r&&r.vodArchiveMidrollsBreakLength,c=r&&r.vodArchiveMidrollsFrequency,p=o===$e.Suw.ARCHIVE||o===$e.Suw.PAST_PREMIERE,m=function(e,n){var t=(0,d.useRef)(0),i=(0,d.useRef)(0),a=(0,d.useRef)(0),r=(0,d.useCallback)((function(){i.current=0,a.current=0,clearTimeout(t.current)}),[]),o=(0,d.useCallback)((function(){a.current=Date.now();var s=e-i.current;clearTimeout(t.current),t.current=window.setTimeout((function(){n(),r(),o()}),s)}),[n,e,r]),s=(0,d.useCallback)((function(){clearTimeout(t.current),a.current>0&&(i.current=Date.now()-a.current+i.current)}),[]);return(0,d.useEffect)((function(){return r}),[r,e,n]),{start:o,pause:s,stop:r}}(6e4*(c||0),d.useCallback((function(){i({adFormat:gh.gz.STANDARD_VIDEO,sessionID:(0,nh.SG)(),roll:qv.d.Mid,duration:u||30})}),[i,u])),v=m.start,f=m.pause,g=m.stop,h=!(s&&c&&p&&"inserted"===l&&!t);return d.useEffect((function(){h?g():a?v():f()}),[h,a,v,g,f]),null}));function _y(e){return e?e.video?e.video.owner&&e.video.owner.adProperties:e.collection?e.collection.owner&&e.collection.owner.adProperties:null:null}function Cy(e){if(!e)return null;if(e.video)return e.video.broadcastType;if(e.collection){var n=e.collection&&e.collection.items&&e.collection.items.edges,t=n&&(0,V.bK)(n);if(t&&t.length>0)return t[0].broadcastType}return null}var by,Py=(0,_.Zz)((0,Og._)(),(0,Kp.A)())((function(e){var n=e.trackVideoAdData,t=e.trackAdFormatData,i=d.useContext(ce.jK),r=i.requestAd,o=i.videoAdRequest,s=i.adFormatMetadata,l=i.resetOutstreamAd,u=i.updateOutstreamAdDisplayStatus,p=i.adFormatRequest,m=d.useContext(E.$g),v=d.useContext(x.kl).content,f=m.hasPlayed,g=m.logger,h=d.useContext(Iv.FO).resetMirrorPbyPAd,y=(0,fe.k1)(m),k=d.useRef(y),S=d.useRef(f),_=(0,j.Jn)(v);(0,M.p)(vf.ID3,d.useCallback((function(e){if(!(0,j.DG)(v)||!(0,bl.fX)("VLM_HLS_Midrolls")){var n=function(e){var n=Pg(e);return n&&"commercial"===n.cmd&&n.length&&n.commercial_id?{duration:n.length,commercialID:n.commercial_id,spliceEventID:n.splice_event_id,availNum:n.avail_num}:null}(e);n&&r({sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,roll:qv.d.Mid,duration:+n.duration,broadcasterInitiated:!0,commercialID:n.commercialID})}}),[r,v])),(0,M.p)(L.a.METADATA,d.useCallback((function(e){if((0,bl.fX)("VLM_HLS_Midrolls"))try{if("text/json"===e.type){var i=void 0;try{i=JSON.parse(e.data)}catch(e){return void g.warn("failed to parse client ad metadata")}if(!i)return void g.warn("failed to parse client ad metadata");if("twitch-maf-ad"===i.CLASS&&i["X-TTV-MAF-AD-COMMERCIAL-ID"]&&i["X-TTV-MAF-AD-AD-SESSION-ID"]&&i["X-TTV-MAF-AD-PRIMARY-POD"]&&i["PLANNED-DURATION"]){var a=parseInt(i["PLANNED-DURATION"],10),d=i["X-TTV-MAF-AD-RADS-TOKEN"],m=i["X-TTV-MAF-AD-AD-SESSION-ID"]||(0,nh.SG)(),v=i["X-TTV-MAF-AD-COMMERCIAL-ID"],f=i["X-TTV-MAF-AD-DECISION"],y=hy(i["X-TTV-MAF-AD-PRIMARY-POD"]),k=hy(i["X-TTV-MAF-AD-FALLBACK-FORMATS"]);if(n("ad_request_client_trigger_received",{allocation_type:"PreFill",break_length:a,format_name:(0,gh.uN)(y[0]),fallback_format_name:(0,gh.uN)(k[0]),is_mafs:!!f,commercial_id:v,stitched:!1,roll_type:qv.d.Mid,ad_session_id:m,twitch_correlator:null==o?void 0:o.twitchCorrelator,main_play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0}),y.length>0&&(0,wv.rF)(y[0])){g.debug("outstream ad metadata event",{duration:a,primaryPod:y,fallbackFormats:k,radsToken:d,adSessionId:m});var S=(null==s?void 0:s.adFormat)===gh.Z$.OUTSTREAM_VERTICAL_VIDEO,_=(null==p?void 0:p.status)===qv.s.Transferred;(S||_)&&t("ad_opportunity_abort",{abort_reason:"NextOutstreamAd"}),S&&(u("hiding"),setTimeout((function(){l()}),1e3)),_&&h(),r({adFormat:y[0],sessionID:m,duration:a,roll:qv.d.Mid,commercialID:v,radsToken:d,isVLM:!0,mafsDecision:f,sequenceLength:i["X-TTV-MAF-AD-SDA-SEQUENCE-LENGTH"],primaryFormats:y,fallbackFormats:k})}else y.length>0&&f&&(0,wv.zf)(y[0])&&r({adFormat:y[0],sessionID:m,duration:a,roll:qv.d.Mid,broadcasterInitiated:!0,commercialID:v,radsToken:d,isVLM:"1"===i["X-TV-TWITCH-AD-VLM"],mafsDecision:f})}}}catch(e){g.errorAndReport(e,"Unable to create request for client side ad.")}}),[g,n,null==o?void 0:o.twitchCorrelator,null==s?void 0:s.adFormat,null==p?void 0:p.status,r,t,u,l,h])),d.useEffect((function(){!y&&k.current?(r({sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,roll:qv.d.Pre,duration:gy()}),k.current=!1):y&&(k.current=!0)}),[y,k,r]),(0,M.p)(w.p.ENDED,d.useCallback((function(){f&&(0,j.DG)(v)&&r({sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,roll:qv.d.Post,duration:30})}),[r,f,v]));var C=d.useRef(!1);return(0,M.p)(w.p.READY,d.useCallback((function(){return C.current=!0}),[])),(0,M.p)(L.a.DURATION_CHANGED,d.useCallback((function(){if(C.current){var e={sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,roll:qv.d.Pre,duration:gy(),forced:!1};C.current=!1,r(function(e){var n=Ie.parse(e);if(!(n.force_preroll||n.force_midroll||n.force_postroll||n.force_lower_third_display||n.force_squeezeback_display))return null;var t={sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,duration:30,forced:!0,roll:qv.d.Pre};n.force_midroll&&(t.roll=qv.d.Mid,t.duration=parseInt(n.force_midroll.toString(),10)||30);n.force_postroll&&(t.roll=qv.d.Post);n.force_lower_third_display&&(t.adFormat=gh.Z$.LOWER_THIRD,t.duration=parseInt(n.force_lower_third_display.toString(),10)||10,t.roll=qv.d.Mid,t.mafsDecision=vy.LOWER_THIRD_MAFS_DECISION);n.force_squeezeback_display&&(t.adFormat=gh.Z$.SQUEEZEBACK,t.duration=parseInt(n.force_squeezeback_display.toString(),10)||10,t.roll=qv.d.Mid,t.mafsDecision=vy.SQUEEZEBACK_MAFS_DECISION);return t}(window.location.search)||e)}}),[r])),d.useEffect((function(){!f||S.current||_||r({sessionID:(0,nh.SG)(),adFormat:gh.gz.STANDARD_VIDEO,roll:qv.d.Pre,duration:gy()}),S.current=f}),[r,f,_]),(0,a.jsx)(Sy,{})})),Ey=v.x.wrap((function(){return t.e(27230).then(t.bind(t,362791))}),"PushdownSDAEligibilityHandler",{failSilently:!0,placeholder:null}),xy=(0,Ge.X)({name:"VideoAds"})((function(){var e=(0,u.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),u.bN).firstPageLoaded;return(0,a.jsxs)(Ig,{children:[(0,a.jsx)(Py,{}),(0,a.jsx)(bh,{}),(0,a.jsx)(jh,{}),(0,a.jsx)(qh.b3,{}),(0,a.jsx)(Hh,{}),(0,a.jsx)(Bh,{}),(0,a.jsx)(Ov.Tm,{}),(0,a.jsx)(uy,{}),(0,a.jsx)(my,{}),(0,a.jsx)(Uh.c,{}),e&&(0,a.jsx)(Ey,{}),(0,a.jsx)(Qh,{}),(0,a.jsx)(cy,{})]})})),Ay=t(122560),Ny=t(59470),wy=t(128633),Iy=t(701022),Ty=t(543256),Dy=(t(400989),(0,_.Zz)((0,Kp.A)(),(0,Ge.X)({name:"StreamDisplayAd"}))((function(e){var n,t,i=d.useContext(Iy.OK),o=i.hasActiveBid,s=i.curFrame,u=i.iframeEl1,c=i.iframeEl2,p=i.sdaFormat,m=i.sdaMode,v=i.reportMount,f=i.reportUnmount,g=e.format,h=d.useContext(ce.jK).adFormatMetadata,y=(0,et.I9)(h)?h:void 0,k=o&&e.format===p&&(p!==gh.Z$.LOWER_THIRD||m!==Iy.bi.Pushdown);d.useEffect((function(){var n={format:g,mode:Iy.bi.InVideo,isSkyscraper:e.isSkyscraper};k?v(n):f(n)}),[g,e.isSkyscraper,v,f,k]);var S=(null==h?void 0:h.adFormat)===gh.Z$.SQUEEZEBACK&&(160!==e.adDimensions.width||600!==e.adDimensions.height),_=d.useState({}),C=_[0],b=_[1],P=d.useState({}),E=P[0],x=P[1];if(d.useEffect((function(){S&&(1===s?b({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}):2===s&&x({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}))}),[s,e.adDimensions.height,e.adDimensions.width,e.containerDimensions.height,e.containerDimensions.width,S]),!k)return null;var A=(null==h?void 0:h.adFormat)===gh.Z$.LOWER_THIRD?"lower-third":"squeezeback",N=l()(((n={})["stream-display-ad__iframe_".concat(A)]=!0,n["stream-display-ad__iframe_".concat(A,"--visible")]=1===s,n["stream-display-ad__iframe_".concat(A,"--hidden")]=2===s,n)),w=l()(((t={})["stream-display-ad__iframe_".concat(A)]=!0,t["stream-display-ad__iframe_".concat(A,"--visible")]=2===s,t["stream-display-ad__iframe_".concat(A,"--hidden")]=1===s,t)),I=(0,Ty.c0)(),T=S?"mirrorc":(null==h?void 0:h.adFormat)===gh.Z$.LOWER_THIRD?wv.iN.stream.lowerthird:(null==h?void 0:h.adFormat)===gh.Z$.SQUEEZEBACK?wv.iN.stream.squeezeback:"",D=S?e.containerDimensions.width:e.adDimensions.width,F=S?"1 1.1":"1",O=(0,et.DU)(null==y?void 0:y.bid)?null==y?void 0:y.bid:void 0,R=void 0!==O?(0,wv.A9)(O,T,null==y?void 0:y.adSessionId):{adInput:{advertiserIDNS:"",campaignIDNS:""},clientInput:{},countryInfo:{geoCode:null,isFromEU:!1}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("iframe",{"aria-hidden":2===s,"data-test-selector":by.IFrame1,className:N,style:1===s?C:void 0,title:I,ref:u,scrolling:"no",marginHeight:0,marginWidth:0}),(0,a.jsx)("iframe",{"aria-hidden":1===s,"data-test-selector":by.IFrame2,className:w,style:2===s?E:void 0,title:I,ref:c,scrolling:"no",marginHeight:0,marginWidth:0}),(0,a.jsx)(r.P,{position:"relative",margin:"auto",style:{width:D,scale:F},children:(0,a.jsx)(wy.V,{dsaContext:R,format:T,rendersInVideoPlayer:!0})})]})}))),Fy=t(319224),Oy=v.x.wrap((function(){return Promise.all([t.e(72180),t.e(93360)]).then(t.bind(t,989472))}),"BrandLiftSurveyManager",{placeholder:null,failSilently:!0}),Ry=v.x.wrap((function(){return Promise.all([t.e(18051),t.e(99605)]).then(t.bind(t,859039))}),"TurboSDAUPsell",{placeholder:null,failSilently:!0});!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(by||(by={}));var Vy,My=(0,_.Zz)((0,Ge.X)({name:"LowerThirdContainer"}))((function(e){var n,t,r,o=e.injectStyles,s=(0,Rh.zB)(gh.Z$.LOWER_THIRD).slotId,u=(0,gh.Zj)(gh.Z$.LOWER_THIRD),c=e.sdaVerticalOffset,p=e.scaledAdDimensions,m=e.sdaScale,v=d.useContext(pe._t),f=d.useContext(A.wL),g=d.useContext(yt.MP),h=d.useContext(x.kl),y=d.useContext(ce.jK),k=d.useContext(E.$g),S=d.useContext(Ny.DV),_=d.useContext(He.m9),C=null===(n=h.behaviors)||void 0===n?void 0:n.mini,b=null===(t=h.behaviors)||void 0===t?void 0:t.disableSDAUpsell,P=(0,Fy.f)(),N=(0,Ze.U0)(),w=N.isTurboSDAUpsellShowing,I=N.closeTurboSDAUpsell,T=w&&P&&!C,D=(0,i.__assign)((0,i.__assign)({uiContext:v,videoPlaybackContext:f,playerPublicPropsContext:h},g),{adContext:y,playerContext:k,channelSkinsContext:S,brandLiftContext:_,isTurboSDAUpsellShowing:T}),F=d.useContext(He.m9),O=F.startVideoSession,R=F.isSurveyOpportunity,V=F.isSurveyShowing,M=F.setRefetchEnabled,L=F.retriggerTimer,B=R||V,U=(0,j.hd)(h.content)||null,q=(0,Ja.Z)(U),G=(0,Jv.SU)(D)&&!V?Math.max(44,c):c,z={height:"".concat(p.height+G,"px")},H=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},u),o),z),W=y.adFormatMetadata,K=y.isDisplayingSDASequence,Z=d.useState(!1),Q=Z[0],Y=Z[1],X=(0,et.I9)(W)?(null===(r=W.trackingParams)||void 0===r?void 0:r.sda_sequence_number)||0:void 0;d.useEffect((function(){if(X){Y(!0);var e=setTimeout((function(){Y(!1)}),500);return function(){clearTimeout(e)}}Y(!1)}),[X]),d.useEffect((function(){q&&q!==U&&(clearTimeout(L.current),O(),M(!0))}),[U,q,L,M,O]),d.useEffect((function(){!P&&w&&I(),q&&q!==U&&I(),b&&I()}),[I,U,q,P,w,b]);var $={transform:"translateX(-50%) scale(".concat(m,")"),transition:Q?"scale ".concat(500,"ms ease-in-out"):void 0},J={height:"".concat(p.height,"px"),width:"".concat(p.width,"px"),transition:Q?"height ".concat(500,"ms ease-in-out width ").concat(500,"ms ease-in-out"):void 0},ee=d.useContext(Iy.OK),ne=ee.sdaFormat,te=ee.isSDASequenceVisible,ie=!!((0,et.I9)(W)&&K&&te||B||T),ae=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_lower-third","stream-display-ad__wrapper-".concat(ie?"visible":"hidden")),re=l()({"stream-display-ad__container_lower-third":!0,"stream-display-ad__container_lower-third-hidden":!ie});return ne===gh.Z$.LOWER_THIRD||B||T?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":by.Wrapper,className:ae,children:(0,a.jsx)("div",{"data-test-selector":by.Container,className:re,style:H,children:(0,a.jsx)("div",{"data-test-selector":by.Transform,className:"stream-display-ad__transform-container_lower-third",style:J,children:(0,a.jsx)("div",{"data-test-selector":by.Frame,id:s,className:"stream-display-ad__frame_lower-third",style:$,children:B?(0,a.jsx)(Oy,{}):T?(0,a.jsx)(Ry,{channelLogin:U||""}):(0,a.jsx)(Dy,(0,i.__assign)({format:gh.Z$.LOWER_THIRD,isSkyscraper:!1},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(Vy||(Vy={}));var Ly,jy=(0,_.Zz)((0,Ge.X)({name:"SkyscraperContainer"}))((function(e){var n,t,r,o=e.injectStyles,s=(0,Rh.zB)(gh.Z$.SQUEEZEBACK).slotId,u=(0,gh.Zj)(gh.Z$.SQUEEZEBACK),c=e.adDimensions,p=e.scaledAdDimensions,m=e.sdaHorizontalOffset,v=e.sdaScale,f={left:"".concat(m,"px"),right:"0"},g={height:"".concat(p.height,"px"),width:"".concat(4*p.height/15,"px")},h=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},u),o),g),{background:"black"}),y=d.useContext(ce.jK),k=y.adFormatMetadata,S=y.isDisplayingSDASequence,_={transform:"translateX(-50%) scale(".concat(v,")")},C=d.useContext(Iy.OK),b=C.sdaFormat,P=C.isSDASequenceVisible,E=!!((0,et.I9)(k)&&S&&P),x=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_skyscraper","stream-display-ad__wrapper-".concat(E?"visible":"hidden")),A="skyscraper",N=l()(((n={})["stream-display-ad__container_".concat(A)]=!0,n)),w=l()(((t={})["stream-display-ad__transform-container_".concat(A)]=!0,t)),I=l()(((r={})["stream-display-ad__frame_".concat(A)]=!0,r));return b===gh.Z$.SQUEEZEBACK&&(0,Ty.Ny)(c)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":Vy.Wrapper,className:x,style:f,children:(0,a.jsx)("div",{"data-test-selector":Vy.Container,className:N,style:h,children:(0,a.jsx)("div",{"data-test-selector":Vy.Transform,className:w,style:{},children:(0,a.jsx)("div",{"data-test-selector":Vy.Frame,id:s,className:I,style:_,children:(0,a.jsx)(Dy,(0,i.__assign)({format:gh.Z$.SQUEEZEBACK,isSkyscraper:!0},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(Ly||(Ly={}));var By=(0,_.Zz)((0,Ge.X)({name:"SqueezebackContainer"}))((function(e){var n,t,r,o,s=e.injectStyles,u=(0,Rh.zB)(gh.Z$.LOWER_THIRD).slotId,c=(0,gh.Zj)(gh.Z$.LOWER_THIRD),p=e.adDimensions,m=e.scaledAdDimensions,v=e.sdaScale,f={height:"".concat(m.height,"px"),width:"".concat(16*m.height/9,"px")},g=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},c),s),f),{background:"black"}),h=d.useContext(ce.jK),y=h.adFormatMetadata,k=h.isDisplayingSDASequence,S="rtl"===document.dir,_={transform:"translateX(".concat(S?"":"-","50%) scale(").concat(v,")")},C=d.useContext(Iy.OK),b=C.sdaFormat,P=C.isSDASequenceVisible,E=!!((0,et.I9)(y)&&k&&P),x=d.useState({}),A=x[0],N=x[1];d.useEffect((function(){N({width:e.containerDimensions.width||300,height:e.containerDimensions.height||1050,background:"black"})}),[e.containerDimensions.height,e.containerDimensions.width]);var w=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_squeezeback","stream-display-ad__wrapper-".concat(E?"visible":"hidden")),I="squeezeback",T=l()(((n={})["stream-display-ad__container_".concat(I)]=!0,n)),D=l()(((t={})["stream-display-ad__transform-container_".concat(I)]=!0,t)),F=l()(((r={})["stream-display-ad__frame_".concat(I)]=!0,r)),O=l()(((o={})["stream-display-ad__iframe_".concat(I)]=!0,o["stream-display-ad__iframe_".concat(I,"--visible")]=!0,o));if(b!==gh.Z$.SQUEEZEBACK)return null;var R=(0,a.jsx)(Dy,(0,i.__assign)({format:gh.Z$.SQUEEZEBACK,isSkyscraper:!1},e));return(0,Ty.Ny)(p)&&(R=(0,a.jsx)("div",{"data-test-selector":Ly.IFrame,className:O,style:A})),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":Ly.Wrapper,className:w,children:(0,a.jsx)("div",{"data-test-selector":Ly.Container,className:T,style:g,children:(0,a.jsx)("div",{"data-test-selector":Ly.Transform,className:D,style:{},children:(0,a.jsx)("div",{"data-test-selector":Ly.Frame,id:u,className:F,style:_,children:R})})})})})})),Uy=t(423262),qy=v.x.wrap((function(){return t.e(9029).then(t.bind(t,71826))}),"VerticalVideoControls",{failSilently:!0,placeholder:null}),Gy=(0,_.Zz)((0,Kp.A)(),(0,Ge.X)({name:"VerticalVideoContainer"}))((function(e){var n=e.scaledAdDimensions,t=e.sdaHorizontalOffset,o=e.trackAdFormatData,s=d.useContext(ce.jK),l=s.adFormatMetadata,u=s.thirdPartyOutstreamVideoAdElement,c=s.updateOutstreamAdElement,p=s.videoAdMetadata,m=s.resetOutstreamAd,v=d.useContext(Iy.OK).checkAndUpdateSDAHiddenState,f=d.useContext(x.kl).behaviors,g=(0,et.hr)(l),h=g&&"hiding"===(null==l?void 0:l.status),y=g&&!h,k=d.useRef(null),S=(0,Uy.M)(k).isHovering,_=(0,Lv.gD)(void 0,void 0,l),C=_.minutes,b=_.seconds,P=(0,et.pt)(l)?(0,Lv.KV)(C,b):void 0,E={position:"absolute",transition:"visibility 0.25s, opacity 0.25s ease-in-out",width:"100%",height:"100%",right:"0",visibility:y?"visible":"hidden"},A={position:"absolute",top:"50%",transform:"translateY(-50%)",height:"".concat(n.height,"px"),width:"".concat(n.width,"px"),opacity:y?1:0,background:"black",right:"".concat(t,"px")};d.useEffect((function(){if(y&&!(null==l?void 0:l.started)){var e=setTimeout((function(){var e;null===(e=l.videoAd)||void 0===e||e.start(),v(u)}),1e3);return function(){return clearTimeout(e)}}}),[y,l,v,u]),d.useEffect((function(){y&&(null==p?void 0:p.stitched)&&(o("ad_opportunity_abort",{abort_reason:"SureStream"}),m())}),[y,m,null==p?void 0:p.stitched,o]),d.useEffect((function(){y&&(null==f?void 0:f.mini)&&(o("ad_opportunity_abort",{abort_reason:"MINI"}),m())}),[y,m,null==f?void 0:f.mini,o]);var N=(0,et.RO)(l),w={onClick:function(){return null==N?void 0:N.pause()},onClose:function(){return null==N?void 0:N.play()},right:2,adInfoTextOverride:P};return(0,a.jsx)(r.P,{style:E,children:(0,a.jsxs)(r.P,{style:A,ref:k,children:[(0,a.jsx)(r.P,{width:"100%",height:"100%","data-a-target":"outstream-ax-overlay",ref:c}),y&&(0,a.jsx)(r.P,{position:"absolute",width:"100%",style:{bottom:0,width:"100%"},children:(0,a.jsx)(qy,{showControls:S})}),y&&(0,a.jsx)(Qv.Cq,(0,i.__assign)({},w))]})})})),zy=function(e){var n=e.children,t=e.handleResize,o=d.useContext(x.kl),s=o.behaviors,l=d.useContext(pe._t),u=d.useContext(A.wL),c=d.useContext(yt.MP),p=d.useContext(ce.jK),m=d.useContext(E.$g),v=d.useContext(He.m9),f=(0,Ze.U0)().isTurboSDAUpsellShowing,g=(0,i.__assign)((0,i.__assign)({uiContext:l,videoPlaybackContext:u,playerPublicPropsContext:o},c),{adContext:p,playerContext:m,brandLiftContext:v,isTurboSDAUpsellShowing:f}),h=d.useCallback((function(e){return!(!s||!s[e])}),[s]),y=p.adFormatMetadata,k=v.isSurveyShowing,S=v.isMouseHovering,_=y&&(0,wv.rW)(y.adFormat)||k&&!S||f,C=!h("enableStreamDisplayAds")||e.playerType===kl.C.WatchPartyHost;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($n.$,{onResize:t}),!C&&(0,a.jsx)(By,(0,i.__assign)({},e)),!C&&(0,a.jsx)(jy,(0,i.__assign)({},e)),!C&&(0,a.jsx)(Gy,(0,i.__assign)({},e)),n,!C&&(0,a.jsx)(My,(0,i.__assign)({},e)),!C&&(0,Jv.oZ)(g)&&(0,a.jsx)(r.P,{hidden:!_,children:(0,a.jsx)(Qc,{shouldShow:(0,Jv.SU)(g),isOffline:!1,isAccessibilityLandmark:!1})})]})};zy.displayName="StreamDisplayAdWrapper";var Hy,Wy=t(198640),Ky=t(565640),Zy=t(595101),Qy=t(106886),Yy=t(862596),Xy=t.n(Yy);!function(e){e.Failure="failure",e.Skipped="skipped",e.Success="success"}(Hy||(Hy={}));var $y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastStreamUpServerTime:0},n.vp9Disabled=!1,n.logger=n.props.logger.withCategory("on-video-source-props-changed"),n.retryVP9Error=function(e,t){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,a,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=this.props.mediaPlayerInstance)?(a=n.getQuality().codecs,r=e===Ky.g.DECODER,o=(e===Ky.g.MASTER_PLAYLIST||e===Ky.g.MEDIA_PLAYLIST)&&t>=500,a.includes("vp09")&&(r||o)?(this.vp9Disabled=!0,Qy.e3(),[4,this.setSrc()]):[3,2]):[2,!1];case 1:return[2,i.sent()===Hy.Success];case 2:return[2,!1]}}))}))},n.setSrc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.__awaiter)(n,(0,i.__spreadArray)([],e,!0),Promise,(function(e){var n,t,a,r,o,s,l,d,u,c,p,m,v;return void 0===e&&(e={}),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=this.props,t=n.mediaPlayerInstance,a=n.mediaPlayerHandle,r=n.content,o=n.updatePlayerContext,s=n.playerType,l=n.forceManifestNode,d=n.quality,u=n.qualityBitrate,this.logger.debug("setting video source props",r),o({sourceStatus:oi.O.Loading,manualResetRequested:!1}),t?(t.pause(),c=this.props,p=!1,(null==a?void 0:a.isVP9Supported)?[4,a.isVP9Supported()]:[3,2]):(this.logger.debug("mediaplayer instance missing. Skipping."),[2,Hy.Skipped]);case 1:p=i.sent(),i.label=2;case 2:return m=(0,W.k3)(),[4,wf(r,s,l,o,d,u,p&&!this.vp9Disabled,!!e.refreshAccessToken,m)];case 3:return v=i.sent(),Nf(c.content,this.props.content)?(this.logger.debug("video source props have changed while getting new media player source. Skipping.",{propsRef:c,props:this.props}),[2,Hy.Skipped]):this.props.mediaPlayerInstance&&this.props.mediaPlayerInstance===t?v.src?(this.props.adContextReset(),this.props.resetOnSourceChange(v,m),this.props.setClosedCaptionsAvailable(!1),this.props.mediaPlayerInstance.load(v.src),e.isNewMediaPlayerInstance&&this.setInitialPlaybackSettings(this.props.mediaPlayerInstance),this.setSrcChangedPlaybackSettings(this.props.mediaPlayerInstance),[2,Hy.Success]):(o({sourceStatus:oi.O.None}),this.logger.warn("Unable to get usher src"),[2,Hy.Failure]):(this.logger.warn("mediaPlayerInstance not available or changed. Skipping."),[2,Hy.Skipped])}}))}))},n.setInitialPlaybackSettings=function(e){n.setInitialMutedSetting(e),n.setInitialVolumeSetting(e),n.setInitialLoopingSetting(e),n.setInitialLiveLowLatencySetting(e)},n.setSrcChangedPlaybackSettings=function(e){n.setInitialPlaybackRateSetting(e),n.setPlaybackState(e)},n.setInitialMutedSetting=function(e){if(n.props.isPlaybackRestricted)e.setMuted(!0);else{var t=n.props.disableAudio||n.props.initialMuted||Uf.o.get("video-muted",n.props.playerType);void 0!==t&&e.setMuted(t)}},n.setInitialVolumeSetting=function(e){var t=void 0!==n.props.initialVolume?n.props.initialVolume:c.IG.get(Gd.U.VOLUME,.5);e.setVolume(t)},n.setInitialPlaybackRateSetting=function(e){if(n.props.playbackRateSupported){var t=c.IG.getOptional(Gd.U.PLAYBACK_RATE)||"1";void 0!==t&&e.setPlaybackRate(parseFloat(t))}},n.setInitialLoopingSetting=function(e){void 0!==n.props.enableLooping&&e.setLooping(n.props.enableLooping)},n.setInitialLiveLowLatencySetting=function(e){e.setLiveLowLatencyEnabled(n.props.isLiveLowLatencyEnabled)},n.setPlaybackState=function(e){!n.props.isPlaybackRestricted&&n.props.autoplay&&(n.props.setUserTriggeredPause(!1),n.props.setUserTriggeredPlay(!1),e.play())},n.onError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:switch(e.type){case Zy.B.NOT_AVAILABLE:case Zy.B.AUTHORIZATION:case Zy.B.NOT_SUPPORTED:case Zy.B.NETWORK_IO:return[3,1];case Zy.B.NETWORK:return[3,2]}return[3,4];case 1:return[2];case 2:return[4,this.handleNetworkError(e)];case 3:case 5:return n.sent(),[2];case 4:return[4,this.handleDefaultError(e)]}}))}))},n.handleNetworkError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()||this.props.setError(ar.O4.Network),[2]}}))}))},n.handleDefaultError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e.source!==Ky.g.DECODER?[3,2]:[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()?[2]:(this.props.setError(ar.O4.Decode),[3,3]);case 2:this.props.setError(ar.O4.Aborted),n.label=3;case 3:return[2]}}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.ERROR,this.onError),this.props.mediaPlayerInstance&&this.setSrc({isNewMediaPlayerInstance:!0})},n.prototype.componentDidUpdate=function(e){var n=e.mediaPlayerInstance!==this.props.mediaPlayerInstance;Nf(e.content,this.props.content)||n?(this.vp9Disabled=!1,this.setSrc({isNewMediaPlayerInstance:n})):this.props.manualResetRequested&&!e.manualResetRequested&&this.setSrc(),this.checkSubsUpdate(e),this.checkStreamUp()},n.prototype.render=function(){return null},n.prototype.checkStreamUp=function(){var e=this,n=this.props.pubsub.messages.streamUp;n&&this.state.lastStreamUpServerTime<n.server_time&&this.setState({lastStreamUpServerTime:n.server_time},(function(){return e.setSrc()}))},n.prototype.checkSubsUpdate=function(e){var n=this.props,t=n.userData,i=n.pubsub,a=n.isPlaybackRestrictedByPremiumContent;t.userByAttribute&&i.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&i.messages.subscriptionInfo&&i.messages.subscriptionInfo.channel_id===t.userByAttribute.id&&a&&this.setSrc({refreshAccessToken:!0})},n}(d.Component);function Jy(e){return e.userData.userByAttribute&&e.userData.userByAttribute.id?(0,Xe.RW)(e.userData.userByAttribute.id):""}function ek(e){return!(0,j.DG)(e.content)||!e.userData||e.userData.loading||!e.userData.userByAttribute||!e.userData.userByAttribute.id}function nk(e){return e.currentUserID?(0,Xe.CH)(e.currentUserID):""}function tk(e){return!e.currentUserID}function ik(e){var n,t,i,a;return{input:{login:null!==(n=(0,j.jp)(e))&&void 0!==n?n:null,ownsVideoID:null!==(t=(0,j.hq)(e))&&void 0!==t?t:null,ownsCollectionID:null!==(i=(0,j.Eq)(e))&&void 0!==i?i:null,broadcasterOfClipSlug:null!==(a=(0,j.Qc)(e))&&void 0!==a?a:null}}}var ak=(0,_.Zz)((0,u.Ng)((function(e){var n;return{currentUserID:null===(n=e.session.user)||void 0===n?void 0:n.id}})),(0,A.AP)((function(e){var n=e.setUserTriggeredPause,t=e.setUserTriggeredPlay,i=e.userTriggeredPause;return{userTriggeredPause:i,setUserTriggeredPause:n,setUserTriggeredPlay:t}})),(0,E.dd)((function(e){var n=e.autoplay,t=e.isLiveLowLatencyEnabled,i=e.mediaPlayerHandle,a=e.mediaPlayerInstance,r=e.logger,o=e.updateContext,s=e.setError,l=e.resetOnSourceChange,d=e.quality,u=e.qualityBitrate,c=e.manualResetRequested,p=e.addRestriction;return{autoplay:n,isLiveLowLatencyEnabled:t,mediaPlayerHandle:i,mediaPlayerInstance:a,logger:r,updatePlayerContext:o,setError:s,resetOnSourceChange:l,quality:d,qualityBitrate:u,isPlaybackRestricted:(0,fe.k1)(e),isPlaybackRestrictedByPremiumContent:(0,fe.uJ)(e),manualResetRequested:c,addRestriction:p}})),(0,pe.c0)((function(e){return{setClosedCaptionsAvailable:e.setClosedCaptionsAvailable}})),(0,ce.VX)((function(e){return{adContextReset:e.resetForNewPlayerContent}})),(0,x.cj)((function(e){var n,t=(0,T.Rh)({playerPublicPropsContext:e}),i=(0,T.wk)({playerPublicPropsContext:e}),a=i.disableAudio,r=i.enableLooping,o=i.forceManifestNode,s=i.initialVolume,l=i.initialMuted;return{content:t,disableAudio:a,enableLooping:r,forceManifestNode:o,initialMuted:null!==(n=null==l?void 0:l.enabled)&&void 0!==n&&n,initialVolume:s,playerType:e.type,playbackRateSupported:(0,j.pk)(t)}})),(0,P.X)(),(0,z._v)(Xy(),{name:"userData",options:function(e){return{variables:ik(e.content)}}}),function(){var e;return(0,Wy.U)([{topic:Jy,skip:ek,mapMessageTypesToProps:(e={},e[Ma.PD.ChannelStreamUp]="streamUp",e)},{topic:nk,skip:tk,mapMessageTypesToProps:{"*":"subscriptionInfo"}}])}())($y);var rk=(0,_.Zz)((0,yt.In)((function(e){var n=e.active;return{active:n}})),(0,x.cj)((function(e){return{forceControlVisibilityShowing:(0,T.wk)({playerPublicPropsContext:e}).forceControlVisibility===me.Ie.Showing}})),(0,A.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})))((function(e){var n=e.active,t=e.children,i=e.forceControlVisibilityShowing,o=e.isPlaying;return(0,a.jsx)(r.P,{className:l()("video-player__default-player",{"video-player__inactive":!n&&o&&!i}),children:t})}));var ok;t(156425);!function(e){e.VideoContainer="video-player__video-container",e.VideoLayout="video-player__video-layout"}(ok||(ok={}));var sk=v.x.wrap((function(){return Promise.all([t.e(97316),t.e(14030),t.e(57792),t.e(70614)]).then(t.bind(t,794130))}),"CelebrationDisplayContainer",{failSilently:!0,placeholder:null}),lk=v.x.wrap((function(){return t.e(38923).then(t.bind(t,321791))}),"SharedViewershipTracking"),dk=function(e){var n,t=(0,u.d4)(uk,u.bN),s=t.firstPageLoaded,v=t.theatreModeEnabled,f=d.useCallback((function(n){return!(!e.behaviors||!e.behaviors[n])}),[e.behaviors]),g={};v?g.maxHeight="100%":(null===(n=e.behaviors)||void 0===n?void 0:n.playerContainerMaxHeightStyleValue)&&(g.maxHeight=e.behaviors.playerContainerMaxHeightStyleValue);var h=(0,Ay.J)(),y=h.sdaVideoRefClasses,_=h.sdaVideoRefStyles,C=l().apply(void 0,(0,i.__spreadArray)(["video-ref"],y,!1)),b=d.useContext(E.$g).mediaPlayerInstance;return d.useEffect((function(){if(b){var e={timeoutID:void 0,setup:function(){this.timeoutID=setTimeout((function(){var e,n;b&&!b.isPaused()&&c.IG.set("ads_bitrate_bps",null!==(n=null===(e=b.getQuality())||void 0===e?void 0:e.bitrate)&&void 0!==n?n:0,{expireInMS:12096e5})}),2e4)},cancel:function(){clearTimeout(this.timeoutID)}},n=function(){e.setup()};return b.addEventListener(w.p.PLAYING,n),function(){b&&b.removeEventListener(w.p.PLAYING,n),e.cancel()}}}),[b]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Sf,{logger:e.logger}),(0,a.jsx)(O,{playerId:e.id}),s&&(0,a.jsx)(p.K,{name:"project_celebration_alerts",children:(0,a.jsx)(sk,{enabled:f("enableCelebrations")})}),(0,a.jsx)(r.P,{className:"video-player","data-a-target":"video-player","data-a-player-type":e.type,"data-test-selector":ok.VideoLayout,children:(0,a.jsx)(r.P,{className:"video-player__container","data-test-selector":ok.VideoContainer,ref:e.onContainerRefDelegate,overflow:o.nE.Hidden,position:o.yX.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,style:g,children:(0,a.jsx)(k,{children:(0,a.jsx)(zy,(0,i.__assign)({playerType:e.type,logger:e.logger},h,{children:(0,a.jsx)(r.P,{ref:e.onVideoRefDelegate,className:C,style:_,"data-a-target":"video-ref",children:(0,a.jsx)(rk,{children:(0,a.jsx)(r.P,{className:"video-player__overlay",position:o.yX.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,children:(0,a.jsx)(lf,{logger:e.logger})})})})}))})})}),(0,a.jsx)(ee,{}),(0,a.jsx)(ak,{}),(0,a.jsx)(hf,{}),(0,a.jsx)(gf,{}),(0,a.jsx)(G,{isClip:(0,j.Jn)(e.content)}),f("enablePlaySessionTagTracking")&&(0,a.jsx)(kg,{}),s&&(0,a.jsx)(mf,{}),(0,a.jsx)(m.j,{consentVendor:S.F.ComScore,children:(0,a.jsx)(ne.gb,{})}),(0,a.jsx)(Bf,{}),(0,a.jsx)(Wf,{}),(0,a.jsx)(Zf,{}),(0,a.jsx)(zf,{}),(0,a.jsx)(Ce,{}),(0,a.jsx)(gg,{}),!(0,j.JN)(e.content)&&(0,a.jsx)(lg,{}),(0,a.jsx)(te.H,{}),(0,a.jsx)(xy,{}),(0,a.jsx)(Ne,{}),(0,j.JN)(e.content)&&(0,a.jsx)(se,{}),(0,a.jsx)(je,{}),(0,a.jsx)(qe,{}),f("exclusivePlayback")&&(0,a.jsx)(F,{}),f("pauseWhenModalShowing")&&(0,a.jsx)(Pe,{}),f("pauseWhenNotInViewport")&&(0,a.jsx)(ug,{}),f("sharedViewershipTracking")&&(0,a.jsx)(lk,{channelLogin:(0,j.hd)(e.content)||""}),(0,a.jsx)("div",{style:{display:"none"},children:e.children})]})};function uk(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,firstPageLoaded:!!e.session.firstPageLoaded}}dk.displayName="VideoPlayerComponent"},583353:function(e,n,t){"use strict";t.d(n,{L:function(){return g}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(346716),l=t(805450),d=t(105146),u=t(863845),c=t(488910),p=t(860345),m=t(457063),v=t(934447),f=(t(156425),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.id=(0,d.yr)(16),n.logger=s.x2.logger.withCategory("video-player").withCategory(n.id),n.onContainerRefDelegate=function(e){return n.setState({videoContainer:e})},n.onVideoRefDelegate=function(e){return n.setState({video:e})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(m.df,(0,i.__assign)({},this.props,{children:(0,a.jsx)(p.x,{videoContainer:this.state.videoContainer,videoRef:this.state.video,playerRefID:this.id,logger:this.logger,children:(0,a.jsx)(v._4,(0,i.__assign)({onContainerRefDelegate:this.onContainerRefDelegate,onVideoRefDelegate:this.onVideoRefDelegate,id:this.id,logger:this.logger},this.props))})}))},n}(r.Component)),g=(0,o.Zz)((0,l.X)({name:"VideoPlayer",content:(0,a.jsx)((function(){return(0,a.jsx)(u.rj,{iconProps:{type:c.W.Empty},text:(0,s.hw)("An error occurred. Please try again.","VideoPlayerErrorBoundary")})}),{})}))(f)},711274:function(e,n,t){"use strict";t.d(n,{e:function(){return c}});var i=t(331635),a=t(474848),r=t(296540),o=t(457063),s=t(286169),l=t(648101),d=t(289007),u=t(118483);function c(){return function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.getContentUrl=function(n,t){var i=e.props;return function(e,n){var t,i,a,r;void 0===n&&(n={});var o=n.contentRoutingOverrides;return(0,u.DG)(e)?(null!==(t=null==o?void 0:o[l.FC.Live])&&void 0!==t?t:d.U)(e,n):(0,u.wy)(e)?(null!==(i=null==o?void 0:o[l.FC.VOD])&&void 0!==i?i:d.zb)(e,n):(0,u.P3)(e)?(null!==(a=null==o?void 0:o[l.FC.Collection])&&void 0!==a?a:d.Mr)(e,n):(0,u.Jn)(e)?(null!==(r=null==o?void 0:o[l.FC.Clip])&&void 0!==r?r:d.cs)(e,n):void 0}(n,{trackingContext:t,linkTrackingContext:i.linkTrackingContext,contentRoutingOverrides:i.overrideContentRouting})},e.getFullyFormedUrl=function(n,t){return function(e,n){return void 0===n&&(n={}),(0,u.DG)(e)&&(0,d.b3)(e,n)||(0,u.wy)(e)&&(0,d.A9)(e,n)||(0,u.P3)(e)&&(0,d.$q)(e,n)||(0,u.Jn)(e)&&(0,d.zM)(e,n)||d.Kk}(n,{trackingContext:t,linkTrackingContext:e.props.linkTrackingContext})},e}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{getContentUrl:this.getContentUrl,getFullyFormedUrl:this.getFullyFormedUrl}))},t}(r.Component);return(0,o.cj)(p)(n)}}function p(e){var n=(0,s.wk)({playerPublicPropsContext:e});return{linkTrackingContext:n.linkTrackingContext,overrideContentRouting:n.overrideContentRouting}}},107212:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(331635),a=t(474848),r=t(296540),o=t(300235),s=t(231273);function l(){return function(e){var n=function(n){function t(e){var t=n.call(this,e)||this;t.bufferedEventListeners=[],t.attachedEventListeners=[],t.addEventListener=function(e,n){var i=t.props.mediaPlayerInstance,a={event:e,listener:n};i?(t.attachedEventListeners.push(a),t.bufferedEventListeners=t.filterEventListeners(t.bufferedEventListeners,e,n),i.addEventListener(e,n)):t.bufferedEventListeners.push(a)},t.removeEventListener=function(e,n){var i=t.props.mediaPlayerInstance;i&&(t.attachedEventListeners=t.filterEventListeners(t.attachedEventListeners,e,n),i.removeEventListener(e,n))},t.attachEventListeners=function(){var e=t.props.mediaPlayerInstance;0!==t.bufferedEventListeners.length&&e&&t.bufferedEventListeners.forEach((function(e){var n=e.event,i=e.listener;return t.addEventListener(n,i)}))},t.filterEventListeners=function(e,n,t){return e.filter((function(e){var i=e.event,a=e.listener;return n!==i&&t!==a}))};var i=t,a=i.addEventListener,r=i.removeEventListener;return t.state={playerEvents:{addEventListener:a,removeEventListener:r}},t}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.attachEventListeners()},t.prototype.componentDidUpdate=function(){this.attachEventListeners()},t.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(n){var t=n.event,i=n.listener;return e.removeEventListener(t,i)}))},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},t.displayName=(0,o.K)(t.name,e),t}(r.Component);return(0,s.dd)(d)(n)}}function d(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}},447925:function(e,n,t){"use strict";t.d(n,{p:function(){return r}});var i=t(296540),a=t(231273),r=function(e,n){var t=i.useContext(a.$g).mediaPlayerInstance;i.useEffect((function(){return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[e,n,t])}},982592:function(e,n,t){"use strict";t.d(n,{_v:function(){return m},mh:function(){return v},vM:function(){return c}});var i=t(474848),a=t(296540),r=t(436617),o=t(447925),s=t(231273),l=t(749721),d={castingState:"unavailable",deviceName:"",startCast:function(){return null},stopCast:function(){return null}};var u=(0,r.e)("ChromecastContext",d,(function(e){return{chromecastContext:e}})),c=u.withMemoContext,p=u.context,m=function(e){var n=e.children,t=function(e){var n=e.logger,t=(0,a.useRef)(n.withCategory("chromecast-context")),i=(0,a.useContext)(s.$g).mediaPlayerInstance,r=(0,a.useState)(d.castingState),u=r[0],c=r[1],p=(0,a.useState)(d.deviceName),m=p[0],v=p[1],f=(0,a.useCallback)((function(){t.current.info("Initiating remote playback session via player core."),c("connecting"),null==i||i.startRemotePlayback()}),[i]),g=(0,a.useCallback)((function(){t.current.info("Ending remote playback session with ".concat(m," via player core.")),null==i||i.endRemotePlayback()}),[m,i]);return(0,o.p)(l.G.AVAILABLE,(0,a.useCallback)((function(){c("available")}),[])),(0,o.p)(l.G.UNAVAILABLE,(0,a.useCallback)((function(){c("unavailable")}),[])),(0,o.p)(l.G.SESSION_STARTED,(0,a.useCallback)((function(e){t.current.info("Remote playback session started with a device named ".concat(e)),c("connected"),v(e)}),[])),(0,o.p)(l.G.SESSION_ENDED,(0,a.useCallback)((function(){c("available")}),[])),(0,a.useMemo)((function(){return{castingState:u,deviceName:m,startCast:f,stopCast:g}}),[u,m,f,g])}({logger:e.logger});return(0,i.jsx)(p.Provider,{value:t,children:n||null})};function v(e){return"connected"===e.castingState}},808835:function(e,n,t){"use strict";t.d(n,{J:function(){return s},Z:function(){return l}});var i=t(436617),a=t(317193),r={channelName:null,contentLabels:null,overlayTiming:a.HX.PageLoad,overlayType:a.P8.None,storeAcknowledgement:function(){},trackClick:function(){}},o=(0,i.e)("contentClassificationContext",r,(function(e){return{contentClassificationContext:e}})),s=o.context,l=o.withMemoContext},145875:function(e,n,t){"use strict";t.d(n,{A3:function(){return s},GZ:function(){return r},iu:function(){return l}});var i=t(419813),a=t(436617),r={overlayExtension:null,componentExtensions:[],shouldMountExtensionComponents:!1,allVideoExtensions:[],isChannelInfoVisible:!1,isOverlayVisible:!1,permissionsStates:{},setOverlayVisibility:function(){},setMenuState:function(e,n){},setPlayerMenuState:function(e,n){},setPermissionsState:function(e,n){},setNotification:function(e){},openPopover:function(e){},closePopover:function(e){},togglePopover:function(e){},hoverExtensionCard:function(e){},isMenuOpen:function(e){return!1},isPopoverOpen:function(e){return!1},isDockIconHovered:function(e){return!1},isAnyPopoverOpen:function(){return!1},getMenuState:function(e){return{type:i.gu.NONE}},getPlayerMenuState:function(){return{type:i.gu.NONE,selectedInstallationID:null}},getNotification:function(){return{type:i._n.NONE}},hideExtensions:!0,trackEvent:function(e,n,t){}},o=(0,a.e)("ExtensionsUIContext",r,(function(e){return{extensionsUIContext:e}})),s=o.withMemoContext,l=o.context},15250:function(e,n,t){"use strict";var i,a,r;function o(e,n,t){return{action_type:e,action_result:n,extension_id:t.id,extension_name:t.extension.name,extension_type:t.activationConfig.anchor,extension_version:t.extension.version}}function s(e){switch(e){case r.ExtensionDockIconClick:return"extension_dock_icon_click";case r.ExtensionDockMenuOptionClick:return"extension_dock_menu_option_click";case r.ExtensionDockToolbarIconClick:return"extension_dock_toolbar_icon_click";default:return null}}t.d(n,{X2:function(){return i},dP:function(){return o},iN:function(){return a},si:function(){return r},w1:function(){return s}}),function(e){e.ToolbarLeftAngleIconClick="toolbar_left_angle_icon_click",e.ToolbarGearIconClick="toolbar_gear_icon_click",e.ToolbarXIconClick="toolbar_x_icon_click",e.MenuOptionClick="menu_option_click",e.ExtensionDockIconClick="dock_icon_click",e.ExtensionDockIconHover="dock_icon_hover"}(i||(i={})),function(e){e.MaximizeExtension="maximize_extension",e.MinimizeExtension="minimize_extension",e.BuildExtension="build_extension",e.ReportExtension="report_extension",e.ViewDetails="view_details",e.Grant="grant_access",e.Revoke="revoke_access",e.ViewMenu="view_menu",e.HideMenu="hide_menu",e.HideOverlay="hide_overlay",e.ViewOverlay="view_overlay",e.DisplayHoverInfo="display_hover_info"}(a||(a={})),function(e){e.ExtensionDockIconClick="extension_dock_icon_click",e.ExtensionDockToolbarIconClick="extension_dock_toolbar_icon_click",e.ExtensionDockMenuOptionClick="extension_dock_menu_option_click",e.ExtensionDockIconHover="extension_dock_icon_hover"}(r||(r={}))},860345:function(e,n,t){"use strict";t.d(n,{x:function(){return Cn}});var i,a=t(331635),r=t(474848),o=t(296540),s=t(194569),l=t(327167),d=t(764823),u=function(e){var n=o.useContext(d._t),t=n.isFullscreen,i=n.videoContainer,a=void 0!==i&&t?function(){return i}:void 0;return(0,r.jsx)(l.dw,{parentSelector:a,disableAriaHideApp:void 0!==a,children:e.children})},c=t(415044),p=t(868238),m=t(805450),v=t(407827),f=t(232290),g=t(701022),h=t(361124),y=v.x.wrap((function(){return t.e(61174).then(t.bind(t,489340))}),"PushdownSDAPortal",{failSilently:!0,placeholder:null}),k=(0,p.Zz)((0,f.A)(),(0,m.X)({name:"SDAContextManager"}))((function(e){var n=(0,h.MU)(e),t=(0,c.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),c.bN).firstPageLoaded;return(0,r.jsxs)(g.OK.Provider,{value:n,children:[t&&(0,r.jsx)(y,{}),e.children||null]})})),S=t(709673),_=t(430228),C=t.n(_),b=t(346716),P=t(345029),E=t(337930),x=t(485272),A=t(55533),N=t(669022),w=t(960052),I=t(231273),T=t(457063),D=t(44377),F=t(726280),O=t(573566),R=t(177972),V=t(55195),M=function(e){switch(e){case D.Z$.STANDARD_VIDEO:case D.Z$.STANDARD_AUDIO:case D.gz.STANDARD_VIDEO:return!0;default:return!1}};function L(e,n){var t,r;switch(n.type){case i.AdElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyVideoAdElement:n.element});case i.CompanionElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyCompanionAdElement:n.element});case i.OutstreamAdElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyOutstreamVideoAdElement:n.element});case i.OutstreamAdDisplayStatusUpdated:return(0,x.rF)(null===(t=e.adFormatMetadata)||void 0===t?void 0:t.adFormat)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{status:n.status})}):e;case i.AdStatsUpdated:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:(0,a.__spreadArray)((0,a.__spreadArray)([],e.adPodStats,!0),[n.stats],!1)});case i.ClientSideVideoAdMuted:return(0,a.__assign)((0,a.__assign)({},e),{muted:n.muted,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case i.FillClientSideVideoAd:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:[],videoAdMetadata:n.metadata,videoAdRequest:(0,a.__assign)((0,a.__assign)({},n.request),{status:F.s.Filled})});case i.SetRadToken:return(0,a.__assign)((0,a.__assign)({},e),{radToken:n.radToken});case i.StitchedVideoAdStarted:return(0,a.__assign)((0,a.__assign)({},e),{videoAdMetadata:n.metadata,adPodStats:[]});case i.ClientSideAdSelectionParamsUpdated:return(0,a.__assign)((0,a.__assign)({},e),{clientSideAdSelectionParams:n.params});case i.ClientSideVideoAdRequested:return(0,a.__assign)((0,a.__assign)({},e),{videoAdRequest:n.request});case i.ProcessClientSideVideoAdRequest:var o=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:F.s.Processed});return(0,a.__assign)((0,a.__assign)({},e),{videoAdRequest:o});case i.ClientSideVideoAdStarted:if(!(0,O.EF)(e.videoAdMetadata))return e;var s=void 0;switch(n.adFormat){case D.gz.STANDARD_VIDEO:case D.gz.BROWSE_DISPLAY:case D.Z$.STANDARD_AUDIO:case D.Z$.STANDARD_VIDEO:s=n.adFormat;break;default:s=D.gz.STANDARD_VIDEO}return(0,a.__assign)((0,a.__assign)({},e),{videoAdMetadata:(0,a.__assign)((0,a.__assign)({},e.videoAdMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adFormat:s,adInfo:n.adInfo}),isPlaying:!0});case i.ClientSideVideoAdVolumeUpdated:return(0,a.__assign)((0,a.__assign)({},e),{volume:n.volume,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case i.ClientSideVideoAdPlayingUpdated:return(0,a.__assign)((0,a.__assign)({},e),{isPlaying:n.isPlaying});case i.Reset:return(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0});case i.ResetForNewPlayerContent:return(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,isSDAContainerHidden:!1,lastSDAAdRequestBlocked:!1});case i.ResetOutstreamAd:var l={};return(0,O.hr)(e.adFormatMetadata)&&(l={isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,userManuallyAdjustedVolumeDuringAd:!1}),(0,a.__assign)((0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0}),l);case i.ClientSideAdFormatRequested:return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:n.request});case i.ClientSideAdFormatStarted:return(0,O.hr)(e.adFormatMetadata)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adInfo:n.adInfo}),isPlaying:!0}):(0,O.I9)(e.adFormatMetadata)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{status:"visible",start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds}),isPlaying:!0}):e;case i.FillClientSideAdFormat:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:[],adFormatMetadata:n.metadata,adFormatRequest:(0,a.__assign)((0,a.__assign)({},n.request),{status:F.s.Filled,video:null,broadcaster:null,content:null,currentUser:null,game:null})});case i.ProcessClientSideAdFormatRequest:var d=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:F.s.Processed});return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:d});case i.PrepareClientSideAdFormat:return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:F.s.Preparing})});case i.TransferClientSideAdFormat:return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:F.s.Transferred})});case i.DisplaySDASequence:return(0,a.__assign)((0,a.__assign)({},e),{isDisplayingSDASequence:n.display});case i.UpdateSDAHiddenState:return(0,a.__assign)((0,a.__assign)({},e),{isSDAContainerHidden:n.hidden});case i.LastSDAdRequestBlocked:return(0,a.__assign)((0,a.__assign)({},e),{lastSDAAdRequestBlocked:n.isBlocked});case i.SDARequestCount:return(0,a.__assign)((0,a.__assign)({},e),{sdaRequestCount:e.sdaRequestCount+1});case i.DeclinedAdFormatsUpdated:return(0,x.rF)(null===(r=e.adFormatMetadata)||void 0===r?void 0:r.adFormat)?(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:(0,a.__assign)((0,a.__assign)({},n.request),{declinedAdFormats:n.declinedFormats})}):e;default:return e}}!function(e){e.AdElementUpdated="AdElementUpdated",e.OutstreamAdElementUpdated="OutstreamAdElementUpdated",e.OutstreamAdDisplayStatusUpdated="OutstreamAdDisplayStatusUpdated",e.AdStatsUpdated="AdStatsUpdated",e.ClientSideVideoAdMuted="ClientSideVideoAdMuted",e.ClientSideVideoAdPlayingUpdated="ClientSideVideoAdPlayingUpdated",e.ClientSideVideoAdRequested="ClientSideVideoAdRequested",e.ClientSideVideoAdStarted="ClientSideVideoAdStarted",e.ClientSideVideoAdVolumeUpdated="ClientSideVideoAdVolumeUpdated",e.CompanionElementUpdated="CompanionElementUpdated",e.FillClientSideVideoAd="FillClientSideVideoAd",e.ProcessClientSideVideoAdRequest="ProcessClientSideVideoAdRequest",e.Reset="reset",e.ResetForNewPlayerContent="ResetForNewPlayerContent",e.ResetOutstreamAd="ResetOutstreamAd",e.SetRadToken="SetRadToken",e.StitchedVideoAdStarted="StitchedVideoAdStarted",e.ClientSideAdSelectionParamsUpdated="ClientSideAdSelectionParamsUpdated",e.DeclinedAdFormatsUpdated="DeclinedAdFormatsUpdated",e.ClientSideAdFormatRequested="ClientSideAdFormatRequested",e.ClientSideAdFormatStarted="ClientSideAdFormatStarted",e.FillClientSideAdFormat="FillClientSideAdFormat",e.PrepareClientSideAdFormat="PrepareClientSideAdFormat",e.TransferClientSideAdFormat="TransferClientSideAdFormat",e.ProcessClientSideAdFormatRequest="ProcessClientSideAdFormatRequest",e.DisplaySDASequence="DisplaySDASequence",e.UpdateSDAHiddenState="UpdateSDAHiddenState",e.LastSDAdRequestBlocked="SDAAdEdgeRequestBlocked",e.SDARequestCount="SDARequestCount"}(i||(i={}));var j,B=function(e){var n=function(){var e,n,t,r,s,l,d,u=(0,o.useReducer)(L,S.AD),c=u[0],p=u[1],m=(0,o.useContext)(T.kl),v=(0,o.useContext)(I.$g),f=(0,N.S9)().data,g=null===(n=null===(e=null==f?void 0:f.consent)||void 0===e?void 0:e.gdprUserPreferences)||void 0===n?void 0:n.tcData,h=c.adFormatMetadata,y=c.adFormatRequest,k=c.videoAdMetadata,_=c.videoAdRequest,j=(0,E.fX)(x.qi),B=(0,o.useRef)(!1);B.current=!(h&&!(0,x.C_)(null==h?void 0:h.adFormat)||y&&!(0,x.C_)(null==y?void 0:y.adFormat)||k||_||(0,R.k1)(v)||!v.playerState||!v.mediaPlayerInstance);var U=(0,o.useRef)(!1),q="undefined"!=typeof MediaSource;j?U.current="true"===(null===(r=null===(t=null==v?void 0:v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData())||void 0===r?void 0:r.SUPPRESS)||!q:B.current=B.current&&"true"!==(null===(l=null===(s=null==v?void 0:v.mediaPlayerInstance)||void 0===s?void 0:s.getSessionData())||void 0===l?void 0:l.SUPPRESS);var G=(0,o.useRef)(null);G.current=null!==(d=(0,O.jC)(k,h))&&void 0!==d?d:null,(0,o.useLayoutEffect)((function(){return function(){G.current&&(G.current.stop(),G.current.destroy())}}),[]);var z=(0,o.useRef)(new(C())),H=(0,o.useCallback)((function(){z.current.emit("click")}),[]),W=(0,o.useCallback)((function(e){z.current.addListener("click",e)}),[]),K=(0,o.useCallback)((function(e){z.current.removeListener("click",e)}),[]),Z=(0,o.useCallback)((function(e){p({type:i.SetRadToken,radToken:e})}),[p]),Q=(0,o.useCallback)((function(e){var n=e.position,t=e.numberOfAds,a=e.adFormat,r=e.adInfo,o=M(a)?i.ClientSideVideoAdStarted:i.ClientSideAdFormatStarted;p({type:o,start:Date.now(),position:n,numberOfAds:t,adFormat:a,adInfo:r})}),[p]),Y=(0,o.useRef)(),X=(0,o.useRef)(),$=(0,o.useCallback)((function(e){var n,t,r,o,s,l,d,u,c,f,h;e.sessionID||(e.sessionID=(0,w.SG)());var y=void 0;(0,w.Ix)(e.adFormat)?y=e.adFormat:(0,w.vK)(e.adFormat)&&(y=D.Z$[e.adFormat]);var k=e.sessionID,S=_,C=null===(n=null==S?void 0:S.game)||void 0===n?void 0:n.id,E=C?parseInt(C,10):void 0,N=(0,P.If)()||"",I={ad_session_id:k,format_name:y,break_length:e.duration,country:N,play_session_id:b.E5.getVideoPlayerTrackingData().playSessionID,video_session_id:null===(r=null===(t=v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData())||void 0===r?void 0:r["VIDEO-SESSION-ID"],browser:null===(o=b.E5.getLastPageview())||void 0===o?void 0:o.browser,user_agent:navigator.userAgent,content_type:null===(s=b.E5.getLastPageview())||void 0===s?void 0:s.content_type,channel_id:null===(l=null==S?void 0:S.broadcaster)||void 0===l?void 0:l.id,game:null===(d=b.E5.getLastPageview())||void 0===d?void 0:d.game,game_id:E,commercial_id:e.commercialID,twitch_correlator:k,roll_type:e.roll,player:(0,V.O)(m),stitched:!1,is_mafs:!!e.mafsDecision,requested_format:y||(0,D.uN)(e.adFormat),allocation_strategy:y||e.adFormat,gdpr_consent:null===(u=null==g?void 0:g.purpose.consents)||void 0===u?void 0:u.valueOf(),gdpr_enabled:null===(c=null==g?void 0:g.ifGDPRApplies)||void 0===c?void 0:c.valueOf(),referrer_domain:null===(f=b.E5.getLastPageview())||void 0===f?void 0:f.referrer_domain,is_embed:null===(h=m.behaviors)||void 0===h?void 0:h.embed};if(e.sessionID&&Y.current===e.sessionID||e.commercialID&&X.current===e.commercialID)b.E5.track("ad_request_client_trigger_declined",(0,a.__assign)({reason:JSON.stringify([A.A.DuplicateTrigger])},I));else if(e.commercialID&&(X.current=e.commercialID),e.sessionID&&(Y.current=e.sessionID),B.current)if(e.forced||!U.current||(0,x.rF)(e.adFormat)){var T=b.Zn.get(x.MA,[]);if((0,x.rF)(e.adFormat)&&"visible"!==document.visibilityState&&(T.includes(N)||T.includes(x.qx))&&"treatment"===b.x2.experiments.getAndTrackAssignment(x.rg))b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([A.y.TabNotVisible])},I));else{var O=M(e.adFormat)?i.ClientSideVideoAdRequested:i.ClientSideAdFormatRequested;b.E5.track("ad_request_client_trigger_accepted",(0,a.__assign)((0,a.__assign)({},I),{game_id:C})),p({type:O,request:(0,a.__assign)((0,a.__assign)({},e),{status:F.s.Pending,requestTime:Date.now(),twitchCorrelator:k,sessionID:k})})}}else b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([A.y.NotSurestream])},I));else b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([A.A.AdInProgress])},I))}),[_,v,m,null==g?void 0:g.purpose.consents,null==g?void 0:g.ifGDPRApplies]),J=(0,o.useCallback)((function(){G.current&&G.current.stop(),p({type:i.Reset})}),[p]),ee=(0,o.useCallback)((function(){G.current&&G.current.stop(),p({type:i.ResetForNewPlayerContent})}),[p]),ne=(0,o.useCallback)((function(){(0,x.rF)(null==h?void 0:h.adFormat)&&G.current&&G.current.stop(),p({type:i.ResetOutstreamAd})}),[p,null==h?void 0:h.adFormat]),te=(0,o.useCallback)((function(e,n){var t=M(e.adFormat)?i.ProcessClientSideVideoAdRequest:i.ProcessClientSideAdFormatRequest;p({type:t,request:e,metadata:n})}),[p]),ie=(0,o.useCallback)((function(e,n){var t=M(n.adFormat)?i.FillClientSideVideoAd:i.FillClientSideAdFormat;p({type:t,request:n,metadata:e})}),[p]),ae=(0,o.useCallback)((function(e,n){p({type:i.TransferClientSideAdFormat,request:n,metadata:e})}),[p]),re=(0,o.useCallback)((function(e,n){p({type:i.PrepareClientSideAdFormat,request:n,metadata:e})}),[p]),oe=(0,o.useCallback)((function(e){p({type:i.StitchedVideoAdStarted,metadata:e})}),[p]),se=(0,o.useCallback)((function(e){p({type:i.ClientSideAdSelectionParamsUpdated,params:e})}),[p]),le=(0,o.useCallback)((function(e){p({type:i.DisplaySDASequence,display:e})}),[p]),de=(0,o.useCallback)((function(e){p({type:i.UpdateSDAHiddenState,hidden:e})}),[p]),ue=(0,o.useCallback)((function(e,n){p({type:i.ClientSideVideoAdMuted,muted:e,userInitiated:n})}),[p]),ce=(0,o.useCallback)((function(e,n){p({type:i.ClientSideVideoAdVolumeUpdated,volume:e,userInitiated:n})}),[p]),pe=(0,o.useCallback)((function(e){p({type:i.ClientSideVideoAdPlayingUpdated,isPlaying:e})}),[p]),me=(0,o.useCallback)((function(e){p({type:i.AdElementUpdated,element:e})}),[p]),ve=(0,o.useCallback)((function(e){p({type:i.CompanionElementUpdated,element:e})}),[p]),fe=(0,o.useCallback)((function(e){p({type:i.OutstreamAdElementUpdated,element:e})}),[p]),ge=(0,o.useCallback)((function(e){p({type:i.AdStatsUpdated,stats:e})}),[p]),he=(0,o.useCallback)((function(e){p({type:i.OutstreamAdDisplayStatusUpdated,status:e})}),[p]),ye=(0,o.useCallback)((function(e){p({type:i.LastSDAdRequestBlocked,isBlocked:e})}),[p]),ke=(0,o.useCallback)((function(){p({type:i.SDARequestCount})}),[p]),Se=(0,o.useCallback)((function(e,n){p({type:i.DeclinedAdFormatsUpdated,request:e,declinedFormats:n})}),[p]);return(0,o.useMemo)((function(){return(0,a.__assign)((0,a.__assign)({},c),{fillClientSideAd:ie,transferClientSideAd:ae,prepareClientSideAd:re,processAdRequest:te,requestAd:$,reset:J,resetForNewPlayerContent:ee,resetOutstreamAd:ne,setRadToken:Z,startClientSideAd:Q,emitClickEvent:H,addClickListener:W,removeClickListener:K,startStitchedAd:oe,updateClientSideAdSelectionParams:se,updateAdElement:me,updateCompanionAdElement:ve,updateOutstreamAdElement:fe,updateOutstreamAdDisplayStatus:he,updateAdMuted:ue,updateAdPlaying:pe,updateAdStats:ge,updateAdVolume:ce,displaySDASequence:le,updateSDAHiddenState:de,updateLastSDAAdRequestBlocked:ye,incrementSDARequestCount:ke,updateDeclinedFormats:Se})}),[c,ie,ae,re,te,$,J,ee,ne,Z,Q,H,W,K,oe,se,me,ve,fe,he,ue,pe,ge,ce,le,de,ye,ke,Se])}();return(0,r.jsx)(S.jK.Provider,{value:n,children:e.children||null})},U=t(982592),q=t(808835),G=t(783321),z=t(805645),H=t.n(z),W=t(317193),K=t(424749),Z=t(486651),Q=t(891975),Y=t(973421),X=t.n(Y),$=t(145748),J=t(290942),ee=t(982821),ne=t(503472),te=t(214120),ie=t(456450),ae=t(131883),re=t(263913),oe=t.n(re),se=t(762436),le="content-classification-labels-acknowledged",de={loggedIn:{},loggedOut:{}},ue=t(116989),ce=function(e){var n,t=e.disableMatureOverlay,i=e.content,r=e.playSessionId,s=e.isOffline,l=(0,o.useMemo)((function(){return(0,K.i5)(i)}),[i]),d=(0,o.useState)(W.HX.PageLoad),u=d[0],p=d[1],m=t||s||!l.isStream&&!l.isVOD&&!l.isClip,v=(0,G.IT)(H(),{variables:l,skip:m}),f=v.data,g=v.error,h=v.loading,y=null===(n=null==f?void 0:f.user)||void 0===n?void 0:n.id;!function(e){var n=e.disableMatureOverlay,t=e.setOverlayTiming,i=e.streamChannelID,r=e.variables,s=(0,Z.m)(),l=(0,c.d4)(ae.JK),d=(0,o.useRef)(),u=(0,$.D)(i?(0,ie.mq)(i):"",{skip:n||!r.isStream||"string"!=typeof i,skipMessage:function(e){return e.type!==ee.PD.ContentClassificationLabelsUpdated}})[0],p=(0,J.Z)(u);(0,o.useEffect)((function(){u&&u!==p&&(clearTimeout(d.current),d.current=setTimeout((function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,s.query({query:oe(),variables:{channelID:i},fetchPolicy:"network-only"})];case 1:return e=n.sent().data,(0,ne.oR)(H(),r,(function(n){t(W.HX.Interrupt);var i=X()(n,(function(e){return e.user.stream.contentClassificationLabels}),(function(){return(0,K.NB)(l,null==u?void 0:u.content_classification_labels)}));return i=X()(i,(function(e){return e.user.stream.contentClassificationLabelPolicyProperties}),(function(){var n,t;return(null===(t=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.contentClassificationLabelPolicyProperties)?{__typename:"ContentClassificationLabelPolicyProperties",signPostProperties:e.user.stream.contentClassificationLabelPolicyProperties.signPostProperties,contentGateProperties:e.user.stream.contentClassificationLabelPolicyProperties.contentGateProperties}:null})),i}),(function(n){var t,i,a;return!(null===(t=null==n?void 0:n.user)||void 0===t?void 0:t.stream)||(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.id)!==(null===(a=null==e?void 0:e.user)||void 0===a?void 0:a.id)}),s),[2]}}))}))}),(0,te.yT)(u.jitter)))}),[s,l,p,t,i,u,r]),(0,Q.S)((function(){return function(){clearTimeout(d.current)}}))}({disableMatureOverlay:t,setOverlayTiming:p,streamChannelID:y,variables:l}),(0,o.useEffect)((function(){h&&p(W.HX.PageLoad)}),[h,p]);var k=(0,o.useMemo)((function(){return(0,K.$Q)({variables:l,loading:h,skip:m,data:f,error:g})}),[l,h,m,f,g]),S=k.channelName,_=k.contentLabels,C=k.contentPolicies,P=function(e){var n,t=null===(n=(0,c.d4)(ae.wz))||void 0===n?void 0:n.id,i=(0,se.r)(le,de),r=i[0],s=i[1],l=(0,o.useMemo)((function(){if(!e||0===e.length)return!0;if(t){var n=r.loggedIn[t];return!!n&&e.every((function(e){return n.includes(e)}))}var i=(0,K.Cp)(r.loggedOut);return e.every((function(e){return i.hasOwnProperty(e)}))}),[r,e,t]),d=(0,o.useCallback)((function(){var n;if(e&&0!==e.length){var i=b.IG.get(le,de);if(t){var r=null!==(n=i.loggedIn[t])&&void 0!==n?n:[],o=e.reduce((function(e,n){return e.includes(n)||e.push(n),e}),r);i.loggedIn[t]=o}else{var l=(0,K.Cp)(i.loggedOut),d=Date.now()+2592e6;i.loggedOut=e.reduce((function(e,n){return e[n]=d,e}),l)}s((0,a.__assign)({},i))}}),[e,t,s]);return{isAcknowledged:l,storeAcknowledgement:d}}((0,K.ky)(_,C)),E=P.isAcknowledged,x=P.storeAcknowledgement,A=(0,o.useMemo)((function(){return(0,K.$p)({result:k,isAcknowledged:E})}),[k,E]),N=function(e){var n=e.data,t=e.overlayTiming,i=e.overlayType,r=e.playSessionId,s=e.result,l=e.variables,d=(0,o.useMemo)((function(){var e,a,o,d,u,c,p,m;return{page_session_id:b.x2.session.pageviewID,play_session_id:r,channel_id:s.channelID,broadcast_id:null!==(o=null===(a=null===(e=null==n?void 0:n.user)||void 0===e?void 0:e.stream)||void 0===a?void 0:a.id)&&void 0!==o?o:null,category:s.category,live:l.isStream,vod_type:(null===(d=null==n?void 0:n.video)||void 0===d?void 0:d.broadcastType)?(0,ue.O)(n.video.broadcastType):null,clip_slug:null!==(c=null===(u=null==n?void 0:n.clip)||void 0===u?void 0:u.slug)&&void 0!==c?c:null,vod_id:null!==(m=null===(p=null==n?void 0:n.video)||void 0===p?void 0:p.id)&&void 0!==m?m:null,content_classification_label_display_type:i,content_classification_label_load_type:t,content_classification_label_set:(0,K.aH)(s.contentLabels)}}),[n,t,i,r,s,l]),u=(0,o.useRef)({location:null,page_session_id:b.x2.session.pageviewID,play_session_id:r,channel_id:null,broadcast_id:null,category:null,live:!1,vod_type:null,vod_id:null,clip_slug:null,content_classification_label_display_type:i,content_classification_label_load_type:t,content_classification_label_set:null}),c=(0,o.useRef)();(0,o.useEffect)((function(){d.channel_id===u.current.channel_id&&d.content_classification_label_display_type===u.current.content_classification_label_display_type&&d.content_classification_label_load_type===u.current.content_classification_label_load_type&&d.content_classification_label_set===u.current.content_classification_label_set||(clearTimeout(c.current),c.current=setTimeout((function(){var e,n;u.current=d,s.status!==W.ff.Skip&&d.content_classification_label_display_type!==W.P8.Unknown&&(d.content_classification_label_display_type===W.P8.FetchErrorDisclosure||null!==d.channel_id&&null!==d.content_classification_label_set)&&(b.x2.tracking.trackAvailability({category:"community",name:"VideoPlayer_ContentClassificationOverlays",is_available:s.status!==W.ff.Error,reason:s.status===W.ff.Error?s.reason:void 0}),d.content_classification_label_display_type!==W.P8.None&&b.x2.tracking.__track_SSRMigrationFixme("content_classification_label_display",(0,a.__assign)((0,a.__assign)({},d),{location:null!==(n=null===(e=b.x2.tracking.getLastPageview())||void 0===e?void 0:e.location)&&void 0!==n?n:null})))}),250))}),[u,s,d]);var p=(0,o.useCallback)((function(e){var n,t;return b.x2.tracking.__track_SSRMigrationFixme("content_classification_label_click",(0,a.__assign)((0,a.__assign)({},u.current),{action:e,location:null!==(t=null===(n=b.x2.tracking.getLastPageview())||void 0===n?void 0:n.location)&&void 0!==t?t:null}))}),[u]);return{trackClick:p}}({data:f,playSessionId:r,overlayTiming:u,overlayType:A,result:k,variables:l}).trackClick;return(0,o.useMemo)((function(){return{channelName:S,contentLabels:_,storeAcknowledgement:x,overlayTiming:u,overlayType:A,trackClick:N}}),[S,_,x,u,A,N])},pe=(0,p.Zz)((0,T.cj)((function(e){var n,t=e.behaviors,i=e.content;return{disableMatureOverlay:null!==(n=null==t?void 0:t.disableMatureOverlay)&&void 0!==n&&n,content:i}})),(0,I.dd)((function(e){return{playSessionId:e.playSessionId,isOffline:e.isOffline}})))((function(e){var n=e.children,t=e.content,i=e.disableMatureOverlay,a=e.playSessionId,o=e.isOffline,s=ce({content:t,disableMatureOverlay:i,playSessionId:a,isOffline:o});return(0,r.jsx)(q.J.Provider,{value:s,children:n})})),me=t(288480),ve=t(928778),fe=t(769660),ge=t(419813),he=t(343026),ye=t(569939),ke=t(21824),Se=t(118483),_e=t(286169),Ce=t(145875),be=t(841913),Pe=t.n(be);!function(e){e[e.RESET=0]="RESET",e[e.SET_OVERLAY_VISIBILITY=1]="SET_OVERLAY_VISIBILITY",e[e.OPEN_POPOVER=2]="OPEN_POPOVER",e[e.CLOSE_POPOVER=3]="CLOSE_POPOVER",e[e.SET_MENU_STATE=4]="SET_MENU_STATE",e[e.SET_PLAYER_MENU_STATE=5]="SET_PLAYER_MENU_STATE",e[e.SET_NOTIFICATION_STATE=6]="SET_NOTIFICATION_STATE"}(j||(j={}));var Ee=t(15250);function xe(e){var n=e.extensionsForChannel;return n&&n.fetchedChannelID}function Ae(e){var n=e.extensionsForChannel;if(!n)return!1;var t=n.error,i=n.loading,a=n.installedExtensions;return!(t||i||!a||!a.length)}function Ne(e){return e.reduce((function(e,n){var t=(0,he.wv)(n);return t&&(e[t]={identityLinkedStatus:(0,he.aX)(n.extension.token).identityLinkedStatus}),e}),{})}var we={isOverlayVisible:!0,menuState:{type:ge.gu.NONE},playerMenuState:{type:ge.gu.NONE,selectedInstallationID:null},notificationState:{type:ge._n.NONE},selectedExtensionID:null,hoveredExtensionID:null,permissionsStates:{}},Ie=function(e){function n(n){var t=e.call(this,n)||this;return t.computeContextProps=function(){var e,n,i,r,o=t.sortExtensions();return(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({},Ce.GZ),{loginID:t.props.loginID,channelID:xe(t.props),hideExtensions:(e=t.props,n=e.isMini,i=e.isVideoAdShowing,r=e.isPlaying,!(!e.isCasting&&!n&&r&&!i)),isChannelInfoVisible:t.props.isFullscreen||t.props.isTheatreMode||!!t.props.showChannelInfoOnHover}),o),{shouldMountExtensionComponents:Ae(t.props),isOverlayVisible:t.state.isOverlayVisible&&!!o.overlayExtension,permissionsStates:t.state.permissionsStates,setOverlayVisibility:t.setOverlayVisibility,openPopover:t.openPopover,closePopover:t.closePopover,togglePopover:t.togglePopover,hoverExtensionCard:t.hoverExtensionCard,setMenuState:t.setMenuState,setPlayerMenuState:t.setPlayerMenuState,setPermissionsState:t.setPermissionsState,setNotification:t.setNotification,isMenuOpen:t.isMenuOpen,isDockIconHovered:t.isDockIconHovered,getMenuState:t.getMenuState,getPlayerMenuState:t.getPlayerMenuState,getNotification:t.getNotification,isPopoverOpen:t.isPopoverOpen,isAnyPopoverOpen:t.isAnyPopoverOpen,trackEvent:t.trackEvent})},t.sortExtensions=function(){var e=(0,he.gw)(t.installations),n=e[me.Z1.Overlay][0]||null,i=e[me.Z1.Component];return{overlayExtension:n,componentExtensions:i,allVideoExtensions:(0,a.__spreadArray)((0,a.__spreadArray)([],n?[n]:[],!0),i,!0)}},t.computeInitialNotificationState=function(e,n){return e===ge._n.BITS_BALANCE?(0,a.__assign)((0,a.__assign)({},n),{type:ge._n.BITS_BALANCE,expiration:Date.now()+he.QH}):{type:ge._n.NONE}},t.computeNewState=function(e,n,i){var r="active"===b.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control");switch(e.type){case j.RESET:return t.defaultState;case j.SET_OVERLAY_VISIBILITY:return(0,a.__assign)((0,a.__assign)({},n),{isOverlayVisible:e.payload.visible});case j.SET_NOTIFICATION_STATE:return(0,a.__assign)((0,a.__assign)({},n),{notificationState:e.payload.notificationState});case j.OPEN_POPOVER:var o=ge.gu.NONE;return(0,he.l1)(e.payload.installation)&&(o=ge.gu.SETTINGS),(0,he.MA)(e.payload.installation,n.permissionsStates)||(o=ge.gu.UNRELEASED),(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:o},selectedExtensionID:(0,he.wv)(e.payload.installation)});case j.CLOSE_POPOVER:return(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:ge.gu.NONE},selectedExtensionID:null});case j.SET_MENU_STATE:return r&&(0,he.l1)(e.payload.installation)&&e.payload.menuState.type===ge.gu.MANAGE_ACCESS?(0,a.__assign)((0,a.__assign)({},n),{playerMenuState:{type:ge.gu.MANAGE_ACCESS,selectedInstallationID:(0,he.wv)(e.payload.installation)}}):e.payload.menuState.type===ge.gu.NONE&&(0,he.l1)(e.payload.installation)?(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:ge.gu.NONE},selectedExtensionID:null}):(0,he.l1)(e.payload.installation)||e.payload.menuState.type!==ge.gu.MANAGE_ACCESS&&e.payload.menuState.type!==ge.gu.LOGIN_REQUIRED||n.selectedExtensionID===(0,he.wv)(e.payload.installation)?e.payload.menuState.type!==ge.gu.MANAGE_ACCESS||i.loginID?(0,a.__assign)((0,a.__assign)({},n),{menuState:e.payload.menuState,selectedExtensionID:(0,he.wv)(e.payload.installation)}):(0,a.__assign)((0,a.__assign)({},n),{menuState:t.addOnDestroyCallbackToMenuState(e.payload.menuState),selectedExtensionID:(0,he.wv)(e.payload.installation)}):n;case j.SET_PLAYER_MENU_STATE:return(0,a.__assign)((0,a.__assign)({},n),{playerMenuState:{type:e.payload.type,selectedInstallationID:e.payload.installation?(0,he.wv)(e.payload.installation):null}});default:return n}},t.getDefaultState=function(e){return e.length?(0,a.__assign)((0,a.__assign)({},we),{permissionsStates:Ne(e)}):we},t.updateState=function(e,n,i){void 0===i&&(i=!1);var a=t.state;t.setState((function(i){return t.computeNewState(e,i,n||t.props)}),(function(){t.handleExpiringNotification(),i||t.handleDestroyedConfirmationRequests(a),t.props.setIsMenuShowing(t.getPlayerMenuState().type!==ge.gu.NONE)}))},t.handleDestroyedConfirmationRequests=function(e){var n=e.menuState;n!==t.state.menuState&&((0,ge.GS)(n)||(0,ge.Ns)(n)||(0,ge.UE)(n))&&n.onDestroy&&n.onDestroy(n.confirmationRequest)},t.handleExpiringNotification=function(){var e=t.state.notificationState;(0,ge.dD)(e)?t.createExpiringNotificationTimeout(e):t.cancelExpiringNotificationTimeout()},t.cancelExpiringNotificationTimeout=function(){t.expiringNotificationTimer&&(clearTimeout(t.expiringNotificationTimer),t.expiringNotificationTimer=0)},t.createExpiringNotificationTimeout=function(e){t.cancelExpiringNotificationTimeout(),t.expiringNotificationTimer=setTimeout(t.removeExpiringNotificationIfExpired,t.remainingExpiringNotificationTime(e))},t.removeExpiringNotificationIfExpired=function(){t.cancelExpiringNotificationTimeout();var e=t.state.notificationState;(0,ge.dD)(e)&&(0===t.remainingExpiringNotificationTime(e)&&t.updateState({type:j.SET_NOTIFICATION_STATE,payload:{notificationState:{type:ge._n.NONE}}}))},t.remainingExpiringNotificationTime=function(e){var n=Date.now(),t=e.expiration;return Math.max(t-n,0)},t.setNotification=function(e,n){t.updateState({type:j.SET_NOTIFICATION_STATE,payload:{notificationState:t.computeInitialNotificationState(e,n)}})},t.getNotification=function(){return t.state.notificationState},t.setOverlayVisibility=function(e){t.updateState({type:j.SET_OVERLAY_VISIBILITY,payload:{visible:e}})},t.openPopover=function(e){t.updateState({type:j.OPEN_POPOVER,payload:{installation:e}})},t.closePopover=function(e){t.updateState({type:j.CLOSE_POPOVER,payload:{installation:e}})},t.togglePopover=function(e){t.isPopoverOpen(e)?t.closePopover(e):t.openPopover(e)},t.hoverExtensionCard=function(e){var n=e&&(0,he.wv)(e);t.setState((function(e){return e.hoveredExtensionID!==n?{hoveredExtensionID:n}:null})),e&&t.trackEvent(Ee.X2.ExtensionDockIconHover,Ee.iN.DisplayHoverInfo,Ee.si.ExtensionDockIconHover,e)},t.setMenuState=function(e,n,i){void 0===i&&(i=!1),t.updateState({type:j.SET_MENU_STATE,payload:{menuState:t.addOnDestroyCallbackToMenuState(e),installation:n}},void 0,i)},t.setPlayerMenuState=function(e,n){t.updateState({type:j.SET_PLAYER_MENU_STATE,payload:{type:e,installation:n}})},t.addOnDestroyCallbackToMenuState=function(e){return(0,ge.GS)(e)||(0,ge.Ns)(e)||(0,ge.UE)(e)?(0,a.__assign)((0,a.__assign)({},e),{onDestroy:function(e){e&&e.resultCallback&&e.defaultResult&&e.resultCallback(e.defaultResult)}}):e},t.reset=function(){t.updateState({type:j.RESET})},t.getMenuState=function(e){return t.state.selectedExtensionID===(0,he.wv)(e)?t.state.menuState:{type:ge.gu.NONE}},t.getPlayerMenuState=function(){return t.state.playerMenuState},t.isMenuOpen=function(e){return t.state.selectedExtensionID===(0,he.wv)(e)&&t.state.menuState.type!==ge.gu.NONE},t.isDockIconHovered=function(e){return t.state.hoveredExtensionID===(0,he.wv)(e)},t.isPopoverOpen=function(e){return t.state.selectedExtensionID===(0,he.wv)(e)},t.isAnyPopoverOpen=function(){return null!==t.state.selectedExtensionID},t.setPermissionsState=function(e,n){var i=(0,he.wv)(e);t.setState((function(e){var t;return{permissionsStates:(0,a.__assign)((0,a.__assign)({},e.permissionsStates),(t={},t[i]=(0,a.__assign)((0,a.__assign)({},e.permissionsStates[i]),n),t))}}))},t.trackEvent=function(e,n,i,a){var r=(0,Ee.w1)(i);r&&t.props.track(r,(0,Ee.dP)(e,n,a))},t.state=t.getDefaultState(t.installations),t}return(0,a.__extends)(n,e),Object.defineProperty(n.prototype,"installations",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?function(e){var n=e.extensionsForChannel;return n&&n.installedExtensions?n.installedExtensions.filter((function(e){return e.activationConfig.state===me.sh.Active})):[]}(this.props):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultState",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?(0,a.__assign)((0,a.__assign)({},we),{permissionsStates:Ne(this.installations)}):we},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){xe(e)!==xe(this.props)&&this.reset()},n.prototype.render=function(){return(0,r.jsx)(Ce.iu.Provider,{value:this.computeContextProps(),children:this.props.children||null})},n}(o.Component);function Te(e){return e.channelID&&e.channelID.user&&e.channelID.user.id}var De=(0,p.Zz)((0,c.Ng)((function(e){var n=(0,ae.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,T.cj)((function(e){var n=(0,_e.wk)({playerPublicPropsContext:e});return{channelLogin:(0,Se.jp)(e.content),parentChannelID:(0,Se.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:!!n.showChannelInfoOnHover}})),(0,d.c0)((function(e){return{isFullscreen:e.isFullscreen,setIsMenuShowing:e.setIsMenuShowing,videoContainer:e.videoContainer}})),(0,ye.o1)(),(0,ke.AP)((function(e){return{isPlaying:e.isPlaying}})),(0,S.VX)((function(e){return{isVideoAdShowing:(0,O.cz)(e.videoAdMetadata)}})),(0,U.vM)((function(e){return{isCasting:(0,U.mh)(e)}})),(0,ve._v)(Pe(),{name:"channelID",skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,fe.Fe)({name:"extensionsForChannel",skip:function(e){return!Te(e)},options:function(e){return{variables:{channelID:e.parentChannelID||Te(e)||""}}}}))(Ie),Fe=t(961166),Oe=t(318768),Re=t(495311),Ve=t(936608),Me=t(557175),Le=t(179405),je=t(510744),Be=t(107212),Ue=t(954978),qe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onAudioBlocked=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({audioBlocked:!0,muted:!0}),i&&!i.isMuted()&&i.setMuted(!0)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.AUDIO_BLOCKED,this.onAudioBlocked)},n.prototype.render=function(){return null},n}(o.Component),Ge=(0,p.Zz)((0,I.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,Be.X)())(qe),ze=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChanged=function(e){0!==e&&(0,n.props.updateContext)({isOffline:!1})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.DURATION_CHANGED,this.onDurationChanged)},n.prototype.render=function(){return null},n}(o.Component),He=(0,p.Zz)((0,I.dd)((function(e){return{updateContext:e.updateContext}})),(0,Be.X)())(ze),We=t(407310),Ke=t(15292),Ze=t(595101),Qe=t(565640),Ye=t(966872),Xe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onError=function(e){var t=e.code,i=e.source;switch(e.type){case Ze.B.NOT_AVAILABLE:return void n.handleNotAvailableError(t,i);case Ze.B.AUTHORIZATION:return void n.handleAuthError(t,i);case Ze.B.NOT_SUPPORTED:return void n.handleNotSupportedError();case Ze.B.NETWORK_IO:return void n.handleNetworkIOError();case Ze.B.GENERIC:return void(i===Qe.g.DRM&&n.props.setError(Ye.O4.DRMLicenseServerError));case Ze.B.NETWORK:default:return}},n.handleNotAvailableError=function(e,t){t!==Qe.g.DRM?e===Ye.O4.LVSCCUCap?n.props.setError(Ye.O4.CCUCapReached):n.props.updateContext({isOffline:!0}):n.props.setError(Ye.O4.DRMLicenseNotAvailable)},n.handleAuthError=function(e,t){var i=n.props,a=i.setError,r=i.addRestriction;if(t!==Qe.g.DRM)switch(e){case Ye.O4.GeoBlocked:return void a(Ye.O4.GeoBlocked);case Ye.O4.UnsupportedDevice:return void((0,Ke.F$)(n.props.data)&&We.j.browser.isSafari()?a(Ye.O4.SafariUnsupportedDevice):a(Ye.O4.UnsupportedDevice));case Ye.O4.AnonymizerBlocked:return void a(Ye.O4.AnonymizerBlocked);case Ye.O4.CellularNetworkProhibited:return void a(Ye.O4.CellularNetworkProhibited);case Ye.O4.UnauthorizationEntitlements:return void r(Oe.S.PremiumContent);case Ye.O4.VodRestricted:return void r(Oe.S.SubscriberVOD);default:if(n.props.isOffline)return;return void a(Ye.O4.ContentNotAvailable)}else a(Ye.O4.CDMNotAuthorized)},n.handleNotSupportedError=function(){n.props.setError(Ye.O4.FormatNotSupported)},n.handleNetworkIOError=function(){n.props.setError(Ye.O4.Network)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.ERROR,this.onError)},n.prototype.render=function(){return null},n}(o.Component),$e=(0,p.Zz)((0,I.dd)((function(e){return{setError:e.setError,addRestriction:e.addRestriction,isOffline:e.isOffline,updateContext:e.updateContext}})),(0,Be.X)(),(0,Ke.yg)())(Xe),Je=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMutedChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({muted:i&&i.isMuted()})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.MUTED_CHANGED,this.onMutedChange)},n.prototype.render=function(){return null},n}(o.Component),en=(0,p.Zz)((0,I.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,Be.X)())(Je),nn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackRateChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({speed:i&&i.getPlaybackRate()})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChange)},n.prototype.render=function(){return null},n}(o.Component),tn=(0,p.Zz)((0,I.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,Be.X)())(nn),an=t(337455),rn=t(324538),on=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isUnmounted=!1,n.logger=n.props.logger.withCategory("on-player-core-loaded"),n.onPlayerCoreLoaded=function(e){var t,i;if(e)if(n.logger.debug("player core loaded"),n.isUnmounted)n.logger.debug("component is unmounted. will not in init mediaplayer");else{if(b.x2.config.buildType!==an.n.Production&&(window.mediaPlayer=e),n.props.containerRef){n.logger.debug("attaching video element");var r=e.mediaPlayerInstance.getHTMLVideoElement();r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline","");var o=null===(i=(t=e.mediaPlayerInstance).getVideoRenderSurface)||void 0===i?void 0:i.call(t);null==o||o.setAttribute("class","video-render-surface"),n.props.containerRef.insertBefore(null!=o?o:r,n.props.containerRef.firstChild)}e.mediaPlayerInstance.setClientId(b.x2.config.authSettings.clientID);var s=e.mediaPlayerInstance.getVolume(),l=e.mediaPlayerInstance.isMuted();n.props.updateContext((0,a.__assign)((0,a.__assign)({},e),{volume:s,muted:l,isPlayerCoreLoading:!1}))}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,t;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.onPlayerCoreLoaded,[4,(0,rn.F)({enableSuperResExperiment:null!==(t=this.props.enableSuperResExperiment)&&void 0!==t&&t})];case 1:return e.apply(this,[i.sent()]),[3,3];case 2:return n=i.sent(),this.props.logger.errorAndReport(n,"Failed to load player core via npm module."),[3,3];case 3:return[2]}}))}))},n.prototype.componentWillUnmount=function(){var e=this;this.isUnmounted=!0,setTimeout((function(){e.props.mediaPlayerInstance&&e.props.mediaPlayerInstance.delete(),e.props.onDestroy&&e.props.onDestroy()}))},n.prototype.render=function(){return null},n}(o.Component),sn=(0,p.Zz)((0,I.dd)((function(e){var n=e.updateContext,t=e.logger;return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:n,logger:t}})),(0,T.cj)((function(e){return{onDestroy:(0,_e.zB)({playerPublicPropsContext:e}).onDestroy,enableSuperResExperiment:(0,_e.wk)({playerPublicPropsContext:e}).enableSuperResExperiment}})))(on),ln=t(891918),dn=t(207817),un=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){var t=n.props,i=t.updateContext,a=t.hasPlayed,r=t.mediaPlayerInstance,o=t.removeError,s=e===ln.p.PLAYING,l=s||a;if(i({hasPlayed:l,playerState:e}),n.props.disableGlobalPlaySessionIdUpdate||b.E5.setVideoPlayerTrackingData({hasPlayed:l}),s&&o(),e===ln.p.ENDED&&i({isOffline:!0}),e===ln.p.READY){if(!r)return;n.setInitialVideoOffset(r),n.setInitialQualitySetting(r)}},n.setInitialVideoOffset=function(e){var t=n.props,i=t.hasPlayed,a=t.initialOffset;a&&!i&&e.seekTo(a)},n.setInitialQualitySetting=function(e){var t=n.props,i=t.isClipContent,a=t.quality,r=t.qualityBitrate,o=t.updateContext,s=i?n.props.availableQualities:(0,Le.Er)(e);if(i||o({availableQualities:s,unavailableQualities:(0,Le.FC)(e)}),0!==s.length){var l=s.some((function(e){return e.group===dn.s}));if(a===dn.s&&l)e.setAutoQualityMode(!0);else{var d=(0,Le.Tp)(s,a,r,i);l&&"lowest"===d.strategy?e.setAutoQualityMode(!0):(d.quality.group!==a&&o({quality:d.quality.group,qualityBitrate:d.quality.bitrate}),e.setQuality(d.quality))}}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;[ln.p.IDLE,ln.p.READY,ln.p.BUFFERING,ln.p.PLAYING,ln.p.ENDED].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),this.props.playerEvents.addEventListener(Ue.a.QUALITIES_CHANGED,(function(){if(e.props.mediaPlayerInstance){var n=(0,Le.Er)(e.props.mediaPlayerInstance),t=(0,Le.FC)(e.props.mediaPlayerInstance);b.vF.debug("Received player QUALITIES_CHANGED event","available:",n,"unavailable:",t),e.props.updateContext({availableQualities:n,unavailableQualities:t})}}))},n.prototype.render=function(){return null},n}(o.Component),cn=(0,p.Zz)((0,c.Ng)((function(e){return{activeVideoPlayerRefID:(0,Ve.LG)(e)}})),(0,I.dd)((function(e){var n=e.availableQualities,t=e.hasPlayed,i=e.mediaPlayerInstance,a=e.playerRefID,r=e.quality,o=e.qualityBitrate,s=e.updateContext,l=e.removeError;return{availableQualities:n,hasPlayed:t,mediaPlayerInstance:i,playerRefID:a,quality:r,qualityBitrate:o,updateContext:s,removeError:l}})),(0,Be.X)(),(0,T.cj)((function(e){var n=e.content,t=(0,_e.wk)({playerPublicPropsContext:e}).disableGlobalPlaySessionIdUpdate;return{isClipContent:(0,Se.Jn)(n),initialOffset:(0,Se.xq)(n),disableGlobalPlaySessionIdUpdate:t}})))(un);var pn=t(204870),mn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onQualityChange=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.updateContext;if(t)if(t.isAutoQualityMode())i({quality:pn.IJ.group,qualityBitrate:pn.IJ.bitrate});else{var a=t.getQuality();i({quality:a.group,qualityBitrate:a.bitrate})}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.QUALITY_CHANGED,this.onQualityChange)},n.prototype.render=function(){return null},n}(o.Component),vn=(0,p.Zz)((0,I.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:e.updateContext}})),(0,Be.X)())(mn),fn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onVolumeChanged=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance,a=i&&i.getVolume();t({volume:a&&Math.round(100*a)/100})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(Ue.a.VOLUME_CHANGED,this.onVolumeChanged)},n.prototype.render=function(){return null},n}(o.Component),gn=(0,p.Zz)((0,I.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,Be.X)())(fn),hn=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=t.props.logger.withCategory("player-context-provider"),t.maybeUpdateAutoplay=function(){var e=kn(t.props);t.state.autoplay===e||t.state.mediaPlayerInstance||t.updateContext({autoplay:e})},t.requestManualReset=function(){t.updateContext({manualResetRequested:!0})},t.updateContext=function(e,n){t.setState((function(n){return Object.keys(e).some((function(t){return e[t]!==n[t]}))?(0,a.__assign)((0,a.__assign)({},n),e):null}),(function(){t.logger.debug("player context updated",{state:t.state}),n&&n()}))},t.addRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?null:{restrictions:(0,a.__assign)((0,a.__assign)({},n.restrictions),(t={},t[e]=!0,t))}}))},t.liftRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?{restrictions:(0,a.__assign)((0,a.__assign)({},n.restrictions),(t={},t[e]=!1,t))}:null}))},t.setError=function(e){t.setState((function(n){return e===n.error?null:{error:e}}))},t.removeError=function(){t.setState((function(e){return e.error?{error:void 0}:null}))},t.resetOnSourceChange=function(e,n){var i=(0,Oe.u)();(null==e?void 0:e.videoAccessToken)&&(i[Oe.S.AccountRestricted]=(0,je.P)(e.videoAccessToken)),t.setState({hasPlayed:!1,isOffline:void 0,playerState:void 0,playSessionId:n,playSessionStartTime:Date.now(),sourceStatus:Re.O.Provided,restrictions:i,error:void 0,videoAccessToken:e&&e.videoAccessToken,accessExpiration:e&&e.accessExpiration,forbidden:e&&e.forbidden,accessTokenLoadTime:e&&e.accessTokenLoadTime}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(n)},t.state=(0,a.__assign)((0,a.__assign)({},I.Sw),{autoplay:kn(t.props),addRestriction:t.addRestriction,isLiveLowLatencyEnabled:b.IG.get(Me.U.LOW_LATENCY_MODE,!0),liftRestriction:t.liftRestriction,setError:t.setError,removeError:t.removeError,availableQualities:[],isNetworkOffline:!navigator.onLine,playerRefID:t.props.playerRefID,quality:t.props.quality,qualityBitrate:(0,Le.Ao)()||I.Sw.qualityBitrate,updateContext:t.updateContext,requestManualReset:t.requestManualReset,resetOnSourceChange:t.resetOnSourceChange,logger:t.props.logger}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(I.Sw.playSessionId),t}return(0,a.__extends)(n,e),n.prototype.componentDidUpdate=function(){this.maybeUpdateAutoplay()},n.prototype.render=function(){return(0,r.jsxs)(I.$g.Provider,{value:this.state,children:[this.props.children||null,(0,r.jsx)(Ge,{}),(0,r.jsx)(He,{}),(0,r.jsx)($e,{}),(0,r.jsx)(en,{}),(0,r.jsx)(tn,{}),(0,r.jsx)(sn,{containerRef:this.props.videoRef}),(0,r.jsx)(cn,{}),(0,r.jsx)(vn,{}),(0,r.jsx)(gn,{})]})},n.prototype.componentWillUnmount=function(){this.updatePlaySessionId(void 0)},n.prototype.updatePlaySessionId=function(e){b.x2.tracking.setVideoPlayerTrackingData({playSessionID:e,hasPlayed:!1})},n}(o.Component),yn=(0,p.Zz)((0,c.Ng)((function(e){return{activePlayerRefID:(0,Ve.LG)(e)}})),(0,T.cj)((function(e){var n=(0,_e.wk)({playerPublicPropsContext:e}),t=n.disableAutoplay,i=n.disableGlobalPlaySessionIdUpdate,a=n.exclusivePlayback,r=(0,Le.x0)({playerPublicPropsContext:e});return{disableAutoplay:t,disableGlobalPlaySessionIdUpdate:i,exclusivePlayback:a,quality:r}})))(hn);function kn(e){var n=e.disableAutoplay;return e.exclusivePlayback?!(n||e.activePlayerRefID&&e.activePlayerRefID!==e.playerRefID):!n}var Sn=t(465356),_n=function(e){var n=o.useContext(ke.wL),t=o.useContext(d._t),i=o.useContext(I.$g).requestManualReset,a=o.useContext(ye.g7).track,s=n.play,l=n.pause,u=n.seek,c=n.setVolume,p=n.setMuted,m=n.setQuality,v=n.getPlayerMetadata,f=t.setClosedCaptionsEnabled,g=o.useMemo((function(){return{getPlayerMetadata:v,pause:l,play:s,seek:u,requestManualReset:i,setClosedCaptionsEnabled:f,setMuted:p,setQuality:m,setVolume:c,track:a}}),[v,l,s,u,i,f,p,m,c,a]);return(0,r.jsx)(Sn.$_.Provider,{value:g,children:e.children||null})},Cn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(yn,{videoRef:this.props.videoRef,logger:this.props.logger,playerRefID:this.props.playerRefID,children:(0,r.jsx)(B,{children:(0,r.jsx)(ke.X0,{children:(0,r.jsx)(d.nD,{videoContainer:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,r.jsx)(Fe.RX,{containerRef:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,r.jsx)(_n,{children:(0,r.jsx)(pe,{children:(0,r.jsx)(ye.N1,{children:(0,r.jsx)(U._v,{logger:this.props.logger,children:(0,r.jsx)(k,{children:(0,r.jsx)(De,{children:(0,r.jsx)(s.hW,{children:(0,r.jsx)(u,{children:this.props.children})})})})})})})})})})})})})},n}(o.Component)},961166:function(e,n,t){"use strict";t.d(n,{In:function(){return S},MP:function(){return _},RX:function(){return b}});var i=t(331635),a=t(474848),r=t(296540),o=t(415044),s=t(868238),l=t(194569),d=t(945137),u=t(107212),c=t(891918),p=t(954978),m=t(573566),v=t(709673),f=t(436617),g=t(231273),h=t(457063),y=t(764823),k=(0,f.e)("PlayerActivityContext",{disablePlayerActiveTimeout:function(){return null},enablePlayerActiveTimeout:function(){return null},__doNotUse_SetPlayerActivity:function(){return null}},(function(e){return{playerActivityContext:e}})),S=k.withMemoContext,_=k.context,C=function(e){function n(n){var t=e.call(this,n)||this;return t.listenersAttached=!1,t.playerActiveTimeoutEnabled=!0,t.mouseIsInsidePlayer=!1,t.handleMouseEnter=function(e){var n=e.relatedTarget;(null==n?void 0:n.closest("#player-controls-button-tooltip"))||"BODY"===(null==n?void 0:n.nodeName)||(t.mouseIsInsidePlayer=!0,t.setPlayerActive())},t.handleMouseLeave=function(e){var n=e.relatedTarget;(null==n?void 0:n.closest("#player-controls-button-tooltip"))||(t.mouseIsInsidePlayer=!1,t.setPlayerInactive())},t.onMouseMove=function(){t.mouseIsInsidePlayer&&(t.mouseMoveRAF||(t.mouseMoveRAF=requestAnimationFrame(t.setPlayerActive)))},t.onQualityChange=function(){var e=t.props.mediaPlayerInstance;e&&!e.isAutoQualityMode()&&t.setPlayerActive()},t.setPlayerActivity=function(e){e?t.setPlayerActive():t.setPlayerInactive()},t.setPlayerActive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerActive)||void 0===n||n.call(e),t.setState((function(e){return e.active?null:{active:!0}}),t.setPlayerActiveTimeout)},t.setPlayerInactive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerInactive)||void 0===n||n.call(e),t.clearMouseMoveRAF(),t.props.isMenuShowing||t.setState((function(e){return e.active?{active:!1}:null}))},t.setPlayerActiveTimeout=function(){t.clearPlayerActiveTimeout(),t.playerActiveTimeoutEnabled&&(t.playerActiveTimeout=setTimeout(t.setPlayerInactive,5e3))},t.clearPlayerActiveTimeout=function(){t.playerActiveTimeout&&(clearTimeout(t.playerActiveTimeout),delete t.playerActiveTimeout)},t.clearMouseMoveRAF=function(){t.mouseMoveRAF&&(cancelAnimationFrame(t.mouseMoveRAF),delete t.mouseMoveRAF)},t.disablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!1,t.setPlayerActive()},t.enablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!0,t.setPlayerActive()},t.state={disablePlayerActiveTimeout:t.disablePlayerActiveTimeout,enablePlayerActiveTimeout:t.enablePlayerActiveTimeout,__doNotUse_SetPlayerActivity:t.setPlayerActivity},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props.playerEvents.addEventListener;this.updatePlayerRef(),this.maybeAttachDomEventListeners(),e(c.p.PLAYING,this.setPlayerActive),e(p.a.QUALITY_CHANGED,this.onQualityChange),e(p.a.SEEK_COMPLETED,this.setPlayerActive)},n.prototype.componentDidUpdate=function(e){var n,t;e.isSDAPlaying===this.props.isSDAPlaying&&e.isTurboSDAUpsellShowing===this.props.isTurboSDAUpsellShowing&&(null===(n=e.brandLiftContext)||void 0===n?void 0:n.isSurveyShowing)===(null===(t=this.props.brandLiftContext)||void 0===t?void 0:t.isSurveyShowing)||this.removeDomEventListeners(),this.updatePlayerRef(),this.maybeAttachDomEventListeners();var i=e.theatreModeEnabled!==this.props.theatreModeEnabled,a=e.playerIsPersisting!==this.props.playerIsPersisting,r=e.isMenuShowing!==this.props.isMenuShowing;(i||a||r)&&this.setPlayerActive()},n.prototype.componentWillUnmount=function(){this.removeDomEventListeners(),this.clearPlayerActiveTimeout()},n.prototype.render=function(){return(0,a.jsx)(_.Provider,{value:this.state,children:this.props.children||null})},n.prototype.updatePlayerRef=function(){var e=this.props,n=e.containerRef,t=e.videoRef;this.playerRef=this.getOutstreamDisplayAdShowing()?n:t},n.prototype.getOutstreamDisplayAdShowing=function(){var e=this.props,n=e.isSDAPlaying,t=e.isTurboSDAUpsellShowing,i=e.brandLiftContext.isSurveyShowing;return n||t||i},n.prototype.removeDomEventListeners=function(){this.playerRef&&this.listenersAttached&&(this.playerRef.removeEventListener("mouseleave",this.handleMouseLeave),this.playerRef.removeEventListener("mouseenter",this.handleMouseEnter),this.playerRef.removeEventListener("mousemove",this.onMouseMove),this.playerRef.removeEventListener("focusin",this.setPlayerActive),this.playerRef.removeEventListener("focusout",this.setPlayerInactive),this.listenersAttached=!1)},n.prototype.maybeAttachDomEventListeners=function(){var e=this;this.playerRef&&!this.listenersAttached&&(this.listenersAttached=!0,this.playerRef.addEventListener("mouseleave",this.handleMouseLeave),this.playerRef.addEventListener("mouseenter",this.handleMouseEnter),this.playerRef.addEventListener("mousemove",this.onMouseMove),this.playerRef.addEventListener("focusin",this.setPlayerActive),this.playerRef.addEventListener("focusout",(function(n){var t;(null===(t=e.playerRef)||void 0===t?void 0:t.contains(n.relatedTarget))||e.setPlayerInactive()})))},n}(r.Component),b=(0,s.Zz)((0,u.X)(),(0,g.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,y.c0)((function(e){var n=e.isMenuShowing;return{isMenuShowing:n}})),(0,v.VX)((function(e){var n=e.adFormatMetadata;return{isSDAPlaying:(0,m.Eg)(n)}})),(0,h.cj)((function(e){var n=e.callbacks;return{onPlayerActive:null==n?void 0:n.onPlayerActive,onPlayerInactive:null==n?void 0:n.onPlayerInactive}})),d.zX,(0,l.IU)(),(0,o.Ng)((function(e){var n=e.ui;return{theatreModeEnabled:n.theatreModeEnabled,playerIsPersisting:n.persistentPlayerEnabled&&n.persistentPlayerIsPersisting}})))(C)},569939:function(e,n,t){"use strict";t.d(n,{_u:function(){return Z},N1:function(){return ee},g7:function(){return X},o1:function(){return Y}});var i=t(331635),a=t(474848),r=t(296540),o=t(415044),s=t(868238),l=t(346716),d=t(928778),u=t(726561),c=t(456450);var p=t(982821),m=t(979205),v=t(732446),f=t(267924),g=t(131883),h=t(412914),y=t(574156),k=t(669022),S=t(107212),_=t(709673),C=t(808835),b=t(424749),P=t(436617),E=t(231273),x=t(457063),A=t(764823),N=t(21824),w=t(648101),I=t(954978),T=t(763932),D=t(573566),F=t(118483),O=t(177972),R=t(286169),V=t(664213),M=t(451089),L=t.n(M),j=t(594064),B=t.n(j),U=t(503472);function q(e){var n=z(e),t=function(e){var n=z(e),t=H(e.collection);if(n&&t&&t.length>0){var i=t.findIndex((function(e){return e.id&&n.id&&e.id===n.id}));return i>=0?i:void 0}return}(e);return{video:n,positionInCollection:t}}function G(e){var n;if(e.user)return null===(n=e.user.broadcastSettings)||void 0===n?void 0:n.game;var t=z(e);return t?t.game:e.clip?e.clip.game:void 0}function z(e){var n=e.video,t=e.collection;if(n)return n;var i=H(t);return i&&i.length>0?i[0]:null}function H(e){var n=e&&e.items&&e.items.edges;return n&&(0,U.bK)(n)}function W(e){var n=e.user;return n?n.broadcastSettings:null}function K(e){var n=e.user;return n?n.id:null}var Z={track:function(){return null}},Q=(0,P.e)("PlayerTrackingContext",Z,(function(e){return e})),Y=Q.withMemoContext,X=Q.context,$=function(e){function n(n){var t=e.call(this,n)||this;return t.timeSpentHidden=0,t.timeLastVisible=performance.now(),t.isFirstVideoPlay=!0,t.autoPlaySucceeded=!0,t.handleVisibilityChange=function(){document.hidden?t.timeLastVisible=performance.now():t.timeSpentHidden=Math.round(t.timeSpentHidden+performance.now()-t.timeLastVisible),t.prevHidden!==document.hidden&&t.trackPlayerStateUpdate()},t.trackPlayerStateUpdate=function(){var e,n,i=null===(n=null===(e=t.props.mediaPlayerInstance)||void 0===e?void 0:e.getSessionData())||void 0===n?void 0:n["VIDEO-SESSION-ID"];l.E5.track("player_state_update",{play_session_id:t.props.playSessionId,video_session_id:i,muted:!!t.props.muted,hidden:document.hidden}),t.prevHidden=document.hidden,t.prevVideoSessionId=i},t.track=function(e,n){var a,r,o,s,d,u,c=t.props,p=c.playerType,m=c.muted,v=c.location,f=c.mediaPlayerInstance,g=c.data,h=c.channelLogin,y=c.volume,k=f&&f.getSessionData(),S=q(g),_=S.video,C=S.positionInCollection,b=function(e){var n=e.user,t=e.clip,i=e.collection,a=e.video;return n||t&&t.broadcaster||i&&i.owner||a&&a.owner}(g),P=g.user&&g.user.stream?g.user.stream:null,E=P?P.broadcasterSoftware:null,x=g.user&&g.user.self?!!g.user.self.subscriptionBenefit:null,A=t.getRestrictionInfo(t.props),N=b&&b.login||h,w=b&&b.id,I=t.getAutoHost(),D=null!==(a=null==I?void 0:I.sourceChannelLogin)&&void 0!==a?a:null,F=null!==(r=null==I?void 0:I.sourceChannelID)&&void 0!==r?r:null,O=f&&f.getVersion()||"",R=t.props.rightColumnExpanded&&!(p===T.C.ClipsViewing),V=!!(null===(s=null===(o=g.user)||void 0===o?void 0:o.self)||void 0===s?void 0:s.follower),M=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},function(e){var n=e&&e.state||{};return{freeform_tag_display:n.freeform_tag_display,freeform_tag_filter:n.freeform_tag_filter,item_tracking_id:n.item_tracking_id,item_position:n.item_position,row_position:n.row_position,row_name:n.row_name,section_id:n.section_id,search_query_id:n.search_query_id,search_session_id:n.search_session_id,search_item_tracking_id:n.search_item_tracking_id,tag_filter_set:n.tag_filter_set,tag_set:n.tag_set,raid_id:n.raid_id}}(v)),t.getPlayerTrackingDataFromProps()),t.uniquePayloadValuesVideoPlay(e)),t.uniquePayloadValuesMinutesWatched(e)),t.uniquePayloadValuesVideoPause(e)),t.uniquePayloadValuesVideoAdImpression(e)),t.uniquePayloadValuesVideoError(e)),t.uniquePayloadValuesClips(e)),t.uniquePayloadValuesNSecondPlayed(e)),{app_fullscreen:t.props.isFullscreen,autoplayed:t.props.autoplay,backend_version:O,broadcast_id:k&&k["BROADCAST-ID"]||void 0,broadcaster_software:E,channel:N,channel_id:w,channel_restriction_type:A.restrictionType,chat_visible:R,chat_visibility_status:R?"visible":void 0,collection_id:t.props.collectionID,collection_item_position:C,collection_session_id:t.props.collectionSessionId,content_mode:t.getContentMode(t.props),core_version:O,game:null===(d=G(g))||void 0===d?void 0:d.name,game_id:null===(u=G(g))||void 0===u?void 0:u.id,is_following:V,host_channel:D,host_channel_id:F,is_ad_playing:t.props.isAdShowing,language:t.props.language,logged_in:!!g.currentUser,login:g.currentUser&&g.currentUser.login,live:t.props.isLive,mse_support:"undefined"!=typeof MediaSource,muted:!!m,partner:!(!b||!b.isPartner),play_session_id:t.props.playSessionId,playback_gated:!!t.props.hasPlaybackRestriction,player:p,player_size_mode:t.getPlayerDisplayMode(),staff:!!t.props.data.currentUser&&t.props.data.currentUser.isStaff,subscriber:x,turbo:!!t.props.data.currentUser&&t.props.data.currentUser.hasTurbo,user_id:t.props.data.currentUser?Number(t.props.data.currentUser.id):null,viewer_exemption_reason:A.exemption,vod:_&&_.id||void 0,vod_format:t.props.isClip?"mp4":void 0,vod_id:g.clip&&Number(g.clip.id)||_&&_.id||void 0,vod_type:t.getVodType(),volume:y}),L=t.preferDecoratedProperties(M,n);l.E5.trackPlayerEvent(e,L)},t.uniquePayloadValuesVideoPlay=function(e){if("video-play"===e){var n=(0,y.wm)(t.props.consent),i={autoplay_succeeded:t.autoPlaySucceeded,is_first_video_play:t.isFirstVideoPlay,time_for_player_core_load:t.playerCoreLoadTime,time_for_token_load:t.props.accessTokenLoadTime,time_spent_hidden:t.timeSpentHidden,consent_comscore_ok:n,content_classification_label_set:t.props.contentLabelsForTracking};return t.isFirstVideoPlay=!1,t.autoPlaySucceeded=!0,i}},t.uniquePayloadValuesMinutesWatched=function(e){var n,i;if("minute-watched"===e||"clips_minute_watched"===e){var a=(null===(i=null===(n=t.props.data.user)||void 0===n?void 0:n.self)||void 0===i?void 0:i.isModerator)||!1,r=(0,y.wm)(t.props.consent);return{is_mod:a,time_spent_hidden:t.timeSpentHidden,consent_comscore_ok:r,content_classification_label_set:t.props.contentLabelsForTracking}}},t.uniquePayloadValuesVideoPause=function(e){if("video_pause"===e)return{consent_comscore_ok:(0,y.wm)(t.props.consent)}},t.uniquePayloadValuesVideoAdImpression=function(e){if("video_ad_impression"===e||"video_ad_impression_complete"===e)return{consent_comscore_ok:(0,y.wm)(t.props.consent)}},t.uniquePayloadValuesVideoError=function(e){if("video_error"===e)return{in_background:!!document.hidden}},t.uniquePayloadValuesClips=function(e){var n="video-play"===e||"video_init"===e||"video_end"===e||"n_second_play"===e||"clips_minute_watched"===e;if(!1!==t.props.isClip&&!1!==n)return{clip_slug:t.props.clipSlug}},t.uniquePayloadValuesNSecondPlayed=function(e){if("n_second_play"===e&&t.props.isClip){var n=t.props.clipLocation;return!n&&t.props.embed&&(n=w.yI.Embed),{location:n}}},t.getPlayerTrackingDataFromProps=function(){return(0,i.__assign)((0,i.__assign)({},t.props.additionalTrackingProps),{squad_stream_id:t.props.squad&&t.props.squad.streamID?t.props.squad.streamID:null,squad_stream_session_id:t.props.squad&&t.props.squad.sessionID?t.props.squad.sessionID:null,squad_stream_presentation_id:t.props.squad&&t.props.squad.presentationID?t.props.squad.presentationID:null})},t.getPlayerDisplayMode=function(){return(0,V.y)({isFullscreen:t.props.isFullscreen,playerType:t.props.playerType,theatreModeEnabled:t.props.theatreModeEnabled,mini:t.props.mini})},t.getRestrictionInfo=function(e){var n,t=e.data,i=e.accessExpiration,a=t.user&&t.user.stream?t.user.stream:null,r=a&&a.restriction,o=null!==(n=null==r?void 0:r.type)&&void 0!==n?n:null;return r&&r.options&&r.type===f.B2H.SUB_ONLY_LIVE&&(r.options.includes(f.y6l.ALLOW_ALL_TIERS)?o="".concat(o,"_1000"):r.options.includes(f.y6l.ALLOW_TIER_2_AND_3_ONLY)?o="".concat(o,"_2000"):r.options.includes(f.y6l.ALLOW_TIER_3_ONLY)&&(o="".concat(o,"_3000"))),{exemption:i?"free_preview":r&&r.exemptions&&r.exemptions.length?"exempt":null,restrictionType:o&&o.toLowerCase()||void 0}},t.getVodType=function(){if(t.props.isClip)return"clip";if(t.props.vodType)return t.props.vodType;var e=q(t.props.data).video;return e&&e.broadcastType?(0,h.E)(e.broadcastType):void 0},t.getAutoHost=function(){return t.props.autohost},t.onPlaybackBlocked=function(){t.autoPlaySucceeded=!1},t.state={track:t.track},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e,n;this.props.playerEvents.addEventListener(I.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.prevHidden=document.hidden,this.prevVideoSessionId=null===(n=null===(e=this.props.mediaPlayerInstance)||void 0===e?void 0:e.getSessionData())||void 0===n?void 0:n["VIDEO-SESSION-ID"],this.trackPlayerStateUpdate()},n.prototype.componentDidUpdate=function(e){var n,t,i=this,a=this.props.playerLoadTimePromise;e.playerLoadTimePromise!==a&&a&&a.then((function(e){i.props.playerLoadTimePromise===a&&(i.playerCoreLoadTime=e)}));var r=null===(t=null===(n=this.props.mediaPlayerInstance)||void 0===n?void 0:n.getSessionData())||void 0===t?void 0:t["VIDEO-SESSION-ID"];this.prevVideoSessionId===r&&e.muted===this.props.muted||this.trackPlayerStateUpdate(),this.prevVideoSessionId=r},n.prototype.componentWillUnmount=function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)},n.prototype.render=function(){return(0,a.jsx)(X.Provider,{value:this.state,children:this.props.children})},n.prototype.preferDecoratedProperties=function(e,n){var t=(0,i.__assign)({},n);return Object.keys(e).forEach((function(n){var i;t[n]=t[n]?null!==(i=e[n])&&void 0!==i?i:t[n]:e[n]})),t},n.prototype.getContentMode=function(e){var n=e.isClip,t=e.data,i=e.vodID,a=e.collectionID;if(n)return"clip";if(i||a)return"vod";var r=t.user&&t.user.stream?t.user.stream:null,o=r?r.broadcasterSoftware:null,s="live";return"watch_party"===o||"watch_party_premiere"===o||"watch_party_rerun"===o?s="vodcast":"rebroadcast"===o&&(s="vod"),s},n}(r.Component);var J,ee=(0,s.Zz)(k.z3,v.y,(0,o.Ng)((function(e){return{isLoggedIn:(0,g.M3)(e),language:(0,g.Ul)(e),rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,S.X)(),(0,E.dd)(ne),(0,A.c0)((function(e){var n=e.isFullscreen;return{isFullscreen:n}})),(0,x.cj)((function(e){var n=e.content,t=e.type,i=(0,R.wk)({playerPublicPropsContext:e}),a=(0,F.DG)(n);return{playerType:t,mini:!!i.mini,additionalTrackingProps:i.trackingProperties,isClip:(0,F.Jn)(n),isLive:a,vodType:(0,F.wy)(n)?n.vodType:null,squad:(0,F.DG)(n)?n.squad:null,autohost:(0,F.DG)(n)?n.autohost:null,collectionID:(0,F.Eq)(n),channelLogin:(0,F.hd)(n),vodID:(0,F.hq)(n),isCollectionWithVideo:(0,F.P3)(n)&&!!n.vodID,clipSlug:(0,F.Qc)(n),clipLocation:(0,F.gm)(n),embed:!!i.embed}})),(0,N.AP)((function(e){var n=e.muted,t=e.volume;return{muted:n,volume:t}})),(0,E.dd)(ne),(0,_.VX)((function(e){return{isAdShowing:(0,D.cz)(e.videoAdMetadata)}})),(0,C.Z)((function(e){var n=e.contentLabels;return{contentLabelsForTracking:(0,b.aH)(n)}})),(0,d._v)(B(),{options:function(e){var n;return{returnPartialData:!0,variables:{channel:e.channelLogin,isLive:!!e.channelLogin,hasCollection:e.isCollectionWithVideo&&null!==e.collectionID,collectionID:e.collectionID||"",videoID:null!==(n=e.vodID)&&void 0!==n?n:"",hasVideo:!!e.vodID,slug:e.clipSlug||"",hasClip:e.isClip}}}}),(J=function(e){var n,t,i;return{fragment:L(),id:(i=null===(n=W(e.data))||void 0===n?void 0:n.id,i?"BroadcastSettings:".concat(i):""),topic:(0,c.Fz)(K(e.data)||""),type:p.PD.BroadcastSettingsUpdate,skip:!(null===(t=W(e.data))||void 0===t?void 0:t.id)||!K(e.data),mutator:te}},function(e){return function(n){var t,o,s;return t=J(n),o=(0,u.F)(t.mutator),s=(0,r.useCallback)((function(e,n){return o.current(e,n)}),[o]),(0,r.useEffect)((function(){if(!t.skip){var e=(0,c.BN)({fragment:t.fragment,id:t.id,topic:t.topic,type:t.type,mutator:s});return function(){e()}}}),[s,t.fragment,t.id,t.skip,t.topic,t.type]),(0,a.jsx)(e,(0,i.__assign)({},n))}}))($);function ne(e){var n=e.accessExpiration,t=e.autoplay,i=e.collectionSessionId,a=e.hasPlayed,r=e.mediaPlayerInstance,o=e.playSessionId,s=e.accessTokenLoadTime,l=e.playerLoadTimePromise;return{accessExpiration:n,autoplay:t,collectionSessionId:i,hasPlaybackRestriction:(0,O.k1)(e),hasPlayed:a,mediaPlayerInstance:r,playSessionId:o,accessTokenLoadTime:s,playerLoadTimePromise:l}}function te(e,n){var t,a,r,o=(0,m.v)(e),s=o.gameID,l=o.gameName,d=o.missingGameInfo,u=o.updatingToNullGame;return n&&e&&!d?u?(0,i.__assign)((0,i.__assign)({},n),{game:null}):(0,i.__assign)((0,i.__assign)({},n),{game:{__typename:"Game",id:null!==(t=null==s?void 0:s.toString())&&void 0!==t?t:"",name:null!=l?l:"",displayName:null!=l?l:"",boxArtURL:(a=null!=l?l:"",r={width:83,height:113},"https://static-cdn.jtvnw.net/ttv-boxart/".concat(encodeURIComponent(a),"-").concat(r.width,"x").concat(r.height,".jpg"))}}):n}},465356:function(e,n,t){"use strict";t.d(n,{$_:function(){return c},BZ:function(){return u}});var i=t(436617),a=t(231273),r=t(569939),o=t(764823),s=t(21824),l={play:s.Sm.play,pause:s.Sm.pause,seek:s.Sm.seek,requestManualReset:a.Sw.requestManualReset,setVolume:s.Sm.setVolume,setMuted:s.Sm.setMuted,setQuality:s.Sm.setQuality,getPlayerMetadata:s.Sm.getPlayerMetadata,setClosedCaptionsEnabled:o._u.setClosedCaptionsEnabled,track:r._u.track},d=(0,i.e)("PublicAPIContext",l,(function(e){return{publicAPIContext:e}})),u=d.withMemoContext,c=d.context},764823:function(e,n,t){"use strict";t.d(n,{Uz:function(){return i},_t:function(){return P},_u:function(){return _},c0:function(){return b},nD:function(){return x}});var i,a=t(331635),r=t(474848),o=t(296540),s=t(415044),l=t(868238),d=t(346716),u=t(586122),c=t(561551),p=t(107212),m=t(954978),v=t(286169),f=t(436617),g=t(457063),h=t(292624),y="captionsEnabled",k="captionsPreset",S="captionsStyle";!function(e){e[e.None=0]="None",e[e.Video=1]="Video",e[e.Ad=2]="Ad"}(i||(i={}));var _={isClipSharing:!1,isFullscreen:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!1,showClosedCaptionsSettings:!1,streamInfoShowing:!1,videoContainer:void 0,videoRef:void 0,enterFullscreen:function(){return null},exitFullscreen:function(){return null},setClosedCaptionsAvailable:function(){return null},setClosedCaptionsEnabled:function(){return null},setClosedCaptionsSettingsShowing:function(){return null},setClosedCaptionsStyles:function(){return null},setClosedCaptionsStylesPreset:function(){return null},setIsMenuShowing:function(){return null},setRequestedQuality:function(){return null},toggleClipSharing:function(){return null},toggleCollectionSidebar:function(){return null},setShowControls:function(){return null},showCollectionSidebar:function(){return null},hideCollectionSidebar:function(){return null},soundtrackShow:function(){return null},soundtrackHide:function(){return null},setRecommendationsShowing:function(){return null},setStreamInfoShowing:function(){return null},statsOverlay:i.None,setStatsOverlay:function(){return null},captions:{available:!1,enabled:!1,preset:h.Pf.WhiteOnBlack,style:h.qS[h.Pf.WhiteOnBlack]},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:function(){return null},hideKeyboardShortcuts:function(){return null}},C=(0,f.e)("UIContext",_,(function(e){return{uiContext:e}})),b=C.withMemoContext,P=C.context,E=function(e){function n(n){var t=e.call(this,n)||this;t.enterFullscreen=function(){var e=t.props,n=e.videoContainer,i=e.disableFullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot;if(!i)if(r){var o=document.getElementById("root");o&&t.handleFullscreenRoot(o)}else a?t.props.fullscreen.enable(a):n&&t.props.fullscreen.enable(n)},t.exitFullscreen=function(){t.props.fullscreen.disable()},t.setClosedCaptionsSettingsShowing=function(e){t.setState({showClosedCaptionsSettings:e},(function(){if(!e){var n=document.querySelector("[data-a-target=player-settings-button]");null==n||n.focus()}}))},t.toggleCollectionSidebar=function(){t.setState((function(e){return{isCollectionSidebarShowing:!e.isCollectionSidebarShowing}}))},t.showCollectionSidebar=function(){t.setState({isCollectionSidebarShowing:!0})},t.hideCollectionSidebar=function(){t.setState({isCollectionSidebarShowing:!1})},t.soundtrackShow=function(){t.setState((function(e){return e.soundtrackShowing?null:{soundtrackShowing:!0}}))},t.soundtrackHide=function(){t.setState((function(e){return e.soundtrackShowing?{soundtrackShowing:!1}:null}))},t.toggleClipSharing=function(){t.setState((function(e){return{isClipSharing:!e.isClipSharing}}))},t.onFullscreenChange=function(){var e=t.props,n=e.videoContainer,i=e.fullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot,o=i.element();if(!o)return t.setState({isFullscreen:!1}),void(r&&t.revertToPreFullscreenSnapshot());var s=!!n&&o.contains(n),l=!!a&&o.contains(a);t.setState({isFullscreen:s||l})},t.setRequestedQuality=function(e){t.setState({requestedQuality:e})},t.setRecommendationsShowing=function(e){t.setState((function(n){return n.recommendationsShowing===e?null:{recommendationsShowing:e}}))},t.setShowControls=function(e){t.setState({showControls:e})},t.setStatsOverlay=function(e){t.setState({statsOverlay:e})},t.updateVideoContainerRef=function(e){e.videoContainer!==t.props.videoContainer&&t.setState({videoContainer:t.props.videoContainer})},t.updateVideoRef=function(e){e.videoRef!==t.props.videoRef&&t.setState({videoRef:t.props.videoRef})},t.setClosedCaptionsAvailable=function(e){t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{available:e})}}))},t.setClosedCaptionsEnabled=function(e){d.IG.set(y,e),t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{enabled:e})}}))},t.setClosedCaptionsStyles=function(e){t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{preset:h.ly,style:(0,a.__assign)((0,a.__assign)({},n.captions.style),e)})}}),(function(){d.IG.set(k,h.ly),d.IG.set(S,t.state.captions.style)}))},t.setClosedCaptionsStylePreset=function(e){h.qS[e]&&(d.IG.set(k,e),d.IG.set(S,h.qS[e]),t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{preset:e,style:h.qS[e]})}})))},t.showClipKeyboardShortcuts=function(){t.setState((function(e){return!0===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!0}}))},t.hideClipKeyboardShortcuts=function(){t.setState((function(e){return!1===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!1}}))},t.handleQualityChanged=function(){t.setRequestedQuality(!1)},t.setStreamInfoShowing=function(e){t.setState((function(n){return n.streamInfoShowing===e?null:{streamInfoShowing:e}}))},t.setIsMenuShowing=function(e){t.setState((function(n){return n.isMenuShowing===e?null:{isMenuShowing:e}}))},t.handleFullscreenRoot=function(e){t.preFullscreenSnapshot={rightColumnExpanded:t.props.rightColumnExpanded,theaterModeEnabled:t.props.theatreModeEnabled},t.props.enableTheatreMode(),t.props.collapseRightColumn(),t.props.fullscreen.enable(e)},t.revertToPreFullscreenSnapshot=function(){t.preFullscreenSnapshot.theaterModeEnabled||t.props.disableTheatreMode(),t.preFullscreenSnapshot.rightColumnExpanded&&t.props.expandRightColumn()};var r=d.IG.get(S,h.qS[h.Pf.WhiteOnBlack]);return"flashing"===r.fontOpacity&&(r.fontOpacity=h.Y4.Solid),t.state={isFullscreen:!1,isClipSharing:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!!n.enableSoundtrackByTwitch,showClosedCaptionsSettings:!1,streamInfoShowing:!1,enterFullscreen:t.enterFullscreen,exitFullscreen:t.exitFullscreen,toggleClipSharing:t.toggleClipSharing,setRequestedQuality:t.setRequestedQuality,setClosedCaptionsAvailable:t.setClosedCaptionsAvailable,setClosedCaptionsEnabled:t.setClosedCaptionsEnabled,setClosedCaptionsSettingsShowing:t.setClosedCaptionsSettingsShowing,setClosedCaptionsStyles:t.setClosedCaptionsStyles,setClosedCaptionsStylesPreset:t.setClosedCaptionsStylePreset,setIsMenuShowing:t.setIsMenuShowing,toggleCollectionSidebar:t.toggleCollectionSidebar,showCollectionSidebar:t.showCollectionSidebar,hideCollectionSidebar:t.hideCollectionSidebar,soundtrackShow:t.soundtrackShow,soundtrackHide:t.soundtrackHide,setShowControls:t.setShowControls,setRecommendationsShowing:t.setRecommendationsShowing,setStreamInfoShowing:t.setStreamInfoShowing,statsOverlay:i.None,setStatsOverlay:t.setStatsOverlay,videoContainer:n.videoContainer,videoRef:n.videoRef,captions:{available:!1,enabled:d.IG.get(y,!1),preset:d.IG.get(k,h.Pf.WhiteOnBlack),style:r},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:t.showClipKeyboardShortcuts,hideKeyboardShortcuts:t.hideClipKeyboardShortcuts},t.preFullscreenSnapshot={rightColumnExpanded:!1,theaterModeEnabled:!1},t}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.onFullscreenChange),this.props.playerEvents.addEventListener(m.a.QUALITY_CHANGED,this.handleQualityChanged)},n.prototype.componentDidUpdate=function(e){this.updateVideoContainerRef(e),this.updateVideoRef(e)},n.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.onFullscreenChange)},n.prototype.render=function(){return(0,r.jsx)(P.Provider,{value:this.state,children:this.props.children})},n}(o.Component),x=(0,l.Zz)((0,s.Ng)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,a.__assign)({},(0,l.zH)({enableTheatreMode:c._H,disableTheatreMode:c.lq,collapseRightColumn:c.o_,expandRightColumn:c.DI},e))})),(0,g.cj)((function(e){var n=(0,v.wk)({playerPublicPropsContext:e}),t=n.disableFullscreen,i=n.fullscreenForwardingRef,a=n.enableSoundtrackByTwitch,r=n.shouldFullscreenRoot;return{disableFullscreen:t,fullscreenForwardingRef:i,enableSoundtrackByTwitch:a,shouldFullscreenRoot:r}})),(0,p.X)(),(0,u.W)())(E)},292624:function(e,n,t){"use strict";t.d(n,{$3:function(){return s},Bn:function(){return N},DA:function(){return g},G0:function(){return l},K7:function(){return P},OU:function(){return f},Pf:function(){return S},Rw:function(){return I},Y4:function(){return d},Yf:function(){return c},Yi:function(){return D},ay:function(){return a},dP:function(){return p},iB:function(){return w},kf:function(){return E},ly:function(){return k},mK:function(){return u},o8:function(){return x},qS:function(){return _},sT:function(){return b},sy:function(){return A},tZ:function(){return T},wX:function(){return v},yF:function(){return C},z9:function(){return F},zz:function(){return m}});var i,a,r=t(331635),o=t(536250);!function(e){e.MonoSerif="mono-serif",e.Serif="prop-serif",e.MonoSansSerif="mono-sans-serif",e.SansSerif="prop-sans-serif",e.Casual="casual",e.Cursive="cursive",e.SmallCapitals="small-capitals"}(a||(a={}));var s,l,d,u,c,p,m,v,f={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan},g={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan,LightGray:o.h.LightGray,Gray:o.h.Gray,DarkGray:o.h.DarkGray,Transparent:o.h.Transparent};!function(e){e.Left="left",e.Center="center",e.Right="right"}(s||(s={})),function(e){e.Top="top",e.Bottom="bottom"}(l||(l={})),function(e){e.SemiTransparent="semiTransparent",e.Transparent="transparent",e.Translucent="translucent",e.Solid="solid"}(d||(d={})),function(e){e.None="none",e.Underline="underline"}(u||(u={})),function(e){e.Normal="normal",e.Italic="italic"}(c||(c={})),function(e){e.Normal="normal",e.Bold="bold"}(p||(p={})),function(e){e.Bold="fontBold",e.Italic="fontItalic",e.Underline="fontUnderline"}(m||(m={})),function(e){e.Depressed="depressed",e.Uniform="uniform",e.Drop="drop",e.Raised="raised",e.None="none"}(v||(v={}));var h={fontSize:20,fontFamily:a.SansSerif,fontOpacity:d.Solid,alignment:s.Left,edge:v.None,verticalPosition:l.Bottom,backgroundColorName:g.Black,backgroundOpacity:d.Solid,windowColorName:g.Transparent,windowOpacity:d.Solid,fontUnderline:u.None,fontBold:p.Normal,fontItalic:c.Normal,fontColorName:f.White},y=(0,r.__assign)((0,r.__assign)({},h),{backgroundOpacity:d.Translucent}),k="custom",S={WhiteOnBlack:"white-on-black",BlackOnWhite:"black-on-white",CyanOnBlack:"cyan-on-black",YellowOnBlack:"yellow-on-black",LimeOnBlack:"lime-on-black",MagentaOnBlack:"magenta-on-black",WhiteOnTransBlack:"white-on-trans-black",CyanOnTransBlack:"cyan-on-trans-black",YellowOnTransBlack:"yellow-on-trans-black",LimeOnTransBlack:"lime-on-trans-black",MagentaOnTransBlack:"magenta-on-trans-black"},_=((i={})[S.WhiteOnBlack]=h,i[S.CyanOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Cyan}),i[S.YellowOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Yellow}),i[S.LimeOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Green}),i[S.MagentaOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Magenta}),i[S.WhiteOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.White}),i[S.CyanOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Cyan}),i[S.YellowOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Yellow}),i[S.LimeOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Green}),i[S.MagentaOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Magenta}),i[S.BlackOnWhite]=(0,r.__assign)((0,r.__assign)({},h),{backgroundColorName:g.White,fontColorName:f.Black}),i),C={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},b={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"}},P={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},E={left:{alignItems:"flex-start"},center:{alignItems:"center"},right:{alignItems:"flex-end"}},x={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},A={italic:{fontStyle:"italic"},normal:{fontStyle:"normal"}},N={bold:{fontWeight:"bold"},normal:{fontWeight:"normal"}},w={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}};function I(e,n){return"transparent"===e?"transparent":"rgba(".concat(e,",").concat(n,")")}var T={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255"},D={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255",lightgray:"199,199,199",gray:"145,145,145",darkgray:"91,91,91",transparent:"transparent"},F={increment:5,decrement:-5,max:40,min:10}},674181:function(e,n,t){"use strict";var i;t.d(n,{p:function(){return i}}),function(e){e.CHANNEL_PLAYER="CHANNEL_PLAYER",e.HOME_PAGE="HOME_PAGE",e.BROWSE_PAGE="BROWSE_PAGE"}(i||(i={}))},9195:function(e,n,t){"use strict";var i,a;t.d(n,{e:function(){return a},k:function(){return i}}),function(e){e.AdFreeChannel="reason_channeladfree",e.AdFreeChannelSubscription="reason_channelsub",e.AdFreeVOD="reason_vod_ads_disabled",e.BountyInProgress="reason_bounty",e.BroadcasterInitiatedVODMidroll="reason_vod_midroll",e.BroadcasterPreroll="reason_stream_broadcaster",e.EmbedPromo="reason_embed_promo",e.MidrollDensity="reason_p4m",e.NotAffiliateOrPartner="reason_lt",e.Raid="reason_raid",e.RateLimitMidroll="reason_midroll_during_preroll",e.RateLimitPreroll="reason_ratelimit",e.ShortVideo="reason_short_vod",e.Turbo="reason_turbo",e.VODCreator="reason_vod_creator",e.WatchParty="reason_wp",e.ZeroAdGroupDevice="reason_zagd",e.ZeroAdGroupUser="reason_zagu",e.MidrollRatelimit="reason_midlimit",e.TP="reason_tp",e.RaidValid="reason_raid_valid",e.ChannelSubErr="reason_channelsub_err"}(i||(i={})),function(e){e.AmazonProductPage="reason_amazon_product_page",e.AnimatedThumbnails="reason_animated_thumbnails",e.Creative="reason_creative_player",e.Dashboard="reason_dashboard",e.Facebook="reason_facebook",e.Frontpage="reason_frontpage",e.Highlighter="reason_highlighter",e.Onboarding="reason_onboarding",e.PictureByPicture="reason_pbyp",e.SquadSecondary="reason_squad_stream_secondary_player",e.ESports="reason_thunderdome",e.Embed="reason_embed",e.ChannelSwitcher="reason_channel_switcher",e.CreatorCollaborationPreview="reason_creator_collaboration_preview"}(a||(a={}))},522646:function(e,n,t){"use strict";var i,a;t.d(n,{K:function(){return i},V:function(){return a}}),function(e){e.DFP="DFP",e.TEVS="TEVS",e.VAES="VAES"}(i||(i={})),function(e){e.Error="AdError",e.Resumed="Resumed",e.Paused="Paused",e.ContentPauseRequested="ContentPauseRequested",e.ContentResumeRequested="ContentResumeRequested",e.Loaded="Loaded",e.Started="Started",e.Progress="AdProgress",e.FirstQuartile="FirstQuartile",e.Midpoint="Midpoint",e.ThirdQuartile="ThirdQuartile",e.Impression="Impression",e.Complete="Complete",e.VolumeChanged="VolumeChanged",e.Click="Click",e.CreativeError="CreativeError",e.CreativeViewed="CreativeViewed",e.Muted="Muted",e.Unmuted="Unmuted",e.PodReplayLoopStarted="PodReplayLoopStarted"}(a||(a={}))},855580:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,{Fc:function(){return r},Ie:function(){return s},_w:function(){return i},vM:function(){return a},vS:function(){return o}}),function(e){e[e.FollowAndSub=0]="FollowAndSub",e[e.FollowAndSubVerbose=1]="FollowAndSubVerbose",e[e.WatchAndSub=2]="WatchAndSub"}(i||(i={})),function(e){e[e.AboveStreamInfo=0]="AboveStreamInfo",e[e.BelowStreamInfo=1]="BelowStreamInfo"}(a||(a={})),function(e){e.Once="Once",e.Always="Always"}(r||(r={})),function(e){e[e.Navigate=0]="Navigate",e[e.Modal=1]="Modal"}(o||(o={})),function(e){e.Hidden="hidden",e.Showing="showing"}(s||(s={}))},565640:function(e,n,t){"use strict";var i;t.d(n,{g:function(){return i}}),function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist",e.DRM="DRM"}(i||(i={}))},595101:function(e,n,t){"use strict";var i,a;t.d(n,{B:function(){return i}}),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.INVALID_OUTPUT="ErrorInvalidOutput",e.INTERNAL="ErrorInternal",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(i||(i={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(a||(a={}))},954978:function(e,n,t){"use strict";var i;t.d(n,{a:function(){return i}}),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.QUALITIES_CHANGED="PlayerQualitiesChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.SEGMENT_METADATA="PlayerSegmentMetadata"}(i||(i={}))},749721:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(i||(i={}))},966872:function(e,n,t){"use strict";var i,a;function r(e){return!![i.Aborted,i.Network,i.Decode].includes(e)}t.d(n,{G_:function(){return r},O4:function(){return i}}),function(e){e[e.GeoBlocked=1]="GeoBlocked",e[e.UnsupportedDevice=2]="UnsupportedDevice",e[e.AnonymizerBlocked=3]="AnonymizerBlocked",e[e.CellularNetworkProhibited=4]="CellularNetworkProhibited",e[e.UnauthorizationEntitlements=5]="UnauthorizationEntitlements",e[e.VodRestricted=6]="VodRestricted",e[e.LVSCCUCap=509]="LVSCCUCap",e[e.Aborted=1e3]="Aborted",e[e.DRMLicenseServerError=1001]="DRMLicenseServerError",e[e.Network=2e3]="Network",e[e.CCUCapReached=2001]="CCUCapReached",e[e.Decode=3e3]="Decode",e[e.FormatNotSupported=4e3]="FormatNotSupported",e[e.ContentNotAvailable=5e3]="ContentNotAvailable",e[e.DRMLicenseNotAvailable=5001]="DRMLicenseNotAvailable",e[e.RendererNotAvailable=6e3]="RendererNotAvailable",e[e.SafariUnsupportedDevice=7004]="SafariUnsupportedDevice",e[e.CDMNotAuthorized=7005]="CDMNotAuthorized",e[e.Fatal=8001]="Fatal",e[e.FatalAuth=8003]="FatalAuth",e[e.Offline=8002]="Offline",e[e.WarnAuth=8004]="WarnAuth"}(i||(i={})),function(e){e.PREMIUM_CONTENT_RESTRICTED="PREMIUM_CONTENT",e.VOD_RESTRICTED="vod_manifest_restricted"}(a||(a={}))},490725:function(e,n,t){"use strict";var i;t.d(n,{m:function(){return i}}),function(e){e.Fullscreen="fullscreen",e.Popout="popout",e.Theatre="theatre mode",e.Mini="mini",e.Default="default",e.Unknown="unknown"}(i||(i={}))},936608:function(e,n,t){"use strict";t.d(n,{LG:function(){return o}});var i=t(331635),a=t(346716),r=t(730930);function o(e){return e.videoPlayer.activeVideoPlayerInstanceRefID}a.x2.store.registerReducer("videoPlayer",(function(e,n){return void 0===e&&(e={activeVideoPlayerInstanceRefID:void 0}),n.type===r.Q?(0,i.__assign)((0,i.__assign)({},e),{activeVideoPlayerInstanceRefID:n.playerRefID}):e}))},629595:function(e,n,t){"use strict";t.d(n,{B2:function(){return o},DL:function(){return s},JN:function(){return d},tb:function(){return l}});var i=t(346716),a="lastAdDisplay",r="lastPrerollAdDisplay";function o(){return i.x2.storage.get(a,0)}function s(e){void 0===e&&(e=Date.now()),i.x2.storage.set(a,e)}function l(){return i.x2.storage.get(r,{channelId:null,time:0})}function d(e,n){void 0===n&&(n=Date.now()),i.x2.storage.set(r,{channelId:e,time:n})}},289007:function(e,n,t){"use strict";t.d(n,{$q:function(){return g},A9:function(){return v},Kk:function(){return s},Mr:function(){return f},Ni:function(){return k},U:function(){return c},Yk:function(){return S},b3:function(){return p},cW:function(){return b},cs:function(){return h},dF:function(){return _},kG:function(){return u},zM:function(){return y},zb:function(){return m}});var i=t(331635),a=t(882439),r=t(612567),o=t(118483),s="https://www.twitch.tv",l="https://clips.twitch.tv",d="https://player.twitch.tv";function u(e,n){var t={};if(((0,o.wy)(e)||(0,o.P3)(e))&&(t.video=e.vodID),(0,o.P3)(e)&&(t.collection=e.collectionID),(0,o.DG)(e)&&(t.channel=e.channelLogin),!((t=(0,i.__assign)((0,i.__assign)({},t),n)).channel||t.video||t.collection))return s;var r=a.stringify(t);return"".concat(d,"/").concat(r&&"?".concat(r))}var c=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/".concat(e.channelLogin),state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},p=function(e,n){void 0===n&&(n={});var t=c(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},m=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/videos/".concat(e.vodID),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},v=function(e,n){void 0===n&&(n={});var t=m(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},f=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,o=n.trackingContext,s=e.videoOffset?(0,r.W)(e.videoOffset):void 0;return e.vodID?{pathname:"/videos/".concat(e.vodID),search:a.stringify({t:s,collection:e.collectionID}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}:{pathname:"/collections/".concat(e.collectionID),search:a.stringify({t:s}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}},g=function(e,n){void 0===n&&(n={});var t=f(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},h=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return e.channelLogin?{pathname:"/".concat(e.channelLogin,"/clip/").concat(e.clipSlug),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}:k(e,n)},y=function(e,n){var t,i,o,l,d,u;void 0===n&&(n={});var c={tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(o=null==n?void 0:n.trackingContext)||void 0===o?void 0:o.content,tt_medium:null!==(d=null===(l=null==n?void 0:n.linkTrackingContext)||void 0===l?void 0:l.medium)&&void 0!==d?d:null===(u=null==n?void 0:n.trackingContext)||void 0===u?void 0:u.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0};return e.channelLogin?function(e,n,t){void 0===t&&(t={});var i=a.stringify(t);return"".concat(s,"/").concat(e,"/clip/").concat(n).concat(i&&"?".concat(i))}(e.channelLogin,e.clipSlug,c):S(e.clipSlug,c)},k=function(e,n){var t,i,a,o,s,l;return void 0===n&&(n={}),S(e.clipSlug,{tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(a=null==n?void 0:n.trackingContext)||void 0===a?void 0:a.content,tt_medium:null!==(s=null===(o=null==n?void 0:n.linkTrackingContext)||void 0===o?void 0:o.medium)&&void 0!==s?s:null===(l=null==n?void 0:n.trackingContext)||void 0===l?void 0:l.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0})};function S(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e).concat(t&&"?".concat(t))}function _(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e,"/edit").concat(t&&"?".concat(t))}function C(e){var n=a.parse(e.search||""),t=e.state||{},r=t.content,o=void 0===r?void 0:r,s=t.medium,l=void 0===s?void 0:s,d=(0,i.__rest)(t,["content","medium"]);return a.stringify((0,i.__assign)((0,i.__assign)((0,i.__assign)({},d),n),{tt_content:o,tt_medium:l}))}function b(e,n){if("string"==typeof e)n(e);else{var t=e.state;n((0,i.__rest)(e,["state"]),{state:t})}}},324538:function(e,n,t){"use strict";t.d(n,{F:function(){return w}});var i,a=t(331635),r=t(248573),o=t(256760),s=t(699453),l=t(280579),d=t(815750),u=t(397923),c=t(954866),p=t(722795),m=t(542762),v=t(535911),f=t(809322),g=t(637415),h=t(882439),y=t(346716),k=t(681903);!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(i||(i={}));var S=t(954978);var _,C={};function b(e,n){void 0===n&&(n=!1);var t=new URL(e,document.URL).toString();if(!n)return Promise.resolve(t);var i=C[t];return i||(C[t]=function(e){return(0,a.__awaiter)(this,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(e,{credentials:"include"})];case 1:return[4,t.sent().blob()];case 2:return n=t.sent(),[2,URL.createObjectURL(n)]}}))}))}(t))}var P,E,x={key:"cvp-log",validValues:["debug","error","info","warn"],defaultValue:"error"};!function(e){e.Base="player-core-base",e.VarA="player-core-variant-a",e.VarB="player-core-variant-b",e.VarM="player-core-variant-m"}(E||(E={}));var A=((_={})[E.Base]={baseJs:s,wasmJs:r,wasm:o,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(62506)]).then(t.t.bind(t,502019,23))}},_[E.VarA]={baseJs:u,wasmJs:l,wasm:d,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(95434)]).then(t.t.bind(t,10387,23))}},_[E.VarB]={baseJs:m,wasmJs:c,wasm:p,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(82625)]).then(t.t.bind(t,256728,23))}},_[E.VarM]={baseJs:g,wasmJs:v,wasm:f,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(92614)]).then(t.t.bind(t,508743,23))}},_),N=new Map([["debug",i.DEBUG],["error",i.ERROR],["warn",i.WARN],["info",i.INFO]]);function w(e){return(0,a.__awaiter)(this,void 0,Promise,(function(){var n,t,r,o,s,l,d,u,c,p,m,v,f,g,_,C,w;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=performance.now(),t=y.x2.store.getState(),r=!(!t.session.user||!t.session.user.roles)&&t.session.user.roles.isStaff,o=y.x2.experiments.getAndTrackAssignment(r?"TWILIGHT_PLAYER_CORE_NPM_STAFF":"TWILIGHT_PLAYER_CORE_NPM")||"",T=(o||"").match(/([^+]+)(?:\+([^+]+))?/),D=T?"player-core-".concat(T[1]):E.Base,s=D in A?D:E.Base,l={enableRemoteSearch:!0,wasmWorker:"",asmWorker:"",wasmBinary:""},[4,(d=A[s]).mediaPlayerLoader()];case 1:return u=a.sent(),P?[3,5]:u.isWasmSupported?(p=(c=u.createWorker).apply,m=[u],[4,Promise.all([b(d.wasmJs),b(d.wasm)])]):[3,3];case 2:return P=p.apply(c,m.concat([a.sent()])),[3,5];case 3:return f=(v=u.createWorker).apply,g=[u],[4,Promise.all([b(d.baseJs),b(d.wasm)])];case 4:P=f.apply(v,g.concat([a.sent()])),a.label=5;case 5:return(_=new u.MediaPlayer(l,P)).setClientId(y.x2.config.authSettings.clientID),_.setLogLevel(N.get(function(){var e,n=null===(e=h.parse(window.location.search)[x.key])||void 0===e?void 0:e.toString();if(!n||-1===x.validValues.indexOf(n))return x.defaultValue;return n}().toString())||i.ERROR),I(_,k.Rv.ivs_player_mse_in_workers_safari.id),I(_,k.Rv.ivs_player_mse_in_workers_edge.id),I(_,k.Rv.ivs_player_mse_in_workers_opera.id),I(_,k.Rv.ivs_player_probe_endpoint.id),I(_,k.Rv.ivs_player_abr_score.id),C=new Set,e.enableSuperResExperiment?r?(I(_,k.Rv.ivs_player_web_gpu_transform_staff.id),C.add(k.Rv.ivs_player_web_gpu_transform.id)):(I(_,k.Rv.ivs_player_web_gpu_transform.id),C.add(k.Rv.ivs_player_web_gpu_transform_staff.id)):(C.add(k.Rv.ivs_player_web_gpu_transform.id),C.add(k.Rv.ivs_player_web_gpu_transform_staff.id)),_.addEventListener(S.a.INITIALIZED,(function(){if("function"==typeof _.getExperiments&&"function"==typeof _.setExperiment){var e=_.getExperiments();for(var n in y.x2.experiments.addToDefaultAssignments(e),e)e.hasOwnProperty(n)&&!C.has(n)&&I(_,n)}})),w=new Promise((function(e){_.addEventListener(S.a.INITIALIZED,(function(){var t=Math.round(performance.now()-n);e(t)}))})),[2,{mediaPlayerInstance:_,playerLoadTimePromise:w,mediaPlayerHandle:u,isWasm:u.isWasmSupported}]}var T,D}))}))}function I(e,n){var t=y.x2.experiments.getExperimentById(n);null!==t&&(e.setExperimentData?e.setExperimentData(t):null!==t.assignment&&e.setExperiment(n,t.assignment))}},55195:function(e,n,t){"use strict";t.d(n,{O:function(){return a}});var i=t(763932);function a(e){return e.type||i.C.Site}},179405:function(e,n,t){"use strict";t.d(n,{Ao:function(){return v},Er:function(){return k},FC:function(){return S},Gi:function(){return A},IW:function(){return w},L:function(){return D},MC:function(){return I},S9:function(){return h},Tp:function(){return E},XF:function(){return m},Xz:function(){return g},dD:function(){return T},di:function(){return f},ei:function(){return N},fx:function(){return x},uU:function(){return _},x0:function(){return b}});var i=t(331635),a=t(346716),r=t(337930),o=t(204870),s=t(231273),l=t(207817),d=t(943210),u=t(557175),c=t(286169);function p(e){var n,t=e.playerPublicPropsContext;return n=t.type,d.o.get("video-quality",n)}function m(e,n){!function(e,n){d.o.set("video-quality",n,e.group)}(e,n),e.bitrate>0&&a.IG.set(u.U.BITRATE,e.bitrate)}function v(){return a.IG.getOptional(u.U.BITRATE)}function f(){a.IG.set(o.A8,Date.now())}function g(e){return void 0===e&&(e=0),a.IG.get(o.A8,e)}function h(e,n){if(void 0===n&&(n=!1),0===e.length)return[];if(n){var t=e[0],i=t.frameRate,a=t.sourceURL;return[{bitrate:0,codecs:"",framerate:i||0,group:l.w,height:0,isDefault:!1,name:y(t),source:a,width:0}]}return e.map((function(e){return{bitrate:0,codecs:"",framerate:e.frameRate||0,group:(n=e,"".concat(y(n)).concat(n.frameRate)),height:0,isDefault:!1,name:y(e),source:e.sourceURL,width:0};var n}))}function y(e){return"p"===e.quality.trim().slice(-1)?e.quality:"".concat(e.quality,"p")}function k(e){var n=e.getQualities();return(0,i.__spreadArray)([o.IJ],n,!0)}function S(e){return(0,r.fX)("uq_ui")&&e.getUnavailableQualities&&e.getUnavailableQualities()||[]}function _(e){return function(e,n){return C(function(e){return e.availableQualities}(n),e)}(e.quality,e)||o.IJ}function C(e,n){return e.find((function(e){return e.group===n}))}function b(e){return(0,c.wk)(e).forceQuality||(0,c.wk)(e).initialQuality||p(e)||s.Sw.quality}function P(e,n){return{quality:e,strategy:n}}function E(e,n,t,i){var a=C(e,n);if(a)return P(a,"matching");if(i){var r=parseInt(n,10),o=e.slice().reverse().find((function(e){return parseInt(e.group,10)>r}));return o?P(o,"closest"):P(e[0],"highest")}var s=e.concat().sort((function(e,n){return n.bitrate-e.bitrate})),l=s.find((function(e){return e.bitrate<t}));return l?P(l,"closest"):P(s[s.length-1],"lowest")}function x(e,n){(0,n.updateContext)({quality:e.group,qualityBitrate:e.bitrate})}function A(e){return void 0!==e.source}function N(e){var n=e.width*e.height;return n>=4096e3?"4k":n>=2304e3?"2k":n>=1024e3?"fullHD":n>=921600?"HD":"SD"}function w(e,n){return"2k"!==n&&"4k"!==n||(e.startsWith("hev1")||e.startsWith("hvc1"))}function I(e){return e.hasOwnProperty("filterReasons")}var T=["2k","4k"];function D(e){return e.group===l.w}},334315:function(e,n,t){"use strict";function i(e){return e?{height:e.clientHeight,width:e.clientWidth}:{}}function a(e){if(e){var n=e.getBoundingClientRect(),t=n.top;return{x:n.left,y:t,width:n.width,height:n.height}}return{}}t.d(n,{G:function(){return a},P:function(){return i}})},664213:function(e,n,t){"use strict";t.d(n,{y:function(){return r}});var i=t(490725),a=t(763932);function r(e){return e.isFullscreen?i.m.Fullscreen:e.playerType&&e.playerType===a.C.Popout?i.m.Popout:e.theatreModeEnabled?i.m.Theatre:e.mini?i.m.Mini:e.playerType&&e.playerType===a.C.Site?i.m.Default:i.m.Unknown}},386864:function(e,n,t){"use strict";t.d(n,{M:function(){return d},X:function(){return l}});var i=t(331635),a=t(346716),r=t(472944),o=t(56612),s=t.n(o),l=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!0,login:e,playerType:n})]}))}))},d=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!1,vodID:e,playerType:n})]}))}))};function u(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,o,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.x2.apollo.client.query({query:s(),fetchPolicy:"no-cache",variables:{isLive:e.live,login:e.live&&e.login||"",isVod:!e.live,vodID:!e.live&&e.vodID||"",playerType:e.playerType,platform:(0,r.R)()}})];case 1:return n=i.sent(),t=null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.streamPlaybackAccessToken,o=null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.videoPlaybackAccessToken,e.live&&t?[2,{token:t.value,sig:t.signature,authorization:t.authorization,mobile_restricted:!1}]:!e.live&&o?[2,{token:o.value,sig:o.signature,mobile_restricted:!1}]:[3,3];case 2:return l=i.sent(),a.x2.logger.warn("Received an error while fetching PlaybackAccessToken from GQL",l),[3,3];case 3:return[2]}}))}))}},106886:function(e,n,t){"use strict";t.d(n,{Mx:function(){return s},X5:function(){return o},e3:function(){return v},ic:function(){return d},jN:function(){return l}});var i=t(346716),a=t(763932),r={};var o=u(p),s=u(m),l=c(p),d=c(m);function u(e){return function(n,t){var o=e(n,t),s=r[o],l=t===a.C.Site||t===a.C.SiteMini;if(o.startsWith("live")&&l){var d=i.x2.vat.getCachedToken({type:"live",channel:n});if(d)return d}if(s)try{var u=JSON.parse(s.token);return Date.now()>=1e3*u.expires?void delete r[o]:s}catch(e){return void delete r[o]}}}function c(e){return function(n,t,i){r[e(n,t)]=i}}function p(e,n){return"live-".concat(n,"-").concat(e)}function m(e,n){return"vod-".concat(n,"-").concat(e)}function v(){var e;r=e||{}}},510744:function(e,n,t){"use strict";t.d(n,{l:function(){return c},P:function(){return f}});var i=t(331635),a=t(267924),r=t(472944),o=t(386864),s=t(106886),l=u("live"),d=u("vod");function u(e){var n=this;return function(t,a,r){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return window.__vat&&window.__vat.contentType===e&&window.__vat.playerType===a&&window.__vat.id===t&&window.__vat.platform===r?[4,window.__vat.request]:[3,5];case 1:if(!(n=i.sent()).ok||n.bodyUsed)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.json()];case 3:return o=i.sent(),[2,{mobile_restricted:!1,sig:(s="live"===e?o.data.streamPlaybackAccessToken:o.data.videoPlaybackAccessToken).signature,token:s.value,authorization:s.authorization}];case 4:return i.sent(),[2];case 5:return[2]}}))}))}}function c(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return e.channelLogin?[2,p(e.channelLogin,e.playerType,e.refreshAccessToken)]:e.vodID?[2,m(e.vodID,e.playerType,e.refreshAccessToken)]:[2]}))}))}var p=v({get:s.X5,set:s.jN},l,o.X),m=v({get:s.Mx,set:s.ic},d,o.M);function v(e,n,t){var a=this;return function(o,s,l){return(0,i.__awaiter)(a,void 0,void 0,(function(){var a,d,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(a=e.get(o,s))&&!l?[2,a]:(d=(0,r.R)(),[4,n(o,s,d)]);case 1:return(u=i.sent())&&!l?(e.set(o,s,u),[2,u]):[4,t(o,s,d)];case 2:return(c=i.sent())?(e.set(o,s,c),[2,c]):[2]}}))}))}}var f=function(e){var n;if(null===(n=e.authorization)||void 0===n?void 0:n.isForbidden){var t=e.authorization.forbiddenReasonCode;return t===a.Xaf.UNAUTHORIZED||t===a.Xaf.CHANNEL_RESTRICTED_BANNED_USER}return!1}},471090:function(e,n,t){"use strict";t.d(n,{BZ:function(){return l},CD:function(){return m},Gd:function(){return r},Qf:function(){return u},Qq:function(){return g},Tz:function(){return o},WZ:function(){return c},a8:function(){return v},cc:function(){return s},g:function(){return h},mB:function(){return p},wh:function(){return i},wv:function(){return d},zd:function(){return f}});var i,a=t(376347),r=100,o=20,s=50,l="https://help.twitch.tv/s/article/watch-parties",d=3,u="515467",c="watch-parties",p="https://www.amazon.com/gp/video/storefront?filterId=OFFER_FILTER%3DPRIME",m="dvm_tch_wtp_us_cd_s_signup",v="https://primevideo.com",f={disableDoubleClickFullscreen:!0,disableFullscreen:!0,disableKeyboardShortcuts:!0,disablePopoutPlayer:!0,disableStatusIndicator:!0,disableStatusOverlay:!0,disableSettingsMenuButton:!0,disableTheatreMode:!0,disableUserPreferencePersistence:!1,disableWhispersCompatability:!0,enableExtensions:!1,forceQuality:a._6.Low,initialMuted:{enabled:!0,showOverlay:!0,overlayDuration:1/0}},g=5,h="https://www.primevideo.com/help?nodeId=202095490&view-type=content-only";!function(e){e.USER_NOT_PRIME="USER_NOT_PRIME",e.GEO_RESTRICTED="GEO_RESTRICTED"}(i||(i={}))},957139:function(e,n,t){"use strict";t.d(n,{Lw:function(){return g},Ng:function(){return A},Op:function(){return h},PU:function(){return N},SN:function(){return x},Sv:function(){return w},TM:function(){return y},Y0:function(){return E},_b:function(){return k},mu:function(){return _},rN:function(){return v},rs:function(){return f},y2:function(){return I},yo:function(){return P},zY:function(){return b},zn:function(){return S}});var i=t(331635),a=t(973421),r=t.n(a),o=t(346716),s=t(503472),l=t(214120),d=t(267924),u=t(957573),c=t(471090),p=t(604499),m=t.n(p),v=function(){return o.Zn.get("cf_jim_faxes_from_the_future",0)},f=function(){return o.Zn.get("cf_wp_retry_count",0)},g=function(e){return h(null==e?void 0:e.state)},h=function(e){return!(!e||e===d.DbI.OFFLINE||e===d.DbI.UNKNOWN)},y=function(e){return e&&e.isValid},k=function(e,n){return n===d.H2J.GEO_RESTRICTED||!!(null==e?void 0:e.self)&&(!e.self.eligibility.canView&&e.self.eligibility.reason===c.wh.GEO_RESTRICTED)},S=function(e){return e===d.LTh.BROAD_AVAILABILITY};function _(e,n){return null===e||e<0?0:n&&e>n?n:e}var C=function(e){return r()(e,(function(e){return(0,i.__assign)((0,i.__assign)({},e),{state:d.DbI.OFFLINE})}))},b=function(e){void 0===e&&(e=window.navigator.userAgent);return/(android[\w\.\s\-]{0,9});.+build/i.test(e)||/version\/([\w\.]+).+?(mobile\s?safari|safari)/i.test(e)},P=function(e){return e===c.Qf};function E(e,n){if(e===d.DbI.IN_PROGRESS&&n&&n.durationSeconds>0&&n.positionSeconds>0){var t=n.positionSeconds/n.durationSeconds;return Math.min(t,1)}return 0}var x=function(e){return"/".concat(e)},A=function(e){var n=(0,s.G5)(e);n&&(0,s.WY)({id:n,fragment:m(),fragmentName:"watchPartySession",mutator:C})},N=function(e){var n=window.location.pathname.substring(1);return(0,u.r3)(c.CD,n,e)},w=function(e){return e?{linkTo:"".concat(e,"#customer-review-section"),targetBlank:!0}:null},I=function(e){return(0,l.yT)((null!=e?e:1e4)/2e3*1e3)}},599534:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(296540);function a(e,n){void 0===n&&(n=1e3);var t=(0,i.useState)(r(o(e))),a=t[0],s=t[1];return(0,i.useEffect)((function(){s(r(o(e)));var t=setInterval((function(){s(r(o(e)))}),n);return function(){return clearInterval(t)}}),[e,n]),Math.round(a/1e3)}function r(e){return o(new Date)-e}function o(e){return new Date(e.toUTCString()).getTime()}},532083:function(e,n,t){"use strict";t.d(n,{E:function(){return u}});var i=t(145748),a=t(783321),r=t(982821),o=t(456450),s=t(681234),l=t.n(s),d=t(957139);function u(e,n){var t,s,u,c,p,m,v=(0,a.IT)(l(),{variables:{channelLogin:e||""},skip:!e||n,fetchPolicy:"network-only"}),f=v.data,g=v.loading,h=null!==(s=null===(t=null==f?void 0:f.user)||void 0===t?void 0:t.id)&&void 0!==s?s:null,y=(0,i.D)(h?(0,o.Tv)(h):"",{skip:!h||n,skipMessage:function(e){return e.type!==r.PD.PrimeVideoWatchPartyStateUpdate}})[0],k=null===(p=null===(c=null===(u=null==f?void 0:f.user)||void 0===u?void 0:u.watchParty)||void 0===c?void 0:c.session)||void 0===p?void 0:p.state;y&&(m=y.data.state);var S=!1;return m?S=(0,d.Op)(m):k&&(S=(0,d.Op)(k)),g&&(S=!1,m=void 0,k=void 0),{isHostingWatchParty:S,watchPartyStateFromPubsub:m,watchPartyStateFromGQL:k}}},265430:function(e,n,t){"use strict";function i(){return Promise.all([t.e(5647),t.e(78025)]).then(t.bind(t,705647))}function a(e,n){var t=function(e){return Array.from(e.normalize?e.normalize("NFC"):e)}(e);return t.length<=n?e:"".concat(t.slice(0,n-3).join("").trim(),"...")}t.d(n,{W:function(){return a},f:function(){return i}})},319224:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var i=t(415044),a=function(){return(0,i.d4)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id}))}}}]);